"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[1611],{3400:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>g,toc:()=>p});var n=a(4848),s=a(8453),i=a(4235),r=a(8328);a(3078);const l={id:"pom",title:"\u9801\u9762\u7269\u4ef6\u6a21\u578b"},o=void 0,g={id:"pom",title:"\u9801\u9762\u7269\u4ef6\u6a21\u578b",description:"\u7c21\u4ecb",source:"@site/versioned_docs/version-stable/pom.mdx",sourceDirName:".",slug:"/pom",permalink:"/docs/pom",draft:!1,unlisted:!1,tags:[],version:"stable",frontMatter:{id:"pom",title:"\u9801\u9762\u7269\u4ef6\u6a21\u578b"},sidebar:"docs",previous:{title:"\u5176\u4ed6\u5b9a\u4f4d\u5668",permalink:"/docs/other-locators"},next:{title:"\u9801\u9762",permalink:"/docs/pages"}},c={},p=[{value:"\u7c21\u4ecb",id:"\u7c21\u4ecb",level:2},{value:"\u5be6\u4f5c",id:"\u5be6\u4f5c",level:2}];function d(e){const t={code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.h2,{id:"\u7c21\u4ecb",children:"\u7c21\u4ecb"}),"\n",(0,n.jsx)(t.p,{children:"\u5927\u578b\u6e2c\u8a66\u5957\u4ef6\u53ef\u4ee5\u7d50\u69cb\u5316\u4ee5\u512a\u5316\u7de8\u5beb\u548c\u7dad\u8b77\u7684\u4fbf\u5229\u6027\u3002\u9801\u9762\u7269\u4ef6\u6a21\u578b\u662f\u7d50\u69cb\u5316\u6e2c\u8a66\u5957\u4ef6\u7684\u4e00\u7a2e\u65b9\u6cd5\u3002"}),"\n",(0,n.jsx)(t.p,{children:"\u4e00\u500b\u9801\u9762\u7269\u4ef6\u4ee3\u8868\u60a8\u7684\u7db2\u9801\u61c9\u7528\u7a0b\u5f0f\u7684\u4e00\u90e8\u5206\u3002\u4e00\u500b\u96fb\u5b50\u5546\u52d9\u7db2\u9801\u61c9\u7528\u7a0b\u5f0f\u53ef\u80fd\u6709\u4e00\u500b\u9996\u9801\u3001\u4e00\u500b\u5217\u8868\u9801\u548c\u4e00\u500b\u7d50\u5e33\u9801\u3002\u6bcf\u500b\u9801\u9762\u90fd\u53ef\u4ee5\u7531\u9801\u9762\u7269\u4ef6\u6a21\u578b\u8868\u793a\u3002"}),"\n",(0,n.jsxs)(t.p,{children:["Page \u7269\u4ef6",(0,n.jsx)(t.strong,{children:"\u7c21\u5316\u64b0\u5beb"}),"\uff0c\u900f\u904e\u5efa\u7acb\u9069\u5408\u60a8\u7684\u61c9\u7528\u7a0b\u5f0f\u7684\u9ad8\u968e API\uff0c\u4e26\u4e14",(0,n.jsx)(t.strong,{children:"\u7c21\u5316\u7dad\u8b77"}),"\uff0c\u5c07\u5143\u7d20\u9078\u64c7\u5668\u96c6\u4e2d\u5728\u4e00\u8655\u4e26\u5efa\u7acb\u53ef\u91cd\u8907\u4f7f\u7528\u7684\u7a0b\u5f0f\u78bc\u4ee5\u907f\u514d\u91cd\u8907\u3002"]}),"\n",(0,n.jsx)(t.h2,{id:"\u5be6\u4f5c",children:"\u5be6\u4f5c"}),"\n",(0,n.jsxs)(t.p,{children:["\u6211\u5011\u5c07\u5efa\u7acb\u4e00\u500b ",(0,n.jsx)(t.code,{children:"PlaywrightDevPage"})," \u8f14\u52a9\u985e\u5225\u4f86\u5c01\u88dd\u5728 ",(0,n.jsx)(t.code,{children:"playwright.dev"})," \u9801\u9762\u4e0a\u7684\u5e38\u898b\u64cd\u4f5c\u3002\u5167\u90e8\u5c07\u4f7f\u7528 ",(0,n.jsx)(t.code,{children:"page"})," \u7269\u4ef6\u3002"]}),"\n",(0,n.jsxs)(i.A,{groupId:"js-flavor",defaultValue:"ts",values:[{label:"TypeScript",value:"ts"},{label:"JavaScript",value:"js"},{label:"\u51fd\u5f0f\u5eab",value:"library"}],children:[(0,n.jsx)(r.A,{value:"ts",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",metastring:'title="playwright-dev-page.ts"',children:"import { expect, type Locator, type Page } from '@playwright/test';\n\nexport class PlaywrightDevPage {\n  readonly page: Page;\n  readonly getStartedLink: Locator;\n  readonly gettingStartedHeader: Locator;\n  readonly pomLink: Locator;\n  readonly tocList: Locator;\n\n  constructor(page: Page) {\n    this.page = page;\n    this.getStartedLink = page.locator('a', { hasText: 'Get started' });\n    this.gettingStartedHeader = page.locator('h1', { hasText: 'Installation' });\n    this.pomLink = page.locator('li', {\n      hasText: 'Guides',\n    }).locator('a', {\n      hasText: 'Page Object Model',\n    });\n    this.tocList = page.locator('article div.markdown ul > li > a');\n  }\n\n  async goto() {\n    await this.page.goto('https://playwright.dev');\n  }\n\n  async getStarted() {\n    await this.getStartedLink.first().click();\n    await expect(this.gettingStartedHeader).toBeVisible();\n  }\n\n  async pageObjectModel() {\n    await this.getStarted();\n    await this.pomLink.click();\n  }\n}\n"})})}),(0,n.jsx)(r.A,{value:"js",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",metastring:'title="playwright-dev-page.js"',children:"const { expect } = require('@playwright/test');\n\nexports.PlaywrightDevPage = class PlaywrightDevPage {\n\n  /**\n   * @param {import('@playwright/test').Page} page\n   */\n  constructor(page) {\n    this.page = page;\n    this.getStartedLink = page.locator('a', { hasText: 'Get started' });\n    this.gettingStartedHeader = page.locator('h1', { hasText: 'Installation' });\n    this.pomLink = page.locator('li', {\n      hasText: 'Guides',\n    }).locator('a', {\n      hasText: 'Page Object Model',\n    });\n    this.tocList = page.locator('article div.markdown ul > li > a');\n  }\n\n  async goto() {\n    await this.page.goto('https://playwright.dev');\n  }\n\n  async getStarted() {\n    await this.getStartedLink.first().click();\n    await expect(this.gettingStartedHeader).toBeVisible();\n  }\n\n  async pageObjectModel() {\n    await this.getStarted();\n    await this.pomLink.click();\n  }\n};\n"})})}),(0,n.jsx)(r.A,{value:"library",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",metastring:'title="models/PlaywrightDevPage.js"',children:"class PlaywrightDevPage {\n  /**\n   * @param {import('playwright').Page} page\n   */\n  constructor(page) {\n    this.page = page;\n    this.getStartedLink = page.locator('a', { hasText: 'Get started' });\n    this.gettingStartedHeader = page.locator('h1', { hasText: 'Installation' });\n    this.pomLink = page.locator('li', {\n      hasText: 'Playwright Test',\n    }).locator('a', {\n      hasText: 'Page Object Model',\n    });\n    this.tocList = page.locator('article div.markdown ul > li > a');\n  }\n  async getStarted() {\n    await this.getStartedLink.first().click();\n    await expect(this.gettingStartedHeader).toBeVisible();\n  }\n\n  async pageObjectModel() {\n    await this.getStarted();\n    await this.pomLink.click();\n  }\n}\nmodule.exports = { PlaywrightDevPage };\n"})})})]}),"\n",(0,n.jsxs)(t.p,{children:["\u73fe\u5728\u6211\u5011\u53ef\u4ee5\u5728\u6e2c\u8a66\u4e2d\u4f7f\u7528 ",(0,n.jsx)(t.code,{children:"PlaywrightDevPage"})," \u985e\u5225\u3002"]}),"\n",(0,n.jsxs)(i.A,{groupId:"js-flavor",defaultValue:"ts",values:[{label:"TypeScript",value:"ts"},{label:"JavaScript",value:"js"},{label:"\u51fd\u5f0f\u5eab",value:"library"}],children:[(0,n.jsx)(r.A,{value:"ts",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",metastring:'title="example.spec.ts"',children:"import { test, expect } from '@playwright/test';\nimport { PlaywrightDevPage } from './playwright-dev-page';\n\ntest('getting started should contain table of contents', async ({ page }) => {\n  const playwrightDev = new PlaywrightDevPage(page);\n  await playwrightDev.goto();\n  await playwrightDev.getStarted();\n  await expect(playwrightDev.tocList).toHaveText([\n    `How to install Playwright`,\n    `What's Installed`,\n    `How to run the example test`,\n    `How to open the HTML test report`,\n    `Write tests using web first assertions, page fixtures and locators`,\n    `Run single test, multiple tests, headed mode`,\n    `Generate tests with Codegen`,\n    `See a trace of your tests`\n  ]);\n});\n\ntest('should show Page Object Model article', async ({ page }) => {\n  const playwrightDev = new PlaywrightDevPage(page);\n  await playwrightDev.goto();\n  await playwrightDev.pageObjectModel();\n  await expect(page.locator('article')).toContainText('Page Object Model is a common pattern');\n});\n"})})}),(0,n.jsx)(r.A,{value:"js",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",metastring:'title="example.spec.js"',children:"const { test, expect } = require('@playwright/test');\nconst { PlaywrightDevPage } = require('./playwright-dev-page');\n\ntest('getting started should contain table of contents', async ({ page }) => {\n  const playwrightDev = new PlaywrightDevPage(page);\n  await playwrightDev.goto();\n  await playwrightDev.getStarted();\n  await expect(playwrightDev.tocList).toHaveText([\n    `How to install Playwright`,\n    `What's Installed`,\n    `How to run the example test`,\n    `How to open the HTML test report`,\n    `Write tests using web first assertions, page fixtures and locators`,\n    `Run single test, multiple tests, headed mode`,\n    `Generate tests with Codegen`,\n    `See a trace of your tests`\n  ]);\n});\n\ntest('should show Page Object Model article', async ({ page }) => {\n  const playwrightDev = new PlaywrightDevPage(page);\n  await playwrightDev.goto();\n  await playwrightDev.pageObjectModel();\n  await expect(page.locator('article')).toContainText('Page Object Model is a common pattern');\n});\n"})})}),(0,n.jsx)(r.A,{value:"library",children:(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-js",metastring:'title="example.spec.js"',children:"const { PlaywrightDevPage } = require('./playwright-dev-page');\n\n// In the test\nconst page = await browser.newPage();\nawait playwrightDev.goto();\nawait playwrightDev.getStarted();\nawait expect(playwrightDev.tocList).toHaveText([\n  `How to install Playwright`,\n  `What's Installed`,\n  `How to run the example test`,\n  `How to open the HTML test report`,\n  `Write tests using web first assertions, page fixtures and locators`,\n  `Run single test, multiple tests, headed mode`,\n  `Generate tests with Codegen`,\n  `See a trace of your tests`\n]);\n"})})})]})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);