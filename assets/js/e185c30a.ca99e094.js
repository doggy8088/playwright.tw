"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[1799],{5359:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>g,frontMatter:()=>o,metadata:()=>p,toc:()=>c});var a=t(4848),s=t(8453);t(4235),t(8328),t(3078);const o={id:"pages",title:"Pages"},i=void 0,p={id:"pages",title:"Pages",description:"Pages",source:"@site/docs/pages.mdx",sourceDirName:".",slug:"/pages",permalink:"/docs/next/pages",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"pages",title:"Pages"},sidebar:"docs",previous:{title:"Page object models",permalink:"/docs/next/pom"},next:{title:"Screenshots",permalink:"/docs/next/screenshots"}},l={},c=[{value:"Pages",id:"pages",level:2},{value:"Multiple pages",id:"multiple-pages",level:2},{value:"Handling new pages",id:"handling-new-pages",level:2},{value:"Handling popups",id:"handling-popups",level:2}];function r(e){const n={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"pages",children:"Pages"}),"\n",(0,a.jsxs)(n.p,{children:["Each ",(0,a.jsx)(n.a,{href:"/docs/next/api/class-browsercontext",title:"BrowserContext",children:"BrowserContext"})," can have multiple pages. A ",(0,a.jsx)(n.a,{href:"/docs/next/api/class-page",title:"Page",children:"Page"})," refers to a single tab or a popup window within a browser context. It should be used to navigate to URLs and interact with the page content."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// Create a page.\nconst page = await context.newPage();\n\n// Navigate explicitly, similar to entering a URL in the browser.\nawait page.goto('http://example.com');\n// Fill an input.\nawait page.locator('#search').fill('query');\n\n// Navigate implicitly by clicking a link.\nawait page.locator('#submit').click();\n// Expect a new url.\nconsole.log(page.url());\n"})}),"\n",(0,a.jsx)(n.h2,{id:"multiple-pages",children:"Multiple pages"}),"\n",(0,a.jsx)(n.p,{children:"Each browser context can host multiple pages (tabs)."}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Each page behaves like a focused, active page. Bringing the page to front is not required."}),"\n",(0,a.jsx)(n.li,{children:"Pages inside a context respect context-level emulation, like viewport sizes, custom network routes or browser locale."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// Create two pages\nconst pageOne = await context.newPage();\nconst pageTwo = await context.newPage();\n\n// Get pages of a browser context\nconst allPages = context.pages();\n"})}),"\n",(0,a.jsx)(n.h2,{id:"handling-new-pages",children:"Handling new pages"}),"\n",(0,a.jsxs)(n.p,{children:["The ",(0,a.jsx)(n.code,{children:"page"})," event on browser contexts can be used to get new pages that are created in the context. This can be used to handle new pages opened by ",(0,a.jsx)(n.code,{children:'target="_blank"'})," links."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// Start waiting for new page before clicking. Note no await.\nconst pagePromise = context.waitForEvent('page');\nawait page.getByText('open new tab').click();\nconst newPage = await pagePromise;\n// Interact with the new page normally.\nawait newPage.getByRole('button').click();\nconsole.log(await newPage.title());\n"})}),"\n",(0,a.jsx)(n.p,{children:"If the action that triggers the new page is unknown, the following pattern can be used."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// Get all new pages (including popups) in the context\ncontext.on('page', async page => {\n  await page.waitForLoadState();\n  console.log(await page.title());\n});\n"})}),"\n",(0,a.jsx)(n.h2,{id:"handling-popups",children:"Handling popups"}),"\n",(0,a.jsxs)(n.p,{children:["If the page opens a pop-up (e.g. pages opened by ",(0,a.jsx)(n.code,{children:'target="_blank"'})," links), you can get a reference to it by listening to the ",(0,a.jsx)(n.code,{children:"popup"})," event on the page."]}),"\n",(0,a.jsxs)(n.p,{children:["This event is emitted in addition to the ",(0,a.jsx)(n.code,{children:"browserContext.on('page')"})," event, but only for popups relevant to this page."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// Start waiting for popup before clicking. Note no await.\nconst popupPromise = page.waitForEvent('popup');\nawait page.getByText('open the popup').click();\nconst popup = await popupPromise;\n// Interact with the new popup normally.\nawait popup.getByRole('button').click();\nconsole.log(await popup.title());\n"})}),"\n",(0,a.jsx)(n.p,{children:"If the action that triggers the popup is unknown, the following pattern can be used."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-js",children:"// Get all popups when they open\npage.on('popup', async popup => {\n  await popup.waitForLoadState();\n  console.log(await popup.title());\n});\n"})})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(r,{...e})}):r(e)}}}]);