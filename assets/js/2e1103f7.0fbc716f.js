"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[4936],{8807:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var n=t(4848),r=t(8453);t(4235),t(8328),t(3078);const i={id:"class-fixtures",title:"Fixtures"},a=void 0,o={id:"api/class-fixtures",title:"Fixtures",description:"Playwright Test is based on the concept of the test fixtures. Test fixtures are used to establish environment for each test, giving the test everything it needs and nothing else.",source:"@site/docs/api/class-fixtures.mdx",sourceDirName:"api",slug:"/api/class-fixtures",permalink:"/docs/next/api/class-fixtures",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"class-fixtures",title:"Fixtures"},sidebar:"api",previous:{title:"SnapshotAssertions",permalink:"/docs/next/api/class-snapshotassertions"},next:{title:"FullConfig",permalink:"/docs/next/api/class-fullconfig"}},l={},c=[{value:"Properties",id:"properties",level:2},{value:"browser",id:"fixtures-browser",level:3},{value:"browserName",id:"fixtures-browser-name",level:3},{value:"context",id:"fixtures-context",level:3},{value:"page",id:"fixtures-page",level:3},{value:"request",id:"fixtures-request",level:3}];function x(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s.p,{children:["Playwright Test is based on the concept of the ",(0,n.jsx)(s.a,{href:"/docs/next/test-fixtures",children:"test fixtures"}),". Test fixtures are used to establish environment for each test, giving the test everything it needs and nothing else."]}),"\n",(0,n.jsxs)(s.p,{children:["Playwright Test looks at each test declaration, analyses the set of fixtures the test needs and prepares those fixtures specifically for the test. Values prepared by the fixtures are merged into a single object that is available to the ",(0,n.jsx)(s.code,{children:"test"}),", hooks, annotations and other fixtures as a first parameter."]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"import { test, expect } from '@playwright/test';\n\ntest('basic test', async ({ page }) => {\n  // ...\n});\n"})}),"\n",(0,n.jsxs)(s.p,{children:["Given the test above, Playwright Test will set up the ",(0,n.jsx)(s.code,{children:"page"})," fixture before running the test, and tear it down after the test has finished. ",(0,n.jsx)(s.code,{children:"page"})," fixture provides a ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-page",title:"Page",children:"Page"})," object that is available to the test."]}),"\n",(0,n.jsxs)(s.p,{children:["Playwright Test comes with builtin fixtures listed below, and you can add your own fixtures as well. Playwright Test also ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-testoptions",title:"TestOptions",children:"provides options"})," to  configure ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-fixtures#fixtures-browser",children:"fixtures.browser"}),", ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-fixtures#fixtures-context",children:"fixtures.context"})," and ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-fixtures#fixtures-page",children:"fixtures.page"}),"."]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(s.h3,{id:"fixtures-browser",children:"browser"}),"\n",(0,n.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.10"}),"\n",(0,n.jsx)("x-search",{children:"fixtures.browser"}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.a,{href:"/docs/next/api/class-browser",title:"Browser",children:"Browser"})," instance is shared between all tests in the ",(0,n.jsx)(s.a,{href:"/docs/next/test-parallel",children:"same worker"})," - this makes testing efficient. However, each test runs in an isolated ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-browsercontext",title:"BrowserContext",children:"BrowserContext"}),"  and gets a fresh environment."]}),"\n",(0,n.jsxs)(s.p,{children:["Learn how to ",(0,n.jsx)(s.a,{href:"/docs/next/test-configuration",children:"configure browser"})," and see ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-testoptions",title:"TestOptions",children:"available options"}),"."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Usage"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"test.beforeAll(async ({ browser }) => {\n  const page = await browser.newPage();\n  // ...\n});\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Type"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/docs/next/api/class-browser",title:"Browser",children:"Browser"})}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"fixtures-browser-name",children:"browserName"}),"\n",(0,n.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.10"}),"\n",(0,n.jsx)("x-search",{children:"fixtures.browserName"}),"\n",(0,n.jsxs)(s.p,{children:["Name of the browser that runs tests. Defaults to ",(0,n.jsx)(s.code,{children:"'chromium'"}),". Useful to ",(0,n.jsx)(s.a,{href:"/docs/next/test-annotations",children:"annotate tests"})," based on the browser."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Usage"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"test('skip this test in Firefox', async ({ page, browserName }) => {\n  test.skip(browserName === 'firefox', 'Still working on it');\n  // ...\n});\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Type"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:'"chromium" | "firefox" | "webkit"'}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"fixtures-context",children:"context"}),"\n",(0,n.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.10"}),"\n",(0,n.jsx)("x-search",{children:"fixtures.context"}),"\n",(0,n.jsxs)(s.p,{children:["Isolated ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-browsercontext",title:"BrowserContext",children:"BrowserContext"})," instance, created for each test. Since contexts are isolated between each other, every test gets a fresh environment, even when multiple tests run in a single ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-browser",title:"Browser",children:"Browser"})," for maximum efficiency."]}),"\n",(0,n.jsxs)(s.p,{children:["Learn how to ",(0,n.jsx)(s.a,{href:"/docs/next/test-configuration",children:"configure context"})," and see ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-testoptions",title:"TestOptions",children:"available options"}),"."]}),"\n",(0,n.jsxs)(s.p,{children:["Default ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-fixtures#fixtures-page",children:"fixtures.page"})," belongs to this context."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Usage"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"test('example test', async ({ page, context }) => {\n  await context.route('*external.com/*', route => route.abort());\n  // ...\n});\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Type"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/docs/next/api/class-browsercontext",title:"BrowserContext",children:"BrowserContext"})}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"fixtures-page",children:"page"}),"\n",(0,n.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.10"}),"\n",(0,n.jsx)("x-search",{children:"fixtures.page"}),"\n",(0,n.jsxs)(s.p,{children:["Isolated ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-page",title:"Page",children:"Page"})," instance, created for each test. Pages are isolated between tests due to ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-fixtures#fixtures-context",children:"fixtures.context"})," isolation."]}),"\n",(0,n.jsx)(s.p,{children:"This is the most common fixture used in a test."}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Usage"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"import { test, expect } from '@playwright/test';\n\ntest('basic test', async ({ page }) => {\n  await page.goto('/signin');\n  await page.getByLabel('User Name').fill('user');\n  await page.getByLabel('Password').fill('password');\n  await page.getByText('Sign in').click();\n  // ...\n});\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Type"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/docs/next/api/class-page",title:"Page",children:"Page"})}),"\n"]}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"fixtures-request",children:"request"}),"\n",(0,n.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.10"}),"\n",(0,n.jsx)("x-search",{children:"fixtures.request"}),"\n",(0,n.jsxs)(s.p,{children:["Isolated ",(0,n.jsx)(s.a,{href:"/docs/next/api/class-apirequestcontext",title:"APIRequestContext",children:"APIRequestContext"})," instance for each test."]}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Usage"})}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"import { test, expect } from '@playwright/test';\n\ntest('basic test', async ({ request }) => {\n  await request.post('/signin', {\n    data: {\n      username: 'user',\n      password: 'password'\n    }\n  });\n  // ...\n});\n"})}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Type"})}),"\n",(0,n.jsxs)(s.ul,{children:["\n",(0,n.jsx)(s.li,{children:(0,n.jsx)(s.a,{href:"/docs/next/api/class-apirequestcontext",title:"APIRequestContext",children:"APIRequestContext"})}),"\n"]})]})}function d(e={}){const{wrapper:s}={...(0,r.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(x,{...e})}):x(e)}}}]);