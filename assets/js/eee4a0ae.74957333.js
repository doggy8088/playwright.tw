"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[1743],{8308:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>g,frontMatter:()=>r,metadata:()=>c,toc:()=>h});var s=n(4848),i=n(8453),a=n(4235),l=n(8328);n(3078);const r={id:"emulation",title:"\u6a21\u64ec"},o=void 0,c={id:"emulation",title:"\u6a21\u64ec",description:"\u7c21\u4ecb",source:"@site/versioned_docs/version-stable/emulation.mdx",sourceDirName:".",slug:"/emulation",permalink:"/docs/emulation",draft:!1,unlisted:!1,tags:[],version:"stable",frontMatter:{id:"emulation",title:"\u6a21\u64ec"},sidebar:"docs",previous:{title:"\u547d\u4ee4\u5217",permalink:"/docs/test-cli"},next:{title:"\u56fa\u5b9a\u88dd\u7f6e",permalink:"/docs/test-fixtures"}},d={},h=[{value:"\u7c21\u4ecb",id:"\u7c21\u4ecb",level:2},{value:"\u88dd\u7f6e",id:"\u88dd\u7f6e",level:2},{value:"\u8996\u53e3 (Viewport)",id:"\u8996\u53e3-viewport",level:2},{value:"isMobile",id:"ismobile",level:2},{value:"Locale &amp; Timezone",id:"locale--timezone",level:2},{value:"\u6b0a\u9650",id:"\u6b0a\u9650",level:2},{value:"\u5730\u7406\u4f4d\u7f6e",id:"\u5730\u7406\u4f4d\u7f6e",level:2},{value:"\u8272\u5f69\u65b9\u6848\u548c\u5a92\u9ad4",id:"\u8272\u5f69\u65b9\u6848\u548c\u5a92\u9ad4",level:2},{value:"\u4f7f\u7528\u8005\u4ee3\u7406",id:"\u4f7f\u7528\u8005\u4ee3\u7406",level:2},{value:"\u96e2\u7dda",id:"\u96e2\u7dda",level:2},{value:"\u555f\u7528 JavaScript",id:"\u555f\u7528-javascript",level:2}];function p(e){const t={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"\u7c21\u4ecb",children:"\u7c21\u4ecb"}),"\n",(0,s.jsxs)(t.p,{children:["\u4f7f\u7528 Playwright\uff0c\u4f60\u53ef\u4ee5\u5728\u4efb\u4f55\u700f\u89bd\u5668\u4e0a\u6e2c\u8a66\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f\uff0c\u4e26\u6a21\u64ec\u771f\u5be6\u8a2d\u5099\uff0c\u4f8b\u5982\u624b\u6a5f\u6216\u5e73\u677f\u96fb\u8166\u3002\u53ea\u9700\u914d\u7f6e\u4f60\u60f3\u8981\u6a21\u64ec\u7684\u8a2d\u5099\uff0cPlaywright \u5c31\u6703\u6a21\u64ec\u700f\u89bd\u5668\u884c\u70ba\uff0c\u4f8b\u5982 ",(0,s.jsx)(t.code,{children:'"userAgent"'}),"\u3001",(0,s.jsx)(t.code,{children:'"screenSize"'}),"\u3001",(0,s.jsx)(t.code,{children:'"viewport"'})," \u4ee5\u53ca\u662f\u5426\u555f\u7528 ",(0,s.jsx)(t.code,{children:'"hasTouch"'}),"\u3002\u4f60\u9084\u53ef\u4ee5\u6a21\u64ec ",(0,s.jsx)(t.code,{children:'"geolocation"'}),"\u3001",(0,s.jsx)(t.code,{children:'"locale"'})," \u548c ",(0,s.jsx)(t.code,{children:'"timezone"'}),"\uff0c\u5c0d\u6240\u6709\u6e2c\u8a66\u6216\u7279\u5b9a\u6e2c\u8a66\u9032\u884c\u8a2d\u5b9a\uff0c\u4e26\u8a2d\u7f6e ",(0,s.jsx)(t.code,{children:'"permissions"'})," \u4f86\u986f\u793a\u901a\u77e5\u6216\u66f4\u6539 ",(0,s.jsx)(t.code,{children:'"colorScheme"'}),"\u3002"]}),"\n",(0,s.jsx)(t.h2,{id:"\u88dd\u7f6e",children:"\u88dd\u7f6e"}),"\n",(0,s.jsxs)(t.p,{children:["Playwright \u9644\u5e36\u4e00\u500b",(0,s.jsx)(t.a,{href:"https://github.com/microsoft/playwright/blob/main/packages/playwright-core/src/server/deviceDescriptorsSource.json",children:"\u8a2d\u5099\u53c3\u6578\u8a3b\u518a\u8868"}),"\uff0c\u4f7f\u7528 ",(0,s.jsx)(t.a,{href:"/docs/api/class-playwright#playwright-devices",children:"playwright.devices"})," \u70ba\u9078\u5b9a\u7684\u684c\u9762\u3001\u5e73\u677f\u548c\u79fb\u52d5\u8a2d\u5099\u3002\u5b83\u53ef\u4ee5\u7528\u4f86\u6a21\u64ec\u7279\u5b9a\u8a2d\u5099\u7684\u700f\u89bd\u5668\u884c\u70ba\uff0c\u4f8b\u5982\u4f7f\u7528\u8005\u4ee3\u7406\u3001\u87a2\u5e55\u5927\u5c0f\u3001\u8996\u7a97\u5927\u5c0f\u4ee5\u53ca\u662f\u5426\u555f\u7528\u4e86\u89f8\u63a7\u3002\u6240\u6709\u6e2c\u8a66\u5c07\u4f7f\u7528\u6307\u5b9a\u7684\u8a2d\u5099\u53c3\u6578\u9032\u884c\u3002"]}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="playwright.config.ts"',children:"import { defineConfig, devices } from '@playwright/test'; // import devices\n\nexport default defineConfig({\n  projects: [\n    {\n      name: 'chromium',\n      use: {\n        ...devices['Desktop Chrome'],\n      },\n    },\n    {\n      name: 'Mobile Safari',\n      use: {\n        ...devices['iPhone 13'],\n      },\n    },\n  ],\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"const { chromium, devices } = require('playwright');\nconst browser = await chromium.launch();\n\nconst iphone13 = devices['iPhone 13'];\nconst context = await browser.newContext({\n  ...iphone13,\n});\n"})})})]}),"\n",(0,s.jsx)("img",{width:"458",alt:"playwright.dev website emulated for iPhone 13",src:"https://user-images.githubusercontent.com/13063165/220411073-76fe59f9-9a2d-463d-8e30-c19a7deca133.png"}),"\n",(0,s.jsx)(t.h2,{id:"\u8996\u53e3-viewport",children:"\u8996\u53e3 (Viewport)"}),"\n",(0,s.jsxs)(t.p,{children:["\u8996\u53e3\u5305\u542b\u5728\u88dd\u7f6e\u4e2d\uff0c\u4f46\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(t.a,{href:"/docs/api/class-page#page-set-viewport-size",children:"page.setViewportSize()"})," \u8986\u84cb\u67d0\u4e9b\u6e2c\u8a66\u3002"]}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="playwright.config.ts"',children:"import { defineConfig, devices } from '@playwright/test';\n\nexport default defineConfig({\n  projects: [\n    {\n      name: 'chromium',\n      use: {\n        ...devices['Desktop Chrome'],\n        // It is important to define the `viewport` property after destructuring `devices`,\n        // since devices also define the `viewport` for that device.\n        viewport: { width: 1280, height: 720 },\n      },\n    },\n  ]\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"// Create context with given viewport\nconst context = await browser.newContext({\n  viewport: { width: 1280, height: 1024 }\n});\n"})})})]}),"\n",(0,s.jsx)(t.p,{children:"\u6e2c\u8a66\u6a94\u6848:"}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="tests/example.spec.ts"',children:"import { test, expect } from '@playwright/test';\n\ntest.use({\n  viewport: { width: 1600, height: 1200 },\n});\n\ntest('my test', async ({ page }) => {\n  // ...\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"// Create context with given viewport\nconst context = await browser.newContext({\n  viewport: { width: 1280, height: 1024 }\n});\n\n// Resize viewport for individual page\nawait page.setViewportSize({ width: 1600, height: 1200 });\n\n// Emulate high-DPI\nconst context = await browser.newContext({\n  viewport: { width: 2560, height: 1440 },\n  deviceScaleFactor: 2,\n});\n"})})})]}),"\n",(0,s.jsx)(t.p,{children:"\u5728\u6e2c\u8a66\u6587\u4ef6\u5167\u90e8\u4e5f\u662f\u4e00\u6a23\u7684\u3002"}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="tests/example.spec.ts"',children:"import { test, expect } from '@playwright/test';\n\ntest.describe('specific viewport block', () => {\n  test.use({ viewport: { width: 1600, height: 1200 } });\n\n  test('my test', async ({ page }) => {\n    // ...\n  });\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"// Create context with given viewport\nconst context = await browser.newContext({\n  viewport: { width: 1600, height: 1200 }\n});\nconst page = await context.newPage();\n"})})})]}),"\n",(0,s.jsx)(t.h2,{id:"ismobile",children:"isMobile"}),"\n",(0,s.jsx)(t.p,{children:"\u7121\u8ad6\u662f\u5426\u8003\u616e meta viewport \u6a19\u7c64\u4e26\u555f\u7528\u89f8\u63a7\u4e8b\u4ef6\u3002"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="playwright.config.ts"',children:"import { defineConfig, devices } from '@playwright/test';\n\nexport default defineConfig({\n  projects: [\n    {\n      name: 'chromium',\n      use: {\n        ...devices['Desktop Chrome'],\n        // It is important to define the `isMobile` property after destructuring `devices`,\n        // since devices also define the `isMobile` for that device.\n        isMobile: false,\n      },\n    },\n  ]\n});\n"})}),"\n",(0,s.jsx)(t.h2,{id:"locale--timezone",children:"Locale & Timezone"}),"\n",(0,s.jsx)(t.p,{children:"\u6a21\u64ec\u4f7f\u7528\u8005\u7684\u5340\u57df\u548c\u6642\u5340\uff0c\u53ef\u4ee5\u5728\u914d\u7f6e\u4e2d\u5168\u57df\u8a2d\u5b9a\u6240\u6709\u6e2c\u8a66\uff0c\u7136\u5f8c\u70ba\u7279\u5b9a\u6e2c\u8a66\u8986\u84cb\u8a2d\u5b9a\u3002"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="playwright.config.ts"',children:"import { defineConfig } from '@playwright/test';\n\nexport default defineConfig({\n  use: {\n    // Emulates the user locale.\n    locale: 'en-GB',\n\n    // Emulates the user timezone.\n    timezoneId: 'Europe/Paris',\n  },\n});\n"})}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="tests/example.spec.ts"',children:"import { test, expect } from '@playwright/test';\n\ntest.use({\n  locale: 'de-DE',\n  timezoneId: 'Europe/Berlin',\n});\n\ntest('my test for de lang in Berlin timezone', async ({ page }) => {\n  await page.goto('https://www.bing.com');\n  // ...\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"const context = await browser.newContext({\n  locale: 'de-DE',\n  timezoneId: 'Europe/Berlin',\n});\n"})})})]}),"\n",(0,s.jsx)("img",{width:"1394",alt:"Bing in german lang and timezone",src:"https://user-images.githubusercontent.com/13063165/220416571-ccc96ab1-44bb-4579-8430-64502fc24a15.png"}),"\n",(0,s.jsx)(t.h2,{id:"\u6b0a\u9650",children:"\u6b0a\u9650"}),"\n",(0,s.jsx)(t.p,{children:"\u5141\u8a31\u61c9\u7528\u7a0b\u5f0f\u986f\u793a\u7cfb\u7d71\u901a\u77e5\u3002"}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="playwright.config.ts"',children:"import { defineConfig } from '@playwright/test';\n\nexport default defineConfig({\n  use: {\n    // Grants specified permissions to the browser context.\n    permissions: ['notifications'],\n  },\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"const context = await browser.newContext({\n  permissions: ['notifications'],\n});\n"})})})]}),"\n",(0,s.jsx)(t.p,{children:"\u5141\u8a31\u7279\u5b9a\u57df\u7684\u901a\u77e5\u3002"}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="tests/example.spec.ts"',children:"import { test } from '@playwright/test';\n\ntest.beforeEach(async ({ context }) => {\n  // Runs before each test and signs in each page.\n  await context.grantPermissions(['notifications'], { origin: 'https://skype.com' });\n});\n\ntest('first', async ({ page }) => {\n  // page has notifications permission for https://skype.com.\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"await context.grantPermissions(['notifications'], { origin: 'https://skype.com' });\n"})})})]}),"\n",(0,s.jsxs)(t.p,{children:["\u64a4\u92b7\u6240\u6709\u6b0a\u9650\uff0c\u8acb\u4f7f\u7528 ",(0,s.jsx)(t.a,{href:"/docs/api/class-browsercontext#browser-context-clear-permissions",children:"browserContext.clearPermissions()"}),"\u3002"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"// Library\nawait context.clearPermissions();\n"})}),"\n",(0,s.jsx)(t.h2,{id:"\u5730\u7406\u4f4d\u7f6e",children:"\u5730\u7406\u4f4d\u7f6e"}),"\n",(0,s.jsx)(t.p,{children:'\u6388\u4e88 "geolocation" \u6b0a\u9650\u4e26\u5c07 geolocation \u8a2d\u5b9a\u5230\u7279\u5b9a\u5340\u57df\u3002'}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="playwright.config.ts"',children:"import { defineConfig } from '@playwright/test';\n\nexport default defineConfig({\n  use: {\n    // Context geolocation\n    geolocation: { longitude: 12.492507, latitude: 41.889938 },\n    permissions: ['geolocation'],\n  },\n});\n"})}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="tests/example.spec.ts"',children:"import { test, expect } from '@playwright/test';\n\ntest.use({\n  geolocation: { longitude: 41.890221, latitude: 12.492348 },\n  permissions: ['geolocation'],\n});\n\ntest('my test with geolocation', async ({ page }) => {\n  // ...\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"const context = await browser.newContext({\n  geolocation: { longitude: 41.890221, latitude: 12.492348 },\n  permissions: ['geolocation']\n});\n\n"})})})]}),"\n",(0,s.jsx)("img",{width:"1394",alt:"\u7fa9\u5927\u5229\u5728 Bing \u5730\u5716\u4e0a\u7684\u5730\u7406\u4f4d\u7f6e",src:"https://user-images.githubusercontent.com/13063165/220417670-bb22d815-f5cd-47c4-8562-0b88165eac27.png"}),"\n",(0,s.jsx)(t.p,{children:"\u7a0d\u5f8c\u66f4\u6539\u4f4d\u7f6e:"}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="tests/example.spec.ts"',children:"import { test, expect } from '@playwright/test';\n\ntest.use({\n  geolocation: { longitude: 41.890221, latitude: 12.492348 },\n  permissions: ['geolocation'],\n});\n\ntest('my test with geolocation', async ({ page, context }) => {\n  // overwrite the location for this test\n  await context.setGeolocation({ longitude: 48.858455, latitude: 2.294474 });\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"await context.setGeolocation({ longitude: 48.858455, latitude: 2.294474 });\n"})})})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"\u6ce8\u610f"})," \u60a8\u53ea\u80fd\u66f4\u6539\u6240\u6709\u9801\u9762\u7684\u5730\u7406\u4f4d\u7f6e\u3002"]}),"\n",(0,s.jsx)(t.h2,{id:"\u8272\u5f69\u65b9\u6848\u548c\u5a92\u9ad4",children:"\u8272\u5f69\u65b9\u6848\u548c\u5a92\u9ad4"}),"\n",(0,s.jsxs)(t.p,{children:["\u6a21\u64ec\u4f7f\u7528\u8005\u7684",(0,s.jsx)(t.code,{children:'"colorScheme"'}),"\u3002\u652f\u63f4\u7684\u503c\u6709 'light'\u3001'dark'\u3001'no-preference'\u3002\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(t.a,{href:"/docs/api/class-page#page-emulate-media",children:"page.emulateMedia()"})," \u6a21\u64ec\u5a92\u9ad4\u985e\u578b\u3002"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="playwright.config.ts"',children:"import { defineConfig } from '@playwright/test';\n\nexport default defineConfig({\n  use: {\n    colorScheme: 'dark',\n  },\n});\n"})}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="tests/example.spec.ts"',children:"import { test, expect } from '@playwright/test';\n\ntest.use({\n  colorScheme: 'dark' // or 'light'\n});\n\ntest('my test with dark mode', async ({ page }) => {\n  // ...\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"// Create context with dark mode\nconst context = await browser.newContext({\n  colorScheme: 'dark' // or 'light'\n});\n\n// Create page with dark mode\nconst page = await browser.newPage({\n  colorScheme: 'dark' // or 'light'\n});\n\n// Change color scheme for the page\nawait page.emulateMedia({ colorScheme: 'dark' });\n\n// Change media for page\nawait page.emulateMedia({ media: 'print' });\n"})})})]}),"\n",(0,s.jsx)(t.h2,{id:"\u4f7f\u7528\u8005\u4ee3\u7406",children:"\u4f7f\u7528\u8005\u4ee3\u7406"}),"\n",(0,s.jsxs)(t.p,{children:["\u4f7f\u7528\u8005\u4ee3\u7406\u5305\u542b\u5728\u88dd\u7f6e\u4e2d\uff0c\u56e0\u6b64\u60a8\u5f88\u5c11\u9700\u8981\u66f4\u6539\u5b83\u3002\u4f46\u662f\uff0c\u5982\u679c\u60a8\u9700\u8981\u6e2c\u8a66\u4e0d\u540c\u7684\u4f7f\u7528\u8005\u4ee3\u7406\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 ",(0,s.jsx)(t.code,{children:"userAgent"})," \u5c6c\u6027\u4f86\u8986\u5beb\u5b83\u3002"]}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="tests/example.spec.ts"',children:"import { test, expect } from '@playwright/test';\n\ntest.use({ userAgent: 'My user agent' });\n\ntest('my user agent test', async ({ page }) => {\n  // ...\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"const context = await browser.newContext({\n  userAgent: 'My user agent'\n});\n"})})})]}),"\n",(0,s.jsx)(t.h2,{id:"\u96e2\u7dda",children:"\u96e2\u7dda"}),"\n",(0,s.jsx)(t.p,{children:"\u6a21\u64ec\u7db2\u8def\u96e2\u7dda\u3002"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="playwright.config.ts"',children:"import { defineConfig } from '@playwright/test';\n\nexport default defineConfig({\n  use: {\n    offline: true\n  },\n});\n"})}),"\n",(0,s.jsx)(t.h2,{id:"\u555f\u7528-javascript",children:"\u555f\u7528 JavaScript"}),"\n",(0,s.jsx)(t.p,{children:"\u6a21\u64ec\u4f7f\u7528\u8005\u5728 JavaScript \u88ab\u505c\u7528\u7684\u60c5\u5883\u3002"}),"\n",(0,s.jsxs)(a.A,{groupId:"js-flavor",defaultValue:"test",values:[{label:"Test",value:"test"},{label:"Library",value:"library"}],children:[(0,s.jsx)(l.A,{value:"test",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",metastring:'title="tests/example.spec.ts"',children:"import { test, expect } from '@playwright/test';\n\ntest.use({ javaScriptEnabled: false });\n\ntest('test with no JavaScript', async ({ page }) => {\n  // ...\n});\n"})})}),(0,s.jsx)(l.A,{value:"library",children:(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"const context = await browser.newContext({\n  javaScriptEnabled: false\n});\n"})})})]})]})}function g(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);