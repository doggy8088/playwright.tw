<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-stable docs-doc-page docs-doc-id-release-notes" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.1">
<title data-rh="true">發行說明 | Playwright Python</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://repository-images.githubusercontent.com/221981891/8c5c6942-c91f-4df1-825f-4cf474056bd7"><meta data-rh="true" name="twitter:image" content="https://repository-images.githubusercontent.com/221981891/8c5c6942-c91f-4df1-825f-4cf474056bd7"><meta data-rh="true" property="og:url" content="https://playwright.dev/python/docs/release-notes"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="stable"><meta data-rh="true" name="docusaurus_tag" content="docs-default-stable"><meta data-rh="true" name="docsearch:version" content="stable"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-stable"><meta data-rh="true" property="og:title" content="發行說明 | Playwright Python"><meta data-rh="true" name="description" content="版本 1.47"><meta data-rh="true" property="og:description" content="版本 1.47"><link data-rh="true" rel="icon" href="/python/img/playwright-logo.svg"><link data-rh="true" rel="canonical" href="https://playwright.dev/python/docs/release-notes"><link data-rh="true" rel="alternate" href="https://playwright.dev/python/docs/release-notes" hreflang="en"><link data-rh="true" rel="alternate" href="https://playwright.dev/python/docs/release-notes" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://K09ICMCV6X-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Playwright Python" href="/python/opensearch.xml">
<script src="/python/js/redirection.js"></script><link rel="stylesheet" href="/python/assets/css/styles.be59abed.css">
<script src="/python/assets/js/runtime~main.24082246.js" defer="defer"></script>
<script src="/python/assets/js/main.3c615047.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/python/"><div class="navbar__logo"><img src="/python/img/playwright-logo.svg" alt="Playwright logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/python/img/playwright-logo.svg" alt="Playwright logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Playwright for Python</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/python/docs/intro">文件</a><a class="navbar__item navbar__link" href="/python/docs/api/class-playwright">API</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Python</a><ul class="dropdown__menu"><li><a href="/python/docs/release-notes" target="_self" rel="noopener noreferrer" class="dropdown__link undefined dropdown__link--active" data-language-prefix="/python/">Python</a></li><li><a href="/docs/release-notes" target="_self" rel="noopener noreferrer" class="dropdown__link" data-language-prefix="/">Node.js</a></li><li><a href="/java/docs/release-notes" target="_self" rel="noopener noreferrer" class="dropdown__link" data-language-prefix="/java/">Java</a></li><li><a href="/dotnet/docs/release-notes" target="_self" rel="noopener noreferrer" class="dropdown__link" data-language-prefix="/dotnet/">.NET</a></li></ul></div><a class="navbar__item navbar__link" href="/python/community/welcome">社群</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/playwright-python" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://aka.ms/playwright/discord" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord server"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/python/docs/intro">入門</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/intro">安裝</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/writing-tests">撰寫測試</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/codegen-intro">生成測試</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/running-tests">執行和偵錯測試</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/trace-viewer-intro">追蹤檢視器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/ci-intro">設定 CI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/test-runners">Pytest 外掛參考</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/python/docs/library">開始使用 - 函式庫</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/python/docs/release-notes">發行說明</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/python/docs/input">指南</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/input">操作</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/actionability">自動等待</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api-testing">API 測試</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/test-assertions">斷言</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/auth">身份驗證</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/browsers">瀏覽器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/chrome-extensions">Chrome 擴充功能</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/clock">時鐘</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/debug">偵錯測試</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/dialogs">對話框</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/downloads">下載</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/emulation">模擬</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/evaluating">執行 JavaScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/events">事件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/extensibility">延展性</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/frames">框架 (Frames)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/handles">控制代碼 (Handles)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/browser-contexts">隔離</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/locators">定位器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/mock">模擬 API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/navigations">導航</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/network">網路</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/other-locators">其他定位器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/pom">頁面物件模型</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/pages">頁面</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/screenshots">截圖</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/codegen">測試產生器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/trace-viewer">追蹤檢視器</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/videos">錄影</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/webview2">WebView2</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/python/docs/docker">整合</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/python/docs/languages">支援的語言</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/python/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">發行說明</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>發行說明</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-147">版本 1.47<a href="#版本-147" class="hash-link" aria-label="Direct link to 版本 1.47" title="Direct link to 版本 1.47">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="network-頁籤改進">Network 頁籤改進<a href="#network-頁籤改進" class="hash-link" aria-label="Direct link to Network 頁籤改進" title="Direct link to Network 頁籤改進">​</a></h3>
<p>追蹤檢視器中的 Network 分頁有幾個不錯的改進:</p>
<ul>
<li>按資產類型和 URL 過濾</li>
<li>更好地顯示查詢字串參數</li>
<li>字體資產預覽</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://github.com/user-attachments/assets/4bd1b67d-90bd-438b-a227-00b9e86872e2" alt="Network tab now has filters" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="雜項">雜項<a href="#雜項" class="hash-link" aria-label="Direct link to 雜項" title="Direct link to 雜項">​</a></h3>
<ul>
<li><code>mcr.microsoft.com/playwright-python:v1.47.0</code> 現在提供基於 Ubuntu 24.04 Noble 的 Playwright 映像。要使用基於 22.04 jammy 的映像，請使用 <code>mcr.microsoft.com/playwright-python:v1.47.0-jammy</code>。</li>
<li>現在可以通過將 <code>cert</code> 和 <code>key</code> 以位元組形式傳遞來從記憶體中傳遞 TLS 用戶端證書，而不是文件路徑。</li>
<li><a href="https://playwright.dev/python/docs/api/class-locator#locator-select-option" target="_blank" rel="noopener noreferrer">locator.select_option()</a> 中的 <code>no_wait_after</code> 已被棄用。</li>
<li>我們收到報告稱 WebGL 在 GitHub Actions 的 <code>macos-13</code> 上的 Webkit 表現異常。我們建議將 GitHub Actions 升級到 <code>macos-14</code>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本">瀏覽器版本<a href="#瀏覽器版本" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 129.0.6668.29</li>
<li>Mozilla Firefox 130.0</li>
<li>WebKit 18.0</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 128</li>
<li>Microsoft Edge 128</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-146">版本 1.46<a href="#版本-146" class="hash-link" aria-label="Direct link to 版本 1.46" title="Direct link to 版本 1.46">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tls-client-certificates">TLS Client Certificates<a href="#tls-client-certificates" class="hash-link" aria-label="Direct link to TLS Client Certificates" title="Direct link to TLS Client Certificates">​</a></h3>
<p>Playwright 現在允許提供客戶端憑證，以便伺服器可以驗證它們，如 TLS 客戶端驗證所指定的。</p>
<p>您可以將用戶端憑證作為 <a href="/python/docs/api/class-browser#browser-new-context">browser.new_context()</a> 和 <a href="/python/docs/api/class-apirequest#api-request-new-context">api_request.new_context()</a> 的參數。以下程式碼片  段設定 <code>https://example.com</code> 的用戶端憑證：</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    client_certificates</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">            </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;origin&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">            </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;certPath&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;client-certificates/cert.pem&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">            </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;keyPath&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;client-certificates/key.pem&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="追蹤檢視器更新">追蹤檢視器更新<a href="#追蹤檢視器更新" class="hash-link" aria-label="Direct link to 追蹤檢視器更新" title="Direct link to 追蹤檢視器更新">​</a></h3>
<ul>
<li>現在在附件窗格中內嵌顯示文字附件的內容。</li>
<li>新增設定以顯示/隱藏路由動作，例如 <a href="/python/docs/api/class-route#route-continue">route.continue_()</a>。</li>
<li>在網路詳細資訊標籤中顯示請求方法和狀態。</li>
<li>新增按鈕以將來源檔案位置複製到剪貼簿。</li>
<li>Metadata 窗格現在顯示 <code>base_url</code>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="雜項-1">雜項<a href="#雜項-1" class="hash-link" aria-label="Direct link to 雜項" title="Direct link to 雜項">​</a></h3>
<ul>
<li>新的 <code>maxRetries</code> 選項在 <a href="/python/docs/api/class-apirequestcontext#api-request-context-fetch">api_request_context.fetch()</a> 中，當 <code>ECONNRESET</code> 網路錯誤時重試。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-1">瀏覽器版本<a href="#瀏覽器版本-1" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 128.0.6613.18</li>
<li>Mozilla Firefox 128.0</li>
<li>WebKit 18.0</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 127</li>
<li>Microsoft Edge 127</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-145">版本 1.45<a href="#版本-145" class="hash-link" aria-label="Direct link to 版本 1.45" title="Direct link to 版本 1.45">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="時鐘">時鐘<a href="#時鐘" class="hash-link" aria-label="Direct link to 時鐘" title="Direct link to 時鐘">​</a></h3>
<p>利用新的 <a title="Clock" href="/python/docs/api/class-clock">Clock</a> API 允許在測試中操作和控制時間，以驗  證與時間相關的行為。此 API 涵蓋許多常見情境，包括:</p>
<ul>
<li>使用預定義時間進行測試;</li>
<li>保持一致的時間和計時器;</li>
<li>監控不活動狀態;</li>
<li>手動計時。</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># Initialize clock with some time before the test time and let the page load</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># naturally. `Date.now` will progress as the timers fire.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clock</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">install</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">time</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:#B5CEA8">2024</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">8</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;http://localhost:3333&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Pretend that the user closed the laptop lid and opened it again at 10am.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Pause the time once reached that point.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clock</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">pause_at</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token number" style="color:#B5CEA8">2024</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">10</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">0</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Assert the page state.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_test_id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;current-time&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_have_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;2/2/2024, 10:00:00 AM&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Close the laptop lid again and open it at 10:30am.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clock</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fast_forward</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;30:00&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_test_id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;current-time&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_have_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;2/2/2024, 10:30:00 AM&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>請參閱<a href="/python/docs/clock">時鐘指南</a>以獲取更多資訊。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="雜項-2">雜項<a href="#雜項-2" class="hash-link" aria-label="Direct link to 雜項" title="Direct link to 雜項">​</a></h3>
<ul>
<li>
<p>方法 <a href="/python/docs/api/class-locator#locator-set-input-files">locator.set_input_files()</a> 現在支援為 <code>&lt;input type=file webkitdirectory&gt;</code> 元素上傳目錄。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_label</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Upload directory&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_input_files</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&#x27;mydir&#x27;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>多個方法如 <a href="/python/docs/api/class-locator#locator-click">locator.click()</a> 或 <a href="/python/docs/api/class-locator#locator-press">locator.press()</a> 現在支援 <code>ControlOrMeta</code> 修飾鍵。此鍵在 macOS 上對應 <code>Meta</code>，在 Windows 和 Linux 上對應 <code>Control</code>。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 按下常見的鍵盤快捷鍵 Control+S 或 Meta+S 來觸發 &quot;Save&quot; 操作。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">keyboard</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">press</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;ControlOrMeta+S&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>在 <a href="/python/docs/api/class-apirequest#api-request-new-context">api_request.new_context()</a> 中新增屬性 <code>httpCredentials.send</code>，允許總是發送 <code>Authorization</code> 標頭或僅在回應 <code>401 Unauthorized</code> 時發送。</p>
</li>
<li>
<p>Playwright 現在支援在 Ubuntu 24.04 上的 Chromium、Firefox 和 WebKit。</p>
</li>
<li>
<p>v1.45 是最後一個為 macOS 12 Monterey 接收 WebKit 更新的版本。請更新 macOS   以繼續使用最新的 WebKit。</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-2">瀏覽器版本<a href="#瀏覽器版本-2" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 127.0.6533.5</li>
<li>Mozilla Firefox 127.0</li>
<li>WebKit 17.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 126</li>
<li>Microsoft Edge 126</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-144">版本 1.44<a href="#版本-144" class="hash-link" aria-label="Direct link to 版本 1.44" title="Direct link to 版本 1.44">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api">新的 API<a href="#新的-api" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<p><strong>無障礙聲明</strong></p>
<ul>
<li>
<p><a href="/python/docs/api/class-locatorassertions#locator-assertions-to-have-accessible-name">expect(locator).to_have_accessible_name()</a> 檢查元素是否具有指定的可訪問名稱:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_have_accessible_name</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Submit&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><a href="/python/docs/api/class-locatorassertions#locator-assertions-to-have-accessible-description">expect(locator).to_have_accessible_description()</a> 檢查元素是否具有指定的可訪問描述:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_have_accessible_description</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Upload a photo&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><a href="/python/docs/api/class-locatorassertions#locator-assertions-to-have-role">expect(locator).to_have_role()</a> 檢查元素是否具有指定的 ARIA 角色:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_test_id</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;save-button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_have_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<p><strong>定位器處理程式</strong></p>
<ul>
<li>在執行使用 <a href="/python/docs/api/class-page#page-add-locator-handler">page.add_locator_handler()</a> 添加的處理器後，Playwright 現在會等待觸發處理器的覆蓋層不再可見。你可以使用新的 <code>no_wait_after</code> 選項來選擇不使用此行為。</li>
<li>你可以在 <a href="/python/docs/api/class-page#page-add-locator-handler">page.add_locator_handler()</a> 中使用新的 <code>times</code> 選項來指定處理器應該執行的最大次數。</li>
<li><a href="/python/docs/api/class-page#page-add-locator-handler">page.add_locator_handler()</a> 中的處理器現在接受定位器作為參數。</li>
<li>新的 <a href="/python/docs/api/class-page#page-remove-locator-handler">page.remove_locator_handler()</a> 方法用於移除先前添加的定位器處理器。</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;This interstitial covers the button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">add_locator_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">lambda</span><span class="token plain"> overlay</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> overlay</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;#close&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> times</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token number" style="color:#B5CEA8">3</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> no_wait_after</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean" style="color:#569CD6">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Run your tests that can be interrupted by the overlay.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">remove_locator_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>其他選項</strong></p>
<ul>
<li><a href="/python/docs/api/class-pageassertions#page-assertions-to-have-url-option-ignore-case">expect(page).to_have_url()</a> 現在支援 <code>ignore_case</code> <a href="/python/docs/api/class-pageassertions#page-assertions-to-have-url-option-ignore-case">option</a>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-3">瀏覽器版本<a href="#瀏覽器版本-3" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 125.0.6422.14</li>
<li>Mozilla Firefox 125.0.1</li>
<li>WebKit 17.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 124</li>
<li>Microsoft Edge 124</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-143">版本 1.43<a href="#版本-143" class="hash-link" aria-label="Direct link to 版本 1.43" title="Direct link to 版本 1.43">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-1">新的 API<a href="#新的-api-1" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li>
<p>方法 <a href="/python/docs/api/class-browsercontext#browser-context-clear-cookies">browser_context.clear_cookies</a> 現在支援過濾器來僅移除某些 cookies。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 清除所有 cookies。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 新增: 清除具有特定名稱的 cookies。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;session-id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 新增: 清除特定域名的 cookies。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">domain</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-origin.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>新方法 <a href="/python/docs/api/class-locator#locator-content-frame">locator.content_frame</a> 將 <a title="Locator" href="/python/docs/api/class-locator">Locator</a> 物件轉換為 <a title="FrameLocator" href="/python/docs/api/class-framelocator">FrameLocator</a>。這在您已獲得 <a title="Locator" href="/python/docs/api/class-locator">Locator</a> 物件，並且稍後想與框架內的內容互動時非常有用。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;iframe[name=&#x27;embedded&#x27;]&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">frame_locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">content_frame</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">frame_locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">getByRole</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>新方法 <a href="/python/docs/api/class-framelocator#frame-locator-owner">frame_locator.owner</a> 將 <a title="FrameLocator" href="/python/docs/api/class-framelocator">FrameLocator</a> 物件轉換為 <a title="Locator" href="/python/docs/api/class-locator">Locator</a>。這在您已獲得 <a title="FrameLocator" href="/python/docs/api/class-framelocator">FrameLocator</a> 物件，並且稍後想與 <code>iframe</code> 元素互動時非常有用。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">frame_locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">frame_locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;iframe[name=&#x27;embedded&#x27;]&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> frame_locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">owner</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_be_visible</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>Conda 構建現在發佈適用於 macOS-arm64 和 Linux-arm64。</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-4">瀏覽器版本<a href="#瀏覽器版本-4" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 124.0.6367.8</li>
<li>Mozilla Firefox 124.0</li>
<li>WebKit 17.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 123</li>
<li>Microsoft Edge 123</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-142">版本 1.42<a href="#版本-142" class="hash-link" aria-label="Direct link to 版本 1.42" title="Direct link to 版本 1.42">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新定位器處理程式">新定位器處理程式<a href="#新定位器處理程式" class="hash-link" aria-label="Direct link to 新定位器處理程式" title="Direct link to 新定位器處理程式">​</a></h3>
<p>新的方法 <a href="/python/docs/api/class-page#page-add-locator-handler">page.add_locator_handler()</a> 註冊了一個回調函式，當指定的元素變得可見時將被呼叫，並且可能會阻止 Playwright 動作。回調函式可以去除覆蓋層。這裡有一個範例，當 cookie 對話框出現時將其關閉。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># Setup the handler.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">add_locator_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;heading&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Hej! You are in control of your cookies.&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">lambda</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Accept all&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Write the test as usual.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://www.ikea.com/&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;link&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Collection of blue and white&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;heading&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Light and easy&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_be_visible</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-2">新的 API<a href="#新的-api-2" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li><a href="/python/docs/api/class-page#page-pdf">page.pdf</a> 接受兩個新選項 <code>tagged</code> 和 <code>outline</code>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="公告">公告<a href="#公告" class="hash-link" aria-label="Direct link to 公告" title="Direct link to 公告">​</a></h3>
<ul>
<li>⚠️ Ubuntu 18 已不再支援。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-5">瀏覽器版本<a href="#瀏覽器版本-5" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 123.0.6312.4</li>
<li>Mozilla Firefox 123.0</li>
<li>WebKit 17.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 122</li>
<li>Microsoft Edge 123</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-141">版本 1.41<a href="#版本-141" class="hash-link" aria-label="Direct link to 版本 1.41" title="Direct link to 版本 1.41">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-3">新的 API<a href="#新的-api-3" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li>新方法 <a href="/python/docs/api/class-page#page-unroute-all">page.unroute_all()</a> 移除所有由 <a href="/python/docs/api/class-page#page-route">page.route()</a> 和 <a href="/python/docs/api/class-page#page-route-from-har">page.route_from_har()</a> 註冊的路由。可選擇等待正在進行的路由完成，或忽略它們的任何錯誤。</li>
<li>新方法 <a href="/python/docs/api/class-browsercontext#browser-context-unroute-all">browser_context.unroute_all()</a> 移除所有由 <a href="/python/docs/api/class-browsercontext#browser-context-route">browser_context.route()</a> 和 <a href="/python/docs/api/class-browsercontext#browser-context-route-from-har">browser_context.route_from_har()</a> 註冊的路由。可選擇等待正在進行的路由完成，或忽略它們的任何錯誤。</li>
<li>新選項 <code>style</code> 在 <a href="/python/docs/api/class-page#page-screenshot">page.screenshot()</a> 和 <a href="/python/docs/api/class-locator#locator-screenshot">locator.screenshot()</a> 中，在截圖前添加自訂 CSS 到頁面。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-6">瀏覽器版本<a href="#瀏覽器版本-6" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 121.0.6167.57</li>
<li>Mozilla Firefox 121.0</li>
<li>WebKit 17.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 120</li>
<li>Microsoft Edge 120</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-140">版本 1.40<a href="#版本-140" class="hash-link" aria-label="Direct link to 版本 1.40" title="Direct link to 版本 1.40">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="測試程式碼產生器更新">測試程式碼產生器更新<a href="#測試程式碼產生器更新" class="hash-link" aria-label="Direct link to 測試程式碼產生器更新" title="Direct link to 測試程式碼產生器更新">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://github.com/microsoft/playwright/assets/9881434/e8d67e2e-f36d-4301-8631-023948d3e190" alt="Playwright Test Generator" class="img_ev3q"></p>
<p>產生斷言的新工具:</p>
<ul>
<li>&quot;Assert visibility&quot; 工具生成 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-be-visible">expect(locator).to_be_visible()</a>。</li>
<li>&quot;Assert value&quot; 工具生成 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-have-value">expect(locator).to_have_value()</a>。</li>
<li>&quot;Assert text&quot; 工具生成 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-contain-text">expect(locator).to_contain_text()</a>。</li>
</ul>
<p>這裡是一個帶有斷言的生成測試範例:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sync_api </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> Page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> expect</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">test_example</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://playwright.dev/&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;link&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Get started&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_label</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Breadcrumbs&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;list&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_contain_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Installation&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_label</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Search&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_be_visible</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_label</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Search&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_placeholder</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Search docs&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fill</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;locator&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_placeholder</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Search docs&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_have_value</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;locator&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-4">新的 API<a href="#新的-api-4" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li>選項 <code>reason</code> 在 <a href="/python/docs/api/class-page#page-close">page.close()</a>, <a href="/python/docs/api/class-browsercontext#browser-context-close">browser_context.close()</a> 和 <a href="/python/docs/api/class-browser#browser-close">browser.close()</a>。關閉原因會報告所有因關閉而中斷的操作。</li>
<li>選項 <code>firefox_user_prefs</code> 在 <a href="/python/docs/api/class-browsertype#browser-type-launch-persistent-context">browser_type.launch_persistent_context()</a>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="其他變更">其他變更<a href="#其他變更" class="hash-link" aria-label="Direct link to 其他變更" title="Direct link to 其他變更">​</a></h3>
<ul>
<li>函式 <a href="/python/docs/api/class-download#download-path">download.path()</a> 會在下載失敗和取消時拋出錯誤。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-7">瀏覽器版本<a href="#瀏覽器版本-7" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 120.0.6099.28</li>
<li>Mozilla Firefox 119.0</li>
<li>WebKit 17.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 119</li>
<li>Microsoft Edge 119</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-139">版本 1.39<a href="#版本-139" class="hash-link" aria-label="Direct link to 版本 1.39" title="Direct link to 版本 1.39">​</a></h2>
<p>Evergreen 瀏覽器更新。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-8">瀏覽器版本<a href="#瀏覽器版本-8" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 119.0.6045.9</li>
<li>Mozilla Firefox 118.0.1</li>
<li>WebKit 17.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 118</li>
<li>Microsoft Edge 118</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-138">版本 1.38<a href="#版本-138" class="hash-link" aria-label="Direct link to 版本 1.38" title="Direct link to 版本 1.38">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="追蹤檢視器更新-1">追蹤檢視器更新<a href="#追蹤檢視器更新-1" class="hash-link" aria-label="Direct link to 追蹤檢視器更新" title="Direct link to 追蹤檢視器更新">​</a></h3>
<p><img decoding="async" loading="lazy" src="https://github.com/microsoft/playwright/assets/746130/0c41e20d-c54b-4600-8ca8-1cbb6393ddef" alt="Playwright Trace Viewer" class="img_ev3q"></p>
<ol>
<li>放大時間範圍。</li>
<li>網路面板重新設計。</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-5">新的 API<a href="#新的-api-5" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li><a href="/python/docs/api/class-browsercontext#browser-context-event-web-error">browser_context.on(&quot;weberror&quot;)</a></li>
<li><a href="/python/docs/api/class-locator#locator-press-sequentially">locator.press_sequentially()</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="棄用">棄用<a href="#棄用" class="hash-link" aria-label="Direct link to 棄用" title="Direct link to 棄用">​</a></h3>
<ul>
<li>以下方法已被棄用: <a href="/python/docs/api/class-page#page-type">page.type()</a>, <a href="/python/docs/api/class-frame#frame-type">frame.type()</a>, <a href="/python/docs/api/class-locator#locator-type">locator.type()</a> 和 <a href="/python/docs/api/class-elementhandle#element-handle-type">element_handle.type()</a>。請改用 <a href="/python/docs/api/class-locator#locator-fill">locator.fill()</a>，速度更快。只有在頁面上有特殊鍵盤處理並且需要逐個按鍵時，才使用 <a href="/python/docs/api/class-locator#locator-press-sequentially">locator.press_sequentially()</a>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-9">瀏覽器版本<a href="#瀏覽器版本-9" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 117.0.5938.62</li>
<li>Mozilla Firefox 117.0</li>
<li>WebKit 17.0</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 116</li>
<li>Microsoft Edge 116</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-137">版本 1.37<a href="#版本-137" class="hash-link" aria-label="Direct link to 版本 1.37" title="Direct link to 版本 1.37">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="重點">重點<a href="#重點" class="hash-link" aria-label="Direct link to 重點" title="Direct link to 重點">​</a></h3>
<ul>
<li>新的 <a href="/python/docs/test-runners#cli-arguments">--full-page-screenshot</a> 命令列標誌允許在失敗時截取整頁截圖。</li>
<li>現在可以使用 <a href="/python/docs/test-runners#fixtures">browser_context_args</a> 標記覆蓋單個測試的上下文選項。</li>
<li><code>pytest-playwright</code> 現在也發佈在 <a href="https://anaconda.org/Microsoft/pytest-playwright/" target="_blank" rel="noopener noreferrer">Anaconda</a>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-debian-12-bookworm-支援">📚 Debian 12 Bookworm 支援<a href="#-debian-12-bookworm-支援" class="hash-link" aria-label="Direct link to 📚 Debian 12 Bookworm 支援" title="Direct link to 📚 Debian 12 Bookworm 支援">​</a></h3>
<p>Playwright 現在支援 Debian 12 Bookworm（x86_64 和 arm64）上的 Chromium、Firefox 和 WebKit。如遇到任何問題，請告訴我們！</p>
<p>Linux 支援看起來像這樣:</p>
<table><thead><tr><th style="text-align:left"></th><th style="text-align:center">Ubuntu 20.04</th><th style="text-align:center">Ubuntu 22.04</th><th style="text-align:center">Debian 11</th><th style="text-align:center">Debian 12</th></tr></thead><tbody><tr><td style="text-align:left">Chromium</td><td style="text-align:center">✅</td><td style="text-align:center">✅</td><td style="text-align:center">✅</td><td style="text-align:center">✅</td></tr><tr><td style="text-align:left">WebKit</td><td style="text-align:center">✅</td><td style="text-align:center">✅</td><td style="text-align:center">✅</td><td style="text-align:center">✅</td></tr><tr><td style="text-align:left">Firefox</td><td style="text-align:center">✅</td><td style="text-align:center">✅</td><td style="text-align:center">✅</td><td style="text-align:center">✅</td></tr></tbody></table>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-10">瀏覽器版本<a href="#瀏覽器版本-10" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 116.0.5845.82</li>
<li>Mozilla Firefox 115.0</li>
<li>WebKit 17.0</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 115</li>
<li>Microsoft Edge 115</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-136">版本 1.36<a href="#版本-136" class="hash-link" aria-label="Direct link to 版本 1.36" title="Direct link to 版本 1.36">​</a></h2>
<p>🏝️ 夏季維護版本發佈。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-11">瀏覽器版本<a href="#瀏覽器版本-11" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 115.0.5790.75</li>
<li>Mozilla Firefox 115.0</li>
<li>WebKit 17.0</li>
</ul>
<p>此版本也針對以下穩定頻道進 行了測試:</p>
<ul>
<li>Google Chrome 114</li>
<li>Microsoft Edge 114</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-135">版本 1.35<a href="#版本-135" class="hash-link" aria-label="Direct link to 版本 1.35" title="Direct link to 版本 1.35">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="重點-1">重點<a href="#重點-1" class="hash-link" aria-label="Direct link to 重點" title="Direct link to 重點">​</a></h3>
<ul>
<li>
<p>新選項 <code>mask_color</code> 用於方法 <a href="/python/docs/api/class-page#page-screenshot">page.screenshot()</a> 和 <a href="/python/docs/api/class-locator#locator-screenshot">locator.screenshot()</a> 來改變預設的遮罩顏色。</p>
</li>
<li>
<p>新的 <code>uninstall</code> CLI 指令來卸載瀏覽器二進位檔：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">$ playwright uninstall </span><span class="token comment" style="color:rgb(106, 153, 85)"># 移除此安裝所安裝的瀏覽器</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">$ playwright uninstall </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--all</span><span class="token plain"> </span><span class="token comment" style="color:rgb(106, 153, 85)"># 移除所有曾經安裝的 Playwright 瀏覽器</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-12">瀏覽器版本<a href="#瀏覽器版本-12" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 115.0.5790.13</li>
<li>Mozilla Firefox 113.0</li>
<li>WebKit 16.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 114</li>
<li>Microsoft Edge 114</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-134">版本 1.34<a href="#版本-134" class="hash-link" aria-label="Direct link to 版本 1.34" title="Direct link to 版本 1.34">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="重點-2">重點<a href="#重點-2" class="hash-link" aria-label="Direct link to 重點" title="Direct link to 重點">​</a></h3>
<ul>
<li>
<p>新的 <a href="/python/docs/api/class-locator#locator-and">locator.and_()</a> 建立一個同時匹配兩個定位器的定位器。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">button </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">and_</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_title</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Subscribe&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>新的事件 <a href="/python/docs/api/class-browsercontext#browser-context-event-console">browser_context.on(&quot;console&quot;)</a> 和 <a href="/python/docs/api/class-browsercontext#browser-context-event-dialog">browser_context.on(&quot;dialog&quot;)</a> 訂閱來自給定瀏覽器上下文中的任何頁面的任何對話框和控制台訊息。使用新方法 <a href="/python/docs/api/class-consolemessage#console-message-page">console_message.page</a> 和 <a href="/python/docs/api/class-dialog#dialog-page">dialog.page</a> 精確定位事件來源。</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-13">瀏覽器版本<a href="#瀏覽器版本-13" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 114.0.5735.26</li>
<li>Mozilla Firefox 113.0</li>
<li>WebKit 16.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 113</li>
<li>Microsoft Edge 113</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-133">版本 1.33<a href="#版本-133" class="hash-link" aria-label="Direct link to 版本 1.33" title="Direct link to 版本 1.33">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定位器更新">定位器更新<a href="#定位器更新" class="hash-link" aria-label="Direct link to 定位器更新" title="Direct link to 定位器更新">​</a></h3>
<ul>
<li>
<p>使用 <a href="/python/docs/api/class-locator#locator-or">locator.or_()</a> 建立一個匹配任意兩個定位器的定位器。考慮一個情景，你想點擊 &quot;New email&quot; 按鈕，但有時會彈出一個安全設定對話框。在這種情況下，你可以等待 &quot;New email&quot; 按鈕或對話框，並相應地操作：</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">new_email </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;New email&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">dialog </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Confirm security settings&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">new_email</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">or_</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">dialog</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">is_visible</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">dialog</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">is_visible</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Dismiss&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">new_email</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>在 <a href="/python/docs/api/class-locator#locator-filter">locator.filter()</a> 中使用新的選項 <code>has_not</code> 和 <code>has_not_text</code> 來查找<strong>不匹配</strong>某些條件的元素。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">row_locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;tr&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">row_locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token builtin" style="color:rgb(86, 156, 214)">filter</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">has_not_text</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;text in column 1&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token builtin" style="color:rgb(86, 156, 214)">filter</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    has_not</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;column 2 button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">screenshot</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>使用新的 web-first 斷言 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-be-attached">expect(locator).to_be_attached()</a> 確保元素存在於頁面的 DOM 中。不要與 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-be-visible">expect(locator).to_be_visible()</a> 混淆，後者確保元素既附加又可見。</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-6">新的 API<a href="#新的-api-6" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li><a href="/python/docs/api/class-locator#locator-or">locator.or_()</a></li>
<li>新選項 <code>has_not</code> 在 <a href="/python/docs/api/class-locator#locator-filter">locator.filter()</a></li>
<li>新選項 <code>has_not_text</code> 在 <a href="/python/docs/api/class-locator#locator-filter">locator.filter()</a></li>
<li><a href="/python/docs/api/class-locatorassertions#locator-assertions-to-be-attached">expect(locator).to_be_attached()</a></li>
<li>新選項 <code>timeout</code> 在 <a href="/python/docs/api/class-route#route-fetch">route.fetch()</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-重大變更">⚠️ 重大變更<a href="#️-重大變更" class="hash-link" aria-label="Direct link to ⚠️ 重大變更" title="Direct link to ⚠️ 重大變更">​</a></h3>
<ul>
<li><code>mcr.microsoft.com/playwright/python:v1.33.0</code> 現在提供基於 Ubuntu Jammy 的 Playwright 映像。要使用基於 focal 的映像，請改用 <code>mcr.microsoft.com/playwright/python:v1.33.0-focal</code>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-14">瀏覽器版本<a href="#瀏覽器版本-14" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 113.0.5672.53</li>
<li>Mozilla Firefox 112.0</li>
<li>WebKit 16.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 112</li>
<li>Microsoft Edge 112</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-132">版本 1.32<a href="#版本-132" class="hash-link" aria-label="Direct link to 版本 1.32" title="Direct link to 版本 1.32">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-7">新的 API<a href="#新的-api-7" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li>自訂 expect 訊息，請參閱 <a href="/python/docs/test-assertions#custom-expect-message">測試斷言文件</a>。</li>
<li>新選項 <code>update_mode</code> 和 <code>update_content</code> 在 <a href="/python/docs/api/class-page#page-route-from-har">page.route_from_har()</a> 和 <a href="/python/docs/api/class-browsercontext#browser-context-route-from-har">browser_context.route_from_har()</a>。</li>
<li>鏈接現有的定位器物件，詳情請參閱 <a href="/python/docs/locators#matching-inside-a-locator">定位器文件</a>。</li>
<li>方法中的新選項 <code>name</code> 在 <a href="/python/docs/api/class-tracing#tracing-start-chunk">tracing.start_chunk()</a>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-15">瀏覽器版本<a href="#瀏覽器版本-15" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 112.0.5615.29</li>
<li>Mozilla Firefox 111.0</li>
<li>WebKit 16.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 111</li>
<li>Microsoft Edge 111</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-131">版本 1.31<a href="#版本-131" class="hash-link" aria-label="Direct link to 版本 1.31" title="Direct link to 版本 1.31">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-8">新的 API<a href="#新的-api-8" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li>
<p>新的斷言 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-be-in-viewport">expect(locator).to_be_in_viewport()</a> 確保定位器指向與視窗相交的元素，根據 <a href="https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API" target="_blank" rel="noopener noreferrer">intersection observer API</a>。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sync_api </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> expect</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 確保元素的至少一部分與視窗相交。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_be_in_viewport</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 確保元素完全在視窗之外。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">not_to_be_in_viewport</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># 確保元素的至少一半與視窗相交。</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_be_in_viewport</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">ratio</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token number" style="color:#B5CEA8">0.5</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="雜項-3">雜項<a href="#雜項-3" class="hash-link" aria-label="Direct link to 雜項" title="Direct link to 雜項">​</a></h3>
<ul>
<li>現在可以在單獨的視窗中開啟追蹤檢視器中的 DOM 快照。</li>
<li>新選項 <code>route.fetch.max_redirects</code> 用於方法 <a href="/python/docs/api/class-route#route-fetch">route.fetch()</a>。</li>
<li>Playwright 現在支援 Debian 11 arm64。</li>
<li>官方 <a href="/python/docs/docker">docker images</a> 現在包含 Node 18 而不是 Node 16。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-16">瀏覽器版本<a href="#瀏覽器版本-16" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 111.0.5563.19</li>
<li>Mozilla Firefox 109.0</li>
<li>WebKit 16.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 110</li>
<li>Microsoft Edge 110</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-130">版本 1.30<a href="#版本-130" class="hash-link" aria-label="Direct link to 版本 1.30" title="Direct link to 版本 1.30">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-17">瀏覽器版本<a href="#瀏覽器版本-17" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 110.0.5481.38</li>
<li>Mozilla Firefox 108.0.2</li>
<li>WebKit 16.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 109</li>
<li>Microsoft Edge 109</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-129">版本 1.29<a href="#版本-129" class="hash-link" aria-label="Direct link to 版本 1.29" title="Direct link to 版本 1.29">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-9">新的 API<a href="#新的-api-9" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li>
<p>新方法 <a href="/python/docs/api/class-route#route-fetch">route.fetch()</a> 和 <a href="/python/docs/api/class-route#route-fulfill">route.fulfill()</a> 的新選項 <code>json</code>:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">handle_route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># Fetch original settings.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  response </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fetch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># Force settings theme to a predefined value.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  json </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> response</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;theme&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Solorized&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token comment" style="color:rgb(106, 153, 85)"># Fulfill with modified data.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fulfill</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">json</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">json</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/api/settings&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handle_route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>新方法 <a href="/python/docs/api/class-locator#locator-all">locator.all()</a> 來遍歷所有匹配的元素:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># Check all checkboxes!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">checkboxes </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;checkbox&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">for</span><span class="token plain"> checkbox </span><span class="token keyword" style="color:#C586C0">in</span><span class="token plain"> checkboxes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token builtin" style="color:rgb(86, 156, 214)">all</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  checkbox</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">check</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><a href="/python/docs/api/class-locator#locator-select-option">locator.select_option()</a> 現在可以通過值或標籤匹配:</p>
<div class="language-html codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-html codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:#569CD6">select</span><span class="token tag" style="color:#569CD6"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">multiple</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:#569CD6">option</span><span class="token tag" style="color:#569CD6"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">red</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain">Red</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:#569CD6">div</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:#569CD6">option</span><span class="token tag" style="color:#569CD6"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">green</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain">Green</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:#569CD6">div</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;</span><span class="token tag" style="color:#569CD6">option</span><span class="token tag" style="color:#569CD6"> </span><span class="token tag attr-name" style="color:rgb(156, 220, 254)">value</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(212, 212, 212)">=</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag attr-value" style="color:rgb(206, 145, 120)">blue</span><span class="token tag attr-value punctuation" style="color:rgb(212, 212, 212)">&quot;</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain">Blue</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:#569CD6">div</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&lt;/</span><span class="token tag" style="color:#569CD6">select</span><span class="token tag punctuation" style="color:rgb(212, 212, 212)">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">element</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">select_option</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Red&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="雜項-4">雜項<a href="#雜項-4" class="hash-link" aria-label="Direct link to 雜項" title="Direct link to 雜項">​</a></h3>
<ul>
<li>選項 <code>postData</code> 在方法 <a href="/python/docs/api/class-route#route-continue">route.continue_</a> 現在支援 <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description" target="_blank" rel="noopener noreferrer" title="Serializable">Serializable</a> 值。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-18">瀏覽器版本<a href="#瀏覽器版本-18" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 109.0.5414.46</li>
<li>Mozilla Firefox 107.0</li>
<li>WebKit 16.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 108</li>
<li>Microsoft Edge 108</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-128">版本 1.28<a href="#版本-128" class="hash-link" aria-label="Direct link to 版本 1.28" title="Direct link to 版本 1.28">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="playwright-工具">Playwright 工具<a href="#playwright-工具" class="hash-link" aria-label="Direct link to Playwright 工具" title="Direct link to Playwright 工具">​</a></h3>
<ul>
<li><strong>程式碼產生器中的即時定位器。</strong> 使用 &quot;Explore&quot; 工具為頁面上的任意元素生成定位器。</li>
</ul>
<p><img decoding="async" loading="lazy" src="https://user-images.githubusercontent.com/9798949/202293514-8e2eade6-c809-4b0a-864b-899dfcee3d84.png" alt="定位器探索器" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-10">新的 API<a href="#新的-api-10" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li><a href="/python/docs/api/class-locator#locator-blur">locator.blur()</a></li>
<li><a href="/python/docs/api/class-locator#locator-clear">locator.clear()</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-19">瀏覽器版本<a href="#瀏覽器版本-19" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 108.0.5359.29</li>
<li>Mozilla Firefox 106.0</li>
<li>WebKit 16.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 107</li>
<li>Microsoft Edge 107</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-127">版本 1.27<a href="#版本-127" class="hash-link" aria-label="Direct link to 版本 1.27" title="Direct link to 版本 1.27">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定位器">定位器<a href="#定位器" class="hash-link" aria-label="Direct link to 定位器" title="Direct link to 定位器">​</a></h3>
<p>使用這些新的 API，寫定位器是一種樂趣:</p>
<ul>
<li><a href="/python/docs/api/class-page#page-get-by-text">page.get_by_text()</a> 來根據文本內容定位。</li>
<li><a href="/python/docs/api/class-page#page-get-by-role">page.get_by_role()</a> 來根據 <a href="https://www.w3.org/TR/wai-aria-1.2/#roles" target="_blank" rel="noopener noreferrer">ARIA role</a>、<a href="https://www.w3.org/TR/wai-aria-1.2/#aria-attributes" target="_blank" rel="noopener noreferrer">ARIA attributes</a> 和 <a href="https://w3c.github.io/accname/#dfn-accessible-name" target="_blank" rel="noopener noreferrer">accessible name</a> 定位。</li>
<li><a href="/python/docs/api/class-page#page-get-by-label">page.get_by_label()</a> 來根據關聯標籤的文本定位表單控件。</li>
<li><a href="/python/docs/api/class-page#page-get-by-test-id">page.get_by_test_id()</a> 來根據其 <code>data-testid</code> 屬  性定位元素（其他屬性可配置）。</li>
<li><a href="/python/docs/api/class-page#page-get-by-placeholder">page.get_by_placeholder()</a> 來根據佔位符定位輸入框。</li>
<li><a href="/python/docs/api/class-page#page-get-by-alt-text">page.get_by_alt_text()</a> 來根據文本替代項定位元素，通常是圖像。</li>
<li><a href="/python/docs/api/class-page#page-get-by-title">page.get_by_title()</a> 來根據標題定位元素。</li>
</ul>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_label</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;User Name&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fill</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;John&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_label</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Password&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fill</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;secret-password&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Sign in&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Welcome, John!&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_be_visible</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>所有相同的方法也可在 <a title="Locator" href="/python/docs/api/class-locator">Locator</a>、<a title="FrameLocator" href="/python/docs/api/class-framelocator">FrameLocator</a> 和 <a title="Frame" href="/python/docs/api/class-frame">Frame</a> 類別上使用。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="其他亮點">其他亮點<a href="#其他亮點" class="hash-link" aria-label="Direct link to 其他亮點" title="Direct link to 其他亮點">​</a></h3>
<ul>
<li>如 v1.25 中所宣布，Ubuntu 18 將於 2022 年 12 月起不再支援。此外，從下一個 Playwright 版本開始，Ubuntu 18 將不再有 WebKit 更新。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="行為變更">行為變更<a href="#行為變更" class="hash-link" aria-label="Direct link to 行為變更" title="Direct link to 行為變更">​</a></h3>
<ul>
<li>
<p><a href="/python/docs/api/class-locatorassertions#locator-assertions-to-have-attribute">expect(locator).to_have_attribute()</a> with an empty value does not match missing attribute anymore。For example, the following snippet will succeed when <code>button</code> <strong>does not</strong> have a <code>disabled</code> attribute.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_have_attribute</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;disabled&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-20">瀏覽器版本<a href="#瀏覽器版本-20" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 107.0.5304.18</li>
<li>Mozilla Firefox 105.0.1</li>
<li>WebKit 16.0</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 106</li>
<li>Microsoft Edge 106</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-126">版本 1.26<a href="#版本-126" class="hash-link" aria-label="Direct link to 版本 1.26" title="Direct link to 版本 1.26">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="斷言">斷言<a href="#斷言" class="hash-link" aria-label="Direct link to 斷言" title="Direct link to 斷言">​</a></h3>
<ul>
<li>新選項 <code>enabled</code> 用於 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-be-enabled">expect(locator).to_be_enabled()</a>。</li>
<li><a href="/python/docs/api/class-locatorassertions#locator-assertions-to-have-text">expect(locator).to_have_text()</a> 現在可以穿透開放的 shadow roots。</li>
<li>新選項 <code>editable</code> 用於 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-be-editable">expect(locator).to_be_editable()</a>。</li>
<li>新選項 <code>visible</code> 用於 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-be-visible">expect(locator).to_be_visible()</a>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="其 他亮點-1">其他亮點<a href="#其他亮點-1" class="hash-link" aria-label="Direct link to 其他亮點" title="Direct link to 其他亮點">​</a></h3>
<ul>
<li>新選項 <code>max_redirects</code> 用於 <a href="/python/docs/api/class-apirequestcontext#api-request-context-get">api_request_context.get()</a> 和其他方法來限制重定向次數。</li>
<li>現在支援 Python 3.11。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="行為變更-1">行為變更<a href="#行為變更-1" class="hash-link" aria-label="Direct link to 行為變更" title="Direct link to 行為變更">​</a></h3>
<p>一堆 Playwright API 已經支援 <code>wait_until: &quot;domcontentloaded&quot;</code> 選項。例如:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://playwright.dev&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> wait_until</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;domcontentloaded&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在 1.26 之前，這會等待所有 iframes 觸發 <code>DOMContentLoaded</code> 事件。</p>
<p>為了符合 web 規範，<code>&#x27;domcontentloaded&#x27;</code> 值只會等待目標框架觸發 <code>&#x27;DOMContentLoaded&#x27;</code> 事件。使用 <code>wait_until=&quot;load&quot;</code> 來等待所有的 iframes。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-21">瀏覽器版本<a href="#瀏覽器版本-21" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 106.0.5249.30</li>
<li>Mozilla Firefox 104.0</li>
<li>WebKit 16.0</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 105</li>
<li>Microsoft Edge 105</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-125">版本 1.25<a href="#版本-125" class="hash-link" aria-label="Direct link to 版本 1.25" title="Direct link to 版本 1.25">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="公告-1">公告<a href="#公告-1" class="hash-link" aria-label="Direct link to 公告" title="Direct link to 公告">​</a></h3>
<ul>
<li>🎁 我們現在提供 Ubuntu 22.04 Jammy Jellyfish docker 映像檔: <code>mcr.microsoft.com/playwright/python:v1.34.0-jammy</code>。</li>
<li>🪦 這是最後一個支援 macOS 10.15 的版本（從 1.21 開始棄用）。</li>
<li>⚠️ Ubuntu 18 現在已棄用，並將於 2022 年 12 月停止支援。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-22">瀏覽器版本<a href="#瀏覽器版本-22" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 105.0.5195.19</li>
<li>Mozilla Firefox 103.0</li>
<li>WebKit 16.0</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 104</li>
<li>Microsoft Edge 104</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-124">版本 1.24<a href="#版本-124" class="hash-link" aria-label="Direct link to 版本 1.24" title="Direct link to 版本 1.24">​</a></h2>
<div class="embed-youtube"><iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/9F05o1shxcY" title="YouTube 影片播放器" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"></iframe></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-debian-11-bullseye-支援">🐂 Debian 11 Bullseye 支援<a href="#-debian-11-bullseye-支援" class="hash-link" aria-label="Direct link to 🐂 Debian 11 Bullseye 支援" title="Direct link to 🐂 Debian 11 Bullseye 支援">​</a></h3>
<p>Playwright 現在支援 Debian 11 Bullseye 在 x86_64 上的 Chromium、Firefox 和 WebKit。如果您遇到任何問題，請告訴我們！</p>
<p>Linux 支援看起來像這樣:</p>
<p>|          | Ubuntu 20.04 | Ubuntu 22.04 | Debian 11
| :--- | :---: | :---: | :---: | :---: |
| Chromium | ✅ | ✅ | ✅ |
| WebKit | ✅ | ✅ | ✅ |
| Firefox | ✅ | ✅ | ✅ |</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新介紹文件">新介紹文件<a href="#新介紹文件" class="hash-link" aria-label="Direct link to 新介紹文件" title="Direct link to 新介紹文件">​</a></h3>
<p>我們重寫了我們的入門文件，使其更專注於端到端測試。請在 <a href="https://playwright.dev/python/docs/intro" target="_blank" rel="noopener noreferrer">playwright.dev</a> 查看。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-123">版本 1.23<a href="#版本-123" class="hash-link" aria-label="Direct link to 版本 1.23" title="Direct link to 版本 1.23">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="網路重播">網路重播<a href="#網路重播" class="hash-link" aria-label="Direct link to 網路重播" title="Direct link to 網路重播">​</a></h3>
<p>現在你可以將網路流量記錄到 HAR 檔案中，並在你的測試中重新使用這些流量。</p>
<p>記錄網路到 HAR 檔案:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">npx playwright </span><span class="token function" style="color:rgb(220, 220, 170)">open</span><span class="token plain"> --save-har</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">github.har.zip https://github.com/microsoft</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>或者，您可以以程式方式記錄 HAR:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">record_har_path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;github.har.zip&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># ... do stuff ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">record_har_path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;github.har.zip&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># ... do stuff ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>使用新方法 <a href="/python/docs/api/class-page#page-route-from-har">page.route_from_har()</a> 或 <a href="/python/docs/api/class-browsercontext#browser-context-route-from-har">browser_context.route_from_har()</a> 從 <a href="http://www.softwareishard.com/blog/har-12-spec/" target="_blank" rel="noopener noreferrer">HAR</a> 檔案提供匹配的回應:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route_from_har</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;github.har.zip&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route_from_har</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;github.har.zip&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>在<a href="/python/docs/mock#mocking-with-har-files">我們的文件</a>中閱讀更多內容。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="進階路由">進階路由<a href="#進階路由" class="hash-link" aria-label="Direct link to 進階路由" title="Direct link to 進階路由">​</a></h3>
<p>你現在可以使用 <a href="/python/docs/api/class-route#route-fallback">route.fallback()</a> 來延遲路由到其他處理程序。</p>
<p>考慮以下範例:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># Remove a header from all requests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">remove_header_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    headers </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">all_headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;if-none-match&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">in</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">del</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;if-none-match&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fallback</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">headers</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/*&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> remove_header_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Abort all images</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">abort_images_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">resource_type </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;image&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">abort</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">else</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fallback</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/*&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> abort_images_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># Remove a header from all requests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">remove_header_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    headers </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">all_headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;if-none-match&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">in</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">del</span><span class="token plain"> headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;if-none-match&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fallback</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">headers</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/*&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> remove_header_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Abort all images</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">abort_images_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">resource_type </span><span class="token operator" style="color:rgb(212, 212, 212)">==</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;image&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">abort</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">else</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fallback</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/*&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> abort_images_handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>請注意，新的方法 <a href="/python/docs/api/class-page#page-route-from-har">page.route_from_har()</a> 和 <a href="/python/docs/api/class-browsercontext#browser-context-route-from-har">browser_context.route_from_har()</a> 也參與路由並且可以被延遲。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-first-assertions-update">Web-First Assertions Update<a href="#web-first-assertions-update" class="hash-link" aria-label="Direct link to Web-First Assertions Update" title="Direct link to Web-First Assertions Update">​</a></h3>
<ul>
<li>新方法 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-have-values">expect(locator).to_have_values()</a> 可斷言 <code>&lt;select multiple&gt;</code> 元素的所有選擇值。</li>
<li>方法 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-contain-text">expect(locator).to_contain_text()</a> 和 <a href="/python/docs/api/class-locatorassertions#locator-assertions-to-have-text">expect(locator).to_have_text()</a> 現在接受 <code>ignore_case</code> 選項。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="雜項-5">雜項<a href="#雜項-5" class="hash-link" aria-label="Direct link to 雜項" title="Direct link to 雜項">​</a></h3>
<ul>
<li>
<p>如果有服務工作者阻礙了你，你現在可以使用新的上下文選項 <code>service_workers</code> 輕鬆停用它：</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">service_workers</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;block&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">service_workers</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;block&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
</li>
<li>
<p>使用 <code>.zip</code> 路徑作為 <code>recordHar</code> 上下文選項會自動壓縮生成的 HAR：</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">record_har_path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;github.har.zip&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">record_har_path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;github.har.zip&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
</li>
<li>
<p>如果你打算手動編輯 HAR，考慮使用 <code>&quot;minimal&quot;</code> HAR 錄製模式，該模式僅記錄重播所需的基本資訊：</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">record_har_mode</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;minimal&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> record_har_path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;har.har&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">record_har_mode</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;minimal&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> record_har_path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;har.har&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
</li>
<li>
<p>Playwright 現在可在 Ubuntu 22 amd64 和 Ubuntu 22 arm64 上執行。</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-122">版本 1.22<a href="#版本-122" class="hash-link" aria-label="Direct link to 版本 1.22" title="Direct link to 版本 1.22">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="重點-3">重點<a href="#重點-3" class="hash-link" aria-label="Direct link to 重點" title="Direct link to 重點">​</a></h3>
<ul>
<li>
<p>允許通過其 <a href="https://www.w3.org/TR/wai-aria-1.2/#roles" target="_blank" rel="noopener noreferrer">ARIA role</a>、<a href="https://www.w3.org/TR/wai-aria-1.2/#aria-attributes" target="_blank" rel="noopener noreferrer">ARIA attributes</a> 和 <a href="https://w3c.github.io/accname/#dfn-accessible-name" target="_blank" rel="noopener noreferrer">accessible name</a> 選擇元素的角色選擇器。</p>
<div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 點擊具有可訪問名稱 &quot;log in&quot; 的按鈕</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;role=button[name=&#x27;log in&#x27;]&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>閱讀更多在 <a href="/python/docs/locators#locate-by-role">我們的文件</a>。</p>
</li>
<li>
<p>新的 <a href="/python/docs/api/class-locator#locator-filter">locator.filter()</a> API 用於過濾現有的定位器</p>
<div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">buttons </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;role=button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">submit_button </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> buttons</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token builtin" style="color:rgb(86, 156, 214)">filter</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">has_text</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Submit&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">submit_button</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p>程式碼產生器現在支持生成 Pytest 測試</p>
<p><img decoding="async" loading="lazy" src="https://user-images.githubusercontent.com/746130/168098384-40784024-6c26-4426-8255-e714862af6fc.png" alt="Graphics" class="img_ev3q"></p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-121">版本 1.21<a href="#版本-121" class="hash-link" aria-label="Direct link to 版本 1.21" title="Direct link to 版本 1.21">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="重點-4">重點<a href="#重點-4" class="hash-link" aria-label="Direct link to 重點" title="Direct link to 重點">​</a></h3>
<ul>
<li>
<p>新的角色選擇器允許通過其 <a href="https://www.w3.org/TR/wai-aria-1.2/#roles" target="_blank" rel="noopener noreferrer">ARIA role</a>、<a href="https://www.w3.org/TR/wai-aria-1.2/#aria-attributes" target="_blank" rel="noopener noreferrer">ARIA attributes</a> 和 <a href="https://w3c.github.io/accname/#dfn-accessible-name" target="_blank" rel="noopener noreferrer">accessible name</a> 選擇元素。</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 點擊一個可訪問名稱為 &quot;log in&quot; 的按鈕</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;role=button[name=&#x27;log in&#x27;]&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># 點擊一個可訪問名稱為 &quot;log in&quot; 的按鈕</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;role=button[name=&#x27;log in&#x27;]&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>閱讀更多在 <a href="/python/docs/locators#locate-by-role">我們的文件</a>。</p>
</li>
<li>
<p>新的 <code>scale</code> 選項在 <a href="/python/docs/api/class-page#page-screenshot">page.screenshot()</a> 中，用於更小尺寸的截圖。</p>
</li>
<li>
<p>新的 <code>caret</code> 選項在 <a href="/python/docs/api/class-page#page-screenshot">page.screenshot()</a> 中，用於控制文本插入點。預設為 <code>&quot;hide&quot;</code>。</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="行為變更-2">行為變更<a href="#行為變更-2" class="hash-link" aria-label="Direct link to 行為變更" title="Direct link to 行為變更">​</a></h3>
<ul>
<li><code>mcr.microsoft.com/playwright</code> docker 映像檔不再包含 Python。請使用 <code>mcr.microsoft.com/playwright/python</code> 作為預先安裝 Python 的 Playwright-ready docker 映像檔。</li>
<li>Playwright 現在支援通過 <a href="/python/docs/api/class-locator#locator-set-input-files">locator.set_input_files()</a> API 上傳大型檔案（數百 MB）。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-23">瀏覽器版本<a href="#瀏覽器版本-23" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 101.0.4951.26</li>
<li>Mozilla Firefox 98.0.2</li>
<li>WebKit 15.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 100</li>
<li>Microsoft Edge 100</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-120">版本 1.20<a href="#版本-120" class="hash-link" aria-label="Direct link to 版本 1.20" title="Direct link to 版本 1.20">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="重點-5">重點<a href="#重點-5" class="hash-link" aria-label="Direct link to 重點" title="Direct link to 重點">​</a></h3>
<ul>
<li>新選項用於方法 <a href="/python/docs/api/class-page#page-screenshot">page.screenshot()</a>, <a href="/python/docs/api/class-locator#locator-screenshot">locator.screenshot()</a> 和 <a href="/python/docs/api/class-elementhandle#element-handle-screenshot">element_handle.screenshot()</a>:<!-- -->
<ul>
<li>選項 <code>animations: &quot;disabled&quot;</code> 將所有 CSS 動畫和過渡倒回到一致的狀態</li>
<li>選項 <code>mask: Locator[]</code> 將給定元素遮罩，覆蓋上粉紅色 <code>#FF00FF</code> 方框。</li>
</ul>
</li>
<li><a href="https://playwright.dev/docs/trace-viewer" target="_blank" rel="noopener noreferrer">Trace Viewer</a> 現在顯示 <a href="https://playwright.dev/docs/api-testing" target="_blank" rel="noopener noreferrer">API 測試請求</a>。</li>
<li><a href="/python/docs/api/class-locator#locator-highlight">locator.highlight()</a> 視覺上顯示元素，以便於除錯。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="公告-2">公告<a href="#公告-2" class="hash-link" aria-label="Direct link to 公告" title="Direct link to 公告">​</a></h3>
<ul>
<li>我們現在提供一個指定的 Python docker 映像 <code>mcr.microsoft.com/playwright/python</code>。如果你使用 Python，請切換到它。這是最後一個包含 Python 在我們的 javascript <code>mcr.microsoft.com/playwright</code> docker 映像中的版本。</li>
<li>v1.20 是最後一個為 macOS 10.15 Catalina 接收 WebKit 更新的版本。請更新 macOS 以繼續使用最新和最好的 WebKit!</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-24">瀏覽器版本<a href="#瀏覽器版本-24" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 101.0.4921.0</li>
<li>Mozilla Firefox 97.0.1</li>
<li>WebKit 15.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 99</li>
<li>Microsoft Edge 99</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-119">版本 1.19<a href="#版本-119" class="hash-link" aria-label="Direct link to 版本 1.19" title="Direct link to 版本 1.19">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="重點-6">重點<a href="#重點-6" class="hash-link" aria-label="Direct link to 重點" title="Direct link to 重點">​</a></h3>
<ul>
<li>
<p>定位器現在支援 <code>has</code> 選項，確保其內包含另一個定位器：</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;article&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> has</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.highlight&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;article&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> has</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.highlight&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>閱讀更多在 <a href="/python/docs/api/class-locator#locator-locator">定位器文件</a>。</p>
</li>
<li>
<p>新的 <a href="/python/docs/api/class-locator#locator-page">locator.page</a></p>
</li>
<li>
<p><a href="/python/docs/api/class-page#page-screenshot">page.screenshot()</a> 和 <a href="/python/docs/api/class-locator#locator-screenshot">locator.screenshot()</a> 現在自動隱藏閃爍的插入點</p>
</li>
<li>
<p>Playwright Codegen 現在生成定位器和框架定位器</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-25">瀏覽器版本<a href="#瀏覽器版本-25" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 100.0.4863.0</li>
<li>Mozilla Firefox 96.0.1</li>
<li>WebKit 15.4</li>
</ul>
<p>此版本也針對以下穩定  頻道進行了測試:</p>
<ul>
<li>Google Chrome 98</li>
<li>Microsoft Edge 98</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-118">版本 1.18<a href="#版本-118" class="hash-link" aria-label="Direct link to 版本 1.18" title="Direct link to 版本 1.18">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="api-測試">API 測試<a href="#api-測試" class="hash-link" aria-label="Direct link to API 測試" title="Direct link to API 測試">​</a></h3>
<p>Playwright for Python 1.18 準備推出新的 <a href="/python/docs/api/class-apirequestcontext">API Testing</a>，讓你可以直接從 Python 發送請求到伺服器！現在你可以：</p>
<ul>
<li>測試你的伺服器 API</li>
<li>在測試中訪問 web 應用程式之前準備伺服器端狀態</li>
<li>在瀏覽器中執行一些操作後驗證伺服器端後置條件</li>
</ul>
<p>要代表 Playwright 的 Page 發出請求，使用 <strong>new <a href="/python/docs/api/class-page#page-request">page.request</a> API</strong>:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># Do a GET request on behalf of page</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">res </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;http://example.com/foo.json&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># Do a GET request on behalf of page</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">res </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;http://example.com/foo.json&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>在<a href="/python/docs/api/class-apirequestcontext">我們的文件</a>中閱讀更多內容。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="web-first-assertions">Web-First Assertions<a href="#web-first-assertions" class="hash-link" aria-label="Direct link to Web-First Assertions" title="Direct link to Web-First Assertions">​</a></h3>
<p>Playwright for Python 1.18 準備推出 <a href="/python/docs/test-assertions">Web-First Assertions</a>。</p>
<p>考慮以下範例:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sync_api </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> Page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> expect</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">test_status_becomes_submitted</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># ..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;#submit-button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.status&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_have_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Submitted&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">async_api </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> Page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> expect</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">test_status_becomes_submitted</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token boolean" style="color:#569CD6">None</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token comment" style="color:rgb(106, 153, 85)"># ..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;#submit-button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> expect</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;.status&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">to_have_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;Submitted&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Playwright 將會重新測試具有選擇器 <code>.status</code> 的節點，直到獲取的節點具有 <code>&quot;Submitted&quot;</code> 文本。它將會重新獲取節點並一遍又一遍地檢查，直到滿足條件或達到超時。你可以將這個超時作為選項傳遞。</p>
<p>閱讀更多在 <a href="/python/docs/test-assertions">我們的文件</a>。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="定位器改進">定位器改進<a href="#定位器改進" class="hash-link" aria-label="Direct link to 定位器改進" title="Direct link to 定位器改進">​</a></h3>
<ul>
<li>
<p><a href="/python/docs/api/class-locator#locator-drag-to">locator.drag_to()</a></p>
</li>
<li>
<p>每個 locator 現在可以選擇性地根據其包含的文本進行過濾：</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;li&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> has_text</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my item&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;li&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> has_text</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my item&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>閱讀更多在 <a href="/python/docs/api/class-locator#locator-locator">locator 文件</a>。</p>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-和變更">新的 API 和變更<a href="#新的-api-和變更" class="hash-link" aria-label="Direct link to 新的 API 和變更" title="Direct link to 新的 API 和變更">​</a></h3>
<ul>
<li><a href="/python/docs/api/class-browser#browser-new-context-option-accept-downloads"><code>accept_downloads</code></a> 選項現在預設為 <code>True</code>。</li>
<li><a href="/python/docs/api/class-tracing#tracing-start-option-sources"><code>sources</code></a> 選項將來源嵌入追蹤中。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-26">瀏覽器版本<a href="#瀏覽器版本-26" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 99.0.4812.0</li>
<li>Mozilla Firefox 95.0</li>
<li>WebKit 15.4</li>
</ul>
<p>此版本也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 97</li>
<li>Microsoft Edge 97</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-117">版本 1.17<a href="#版本-117" class="hash-link" aria-label="Direct link to 版本 1.17" title="Direct link to 版本 1.17">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="frame-定位器">Frame 定位器<a href="#frame-定位器" class="hash-link" aria-label="Direct link to Frame 定位器" title="Direct link to Frame 定位器">​</a></h3>
<p>Playwright 1.17 準備推出 <a href="/python/docs/api/class-framelocator">frame locators</a> - 一個頁面上 iframe 的定位器。Frame locators 捕捉足以獲取 <code>iframe</code> 的邏輯，然後在該 iframe 中定位元素。Frame locators 預設是嚴格的，會等待 <code>iframe</code> 出現，並且可以用於 Web-First 斷言。</p>
<p>框架定位器可以使用 <a href="/python/docs/api/class-page#page-frame-locator">page.frame_locator()</a> 或 <a href="/python/docs/api/class-locator#locator-frame-locator">locator.frame_locator()</a> 方法建立。</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">frame_locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-frame&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;text=Submit&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>更多資訊請參見 <a href="/python/docs/api/class-framelocator">我們的文件</a>。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="trace-viewer-更新">Trace Viewer 更新<a href="#trace-viewer-更新" class="hash-link" aria-label="Direct link to Trace Viewer 更新" title="Direct link to Trace Viewer 更新">​</a></h3>
<p>Playwright Trace Viewer 現在<strong>可在線使用</strong>，網址為 <a href="https://trace.playwright.dev" target="_blank" rel="noopener noreferrer">https://trace.playwright.dev</a>！只需拖放你的 <code>trace.zip</code> 文件即可檢查其內容。</p>
<blockquote>
<p><strong>注意</strong>: 追蹤檔案不會上傳到任何地方; <a href="https://trace.playwright.dev" target="_blank" rel="noopener noreferrer">trace.playwright.dev</a> 是一個 <a href="https://web.dev/progressive-web-apps/" target="_blank" rel="noopener noreferrer">progressive web application</a>，在本地處理追蹤。</p>
</blockquote>
<ul>
<li>Playwright Test 追蹤現在預設包含來源（這些可以用追蹤選項關閉）</li>
<li>追蹤檢視器現在顯示測試名稱</li>
<li>新的追蹤 Metadata 頁籤包含瀏覽器詳細資訊</li>
<li>快照現在有 URL 欄</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="html-report-update">HTML Report Update<a href="#html-report-update" class="hash-link" aria-label="Direct link to HTML Report Update" title="Direct link to HTML Report Update">​</a></h3>
<ul>
<li>HTML 報告現在支援動態篩選</li>
<li>報告現在是一個<strong>單一靜態 HTML 檔案</strong>，可以通過電子郵件發送或作為 slack 附件。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ubuntu-arm64-支援--更多">Ubuntu ARM64 支援 + 更多<a href="#ubuntu-arm64-支援--更多" class="hash-link" aria-label="Direct link to Ubuntu ARM64 支援 + 更多" title="Direct link to Ubuntu ARM64 支援 + 更多">​</a></h3>
<ul>
<li>
<p>Playwright 現在支援 <strong>Ubuntu 20.04 ARM64</strong>。你現在可以在 Apple M1 和 Raspberry Pi 上的 Docker 中執行 Playwright 測試。</p>
</li>
<li>
<p>你現在可以使用 Playwright 在 Linux 上安裝穩定版本的 Edge：</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">npx playwright </span><span class="token function" style="color:rgb(220, 220, 170)">install</span><span class="token plain"> msedge</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-11">新的 API<a href="#新的-api-11" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li>Tracing 現在支援一個 <a href="/python/docs/api/class-tracing#tracing-start-option-title"><code>&#x27;title&#x27;</code></a> 選項</li>
<li>Page 導航支援一個新的 <a href="/python/docs/api/class-page#page-goto"><code>&#x27;commit&#x27;</code></a> 等待選項</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-116">版本 1.16<a href="#版本-116" class="hash-link" aria-label="Direct link to 版本 1.16" title="Direct link to 版本 1.16">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-playwright-函式庫">🎭 Playwright 函式庫<a href="#-playwright-函式庫" class="hash-link" aria-label="Direct link to 🎭 Playwright 函式庫" title="Direct link to 🎭 Playwright 函式庫">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="locatorwait_for"><code>locator.wait_for</code><a href="#locatorwait_for" class="hash-link" aria-label="Direct link to locatorwait_for" title="Direct link to locatorwait_for">​</a></h4>
<p>等待定位器解析為具有給定狀態的單個元素。預設為 <code>state: &#x27;visible&#x27;</code>。</p>
<p>在處理清單時特別方便:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">order_sent </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;#order-sent&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">order_sent</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">wait_for</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>閱讀更多關於 <a href="/python/docs/api/class-locator#locator-wait-for">locator.wait_for</a>。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="docker-support-for-arm64">Docker support for Arm64<a href="#docker-support-for-arm64" class="hash-link" aria-label="Direct link to Docker support for Arm64" title="Direct link to Docker support for Arm64">​</a></h3>
<p>Playwright Docker image 現在已經為 Arm64 發佈，因此可以在 Apple Silicon 上使用。</p>
<p>了解更多關於 <a href="/python/docs/docker">Docker integration</a> 的資訊。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-playwright-trace-viewer">🎭 Playwright Trace Viewer<a href="#-playwright-trace-viewer" class="hash-link" aria-label="Direct link to 🎭 Playwright Trace Viewer" title="Direct link to 🎭 Playwright Trace Viewer">​</a></h3>
<ul>
<li>使用 <code>npx playwright show-trace</code> 執行 trace viewer 並將 trace 檔案拖放到 trace viewer PWA</li>
<li>更好的動作目標視覺歸因</li>
</ul>
<p>閱讀更多關於 <a href="/python/docs/trace-viewer">Trace Viewer</a> 的資訊。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-27">瀏覽器版本<a href="#瀏覽器版本-27" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 97.0.4666.0</li>
<li>Mozilla Firefox 93.0</li>
<li>WebKit 15.4</li>
</ul>
<p>此版本的 Playwright 也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 94</li>
<li>Microsoft Edge 94</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-115">版本 1.15<a href="#版本-115" class="hash-link" aria-label="Direct link to 版本 1.15" title="Direct link to 版本 1.15">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="️-滑鼠滾輪">🖱️ 滑鼠滾輪<a href="#️-滑鼠滾輪" class="hash-link" aria-label="Direct link to 🖱️ 滑鼠滾輪" title="Direct link to 🖱️ 滑鼠滾輪">​</a></h3>
<p>使用 <a href="/python/docs/api/class-mouse#mouse-wheel">mouse.wheel()</a> 現在可以垂直或水平滾動。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-新標頭-api">📜 新標頭 API<a href="#-新標頭-api" class="hash-link" aria-label="Direct link to 📜 新標頭 API" title="Direct link to 📜 新標頭 API">​</a></h3>
<p>先前無法獲取回應的多個標頭值。現在這是可能的，並且提供了額外的輔助函式:</p>
<ul>
<li><a href="/python/docs/api/class-request#request-all-headers">request.all_headers</a>()</li>
<li><a href="/python/docs/api/class-request#request-headers-array">request.headers_array</a>()</li>
<li><a href="/python/docs/api/class-request#request-header-value">request.header_value</a>()</li>
<li><a href="/python/docs/api/class-response#response-all-headers">response.all_headers</a>()</li>
<li><a href="/python/docs/api/class-response#response-headers-array">response.headers_array</a>()</li>
<li><a href="/python/docs/api/class-response#response-header-value">response.header_value</a>()</li>
<li><a href="/python/docs/api/class-response#response-header-values">response.header_values</a>()</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="-強制色彩模擬">🌈 強制色彩模擬<a href="#-強制色彩模擬" class="hash-link" aria-label="Direct link to 🌈 強制色彩模擬" title="Direct link to 🌈 強制色彩模擬">​</a></h3>
<p>現在可以通過在 <a href="/python/docs/api/class-browser#browser-new-context">browser.new_context()</a> 中傳遞 <code>forced-colors</code> CSS 媒體功能或呼叫 <a href="/python/docs/api/class-page#page-emulate-media">page.emulate_media()</a> 來模擬它。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-12">新的 API<a href="#新的-api-12" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h3>
<ul>
<li><a href="/python/docs/api/class-page#page-route">page.route()</a> 接受新的 <code>times</code> 選項來指定此路由應匹配的次數。</li>
<li><a href="/python/docs/api/class-page#page-set-checked">page.set_checked()</a> 和 <a href="/python/docs/api/class-locator#locator-set-checked">locator.set_checked()</a> 被引入來設置複選框的選中狀態。</li>
<li><a href="/python/docs/api/class-request#request-sizes">request.sizes()</a> 返回給定 http 請求的資源大小資訊。</li>
<li><a href="/python/docs/api/class-tracing#tracing-start-chunk">tracing.start_chunk()</a> - 開始一個新的追踪塊。</li>
<li><a href="/python/docs/api/class-tracing#tracing-stop-chunk">tracing.stop_chunk()</a> - 停止一個新的追踪塊。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-28">瀏覽器版本<a href="#瀏覽器版本-28" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 96.0.4641.0</li>
<li>Mozilla Firefox 92.0</li>
<li>WebKit 15.0</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-114">版本 1.14<a href="#版本-114" class="hash-link" aria-label="Direct link to 版本 1.14" title="Direct link to 版本 1.14">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="️-新的-strict-模式">⚡️ 新的 &quot;strict&quot; 模式<a href="#️-新的-strict-模式" class="hash-link" aria-label="Direct link to ⚡️ 新的 &quot;strict&quot; 模式" title="Direct link to ⚡️ 新的 &quot;strict&quot; 模式">​</a></h4>
<p>選擇器模糊性是自動化測試中的常見問題。<strong>&quot;strict&quot; 模式</strong>確保您的選擇器指向單一元素，否則會拋出錯誤。</p>
<p>將 <code>strict=true</code> 傳入你的動作呼叫中以選擇加入。</p>
<div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># This will throw if you have more than one button!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> strict</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean" style="color:#569CD6">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-新的-定位器-api">📍 新的 <a href="/python/docs/api/class-locator"><strong>定位器 API</strong></a><a href="#-新的-定位器-api" class="hash-link" aria-label="Direct link to -新的-定位器-api" title="Direct link to -新的-定位器-api">​</a></h4>
<p>Locator 代表頁面上元素的視圖。它捕捉了足夠的邏輯，以便在任何給定時刻檢索元素。</p>
<p>兩者之間的區別在於 <a href="/python/docs/api/class-locator">Locator</a> 和 <a href="/python/docs/api/class-elementhandle">ElementHandle</a> 是後者指向特定的元素，而 <a href="/python/docs/api/class-locator">Locator</a> 捕捉如何檢索該元素的邏輯。</p>
<p>另外，定位器預設是**「嚴格」的**！</p>
<div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>了解更多資訊請參閱<a href="/python/docs/api/class-locator">文件</a>。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-實驗性-react-和-vue-選擇器引擎">🧩 實驗性 <a href="/python/docs/other-locators#react-locator"><strong>React</strong></a> 和 <a href="/python/docs/other-locators#vue-locator"><strong>Vue</strong></a> 選擇器引擎<a href="#-實驗性-react-和-vue-選擇器引擎" class="hash-link" aria-label="Direct link to -實驗性-react-和-vue-選擇器引擎" title="Direct link to -實驗性-react-和-vue-選擇器引擎">​</a></h4>
<p>React 和 Vue 選擇器允許通過其元件名稱和/或屬性值選擇元素。語法與<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Attribute_selectors" target="_blank" rel="noopener noreferrer">屬性選擇器</a>非常相似，並支持所有屬性選擇器運算符。</p>
<div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;_react=SubmitButton[enabled=true]&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;_vue=submit-button[enabled=true]&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>了解更多在 <a href="/python/docs/other-locators#react-locator">react selectors 文件</a> 和 <a href="/python/docs/other-locators#vue-locator">vue selectors 文件</a>。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="-新的-nth-和-visible-選擇器引擎">✨ 新的 <a href="/python/docs/other-locators#n-th-element-locator"><strong><code>nth</code></strong></a> 和 <a href="/python/docs/other-locators#css-matching-only-visible-elements"><strong><code>visible</code></strong></a> 選擇器引擎<a href="#-新的-nth-和-visible-選擇器引擎" class="hash-link" aria-label="Direct link to -新的-nth-和-visible-選擇器引擎" title="Direct link to -新的-nth-和-visible-選擇器引擎">​</a></h4>
<ul>
<li><a href="/python/docs/other-locators#n-th-element-locator"><code>nth</code></a> 選擇器引擎相當於 <code>:nth-match</code> 偽類別，但可以與其他選擇器引擎結合使用。</li>
<li><a href="/python/docs/other-locators#css-matching-only-visible-elements"><code>visible</code></a> 選擇器引擎相當於 <code>:visible</code> 偽類別，但可以與其他選擇器引擎結合使用。</li>
</ul>
<div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># select the first button among all buttons</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">button</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button &gt;&gt; nth=0&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># or if you are using locators, you can use first, nth() and last</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">locator</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">first</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># click a visible button</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">button</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button &gt;&gt; visible=true&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-29">瀏覽器版本<a href="#瀏覽器版本-29" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h3>
<ul>
<li>Chromium 94.0.4595.0</li>
<li>Mozilla Firefox 91.0</li>
<li>WebKit 15.0</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-113">版本 1.13<a href="#版本-113" class="hash-link" aria-label="Direct link to 版本 1.13" title="Direct link to 版本 1.13">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="playwright">Playwright<a href="#playwright" class="hash-link" aria-label="Direct link to Playwright" title="Direct link to Playwright">​</a></h4>
<ul>
<li><strong>🖖 程式化拖放支援</strong> 通過 <a href="/python/docs/api/class-page#page-drag-and-drop">page.drag_and_drop()</a> API。</li>
<li><strong>🔎 增強的 HAR</strong> 包含請求和回應的主體大小  。通過 <code>recordHar</code> 選項在 <a href="/python/docs/api/class-browser#browser-new-context">browser.new_context()</a> 使用。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="工具">工具<a href="#工具" class="hash-link" aria-label="Direct link to 工具" title="Direct link to 工具">​</a></h4>
<ul>
<li>Playwright Trace Viewer 現在顯示參數、返回值和 <code>console.log()</code> 呼叫。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="新的和全面修訂的指南">新的和全面修訂的指南<a href="#新的和全面修訂的指南" class="hash-link" aria-label="Direct link to 新的和全面修訂的指南" title="Direct link to 新的和全面修訂的指南">​</a></h4>
<ul>
<li><a href="/python/docs/intro">介紹</a></li>
<li><a href="/python/docs/auth">身份驗證</a></li>
<li><a href="/python/docs/chrome-extensions">Chrome 擴充功能</a></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-30">瀏覽器版本<a href="#瀏覽器版本-30" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h4>
<ul>
<li>Chromium 93.0.4576.0</li>
<li>Mozilla Firefox 90.0</li>
<li>WebKit 14.2</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="新的-playwright-api">新的 Playwright API<a href="#新的-playwright-api" class="hash-link" aria-label="Direct link to 新的 Playwright API" title="Direct link to 新的 Playwright API">​</a></h4>
<ul>
<li>新的 <code>baseURL</code> 選項在 <a href="/python/docs/api/class-browser#browser-new-context">browser.new_context()</a> 和 <a href="/python/docs/api/class-browser#browser-new-page">browser.new_page()</a></li>
<li><a href="/python/docs/api/class-response#response-security-details">response.security_details()</a> 和 <a href="/python/docs/api/class-response#response-server-addr">response.server_addr()</a></li>
<li><a href="/python/docs/api/class-page#page-drag-and-drop">page.drag_and_drop()</a> 和 <a href="/python/docs/api/class-frame#frame-drag-and-drop">frame.drag_and_drop()</a></li>
<li><a href="/python/docs/api/class-download#download-cancel">download.cancel()</a></li>
<li><a href="/python/docs/api/class-page#page-input-value">page.input_value()</a>, <a href="/python/docs/api/class-frame#frame-input-value">frame.input_value()</a> 和 <a href="/python/docs/api/class-elementhandle#element-handle-input-value">element_handle.input_value()</a></li>
<li>新的 <code>force</code> 選項在 <a href="/python/docs/api/class-page#page-fill">page.fill()</a>, <a href="/python/docs/api/class-frame#frame-fill">frame.fill()</a>, 和 <a href="/python/docs/api/class-elementhandle#element-handle-fill">element_handle.fill()</a></li>
<li>新的 <code>force</code> 選項在 <a href="/python/docs/api/class-page#page-select-option">page.select_option()</a>, <a href="/python/docs/api/class-frame#frame-select-option">frame.select_option()</a>, 和 <a href="/python/docs/api/class-elementhandle#element-handle-select-option">element_handle.select_option()</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-112">版本 1.12<a href="#版本-112" class="hash-link" aria-label="Direct link to 版本 1.12" title="Direct link to 版本 1.12">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="️-準備推出-playwright-trace-viewer">🧟‍♂️ 準備推出 Playwright Trace Viewer<a href="#️-準備推出-playwright-trace-viewer" class="hash-link" aria-label="Direct link to 🧟‍♂️ 準備推出 Playwright Trace Viewer" title="Direct link to 🧟‍♂️ 準備推出 Playwright Trace Viewer">​</a></h4>
<p><a href="/python/docs/trace-viewer">Playwright Trace Viewer</a> 是一個新的 GUI 工具，幫助在程式碼執行後探索記錄的 Playwright Traces。Playwright Traces 讓你檢查:</p>
<ul>
<li>每個 Playwright 操作前後的頁面 DOM</li>
<li>每個 Playwright 操作前後的頁面渲染</li>
<li>腳本執行期間的瀏覽器網路</li>
</ul>
<p>追蹤是使用新的 <a href="/python/docs/api/class-browsercontext#browser-context-tracing">browser_context.tracing</a> API 記錄的:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> chromium</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">launch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Start tracing before creating / navigating a page.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">tracing</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">start</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">screenshots</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean" style="color:#569CD6">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> snapshots</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean" style="color:#569CD6">True</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://playwright.dev&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># Stop tracing and export it into a zip archive.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">tracing</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">stop</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">path </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;trace.zip&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>稍後使用 Playwright CLI 檢查追蹤:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">playwright show-trace trace.zip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>這將開啟以下 GUI:</p>
<p>👉 閱讀更多在 <a href="/python/docs/trace-viewer">trace viewer documentation</a>。</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-31">瀏覽器版本<a href="#瀏覽器版本-31" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h4>
<ul>
<li>Chromium 93.0.4530.0</li>
<li>Mozilla Firefox 89.0</li>
<li>WebKit 14.2</li>
</ul>
<p>此版本的 Playwright 也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 91</li>
<li>Microsoft Edge 91</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-13">新的 API<a href="#新的-api-13" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h4>
<ul>
<li><code>reducedMotion</code> 選項在 <a href="/python/docs/api/class-page#page-emulate-media">page.emulate_media()</a>, <a href="/python/docs/api/class-browsertype#browser-type-launch-persistent-context">browser_type.launch_persistent_context()</a>, <a href="/python/docs/api/class-browser#browser-new-context">browser.new_context()</a> 和 <a href="/python/docs/api/class-browser#browser-new-page">browser.new_page()</a></li>
<li><a href="/python/docs/api/class-browsercontext#browser-context-event-request">browser_context.on(&quot;request&quot;)</a></li>
<li><a href="/python/docs/api/class-browsercontext#browser-context-event-request-failed">browser_context.on(&quot;requestfailed&quot;)</a></li>
<li><a href="/python/docs/api/class-browsercontext#browser-context-event-request-finished">browser_context.on(&quot;requestfinished&quot;)</a></li>
<li><a href="/python/docs/api/class-browsercontext#browser-context-event-response">browser_context.on(&quot;response&quot;)</a></li>
<li><code>tracesDir</code> 選項在 <a href="/python/docs/api/class-browsertype#browser-type-launch">browser_type.launch()</a> 和 <a href="/python/docs/api/class-browsertype#browser-type-launch-persistent-context">browser_type.launch_persistent_context()</a></li>
<li>新的 <a href="/python/docs/api/class-browsercontext#browser-context-tracing">browser_context.tracing</a> API 命名空間</li>
<li>新的 <a href="/python/docs/api/class-download#download-page">download.page</a> 方法</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-111">版本 1.11<a href="#版本-111" class="hash-link" aria-label="Direct link to 版本 1.11" title="Direct link to 版本 1.11">​</a></h2>
<p>🎥 新 影片: <a href="https://youtu.be/_Jla6DyuEu4" target="_blank" rel="noopener noreferrer">Playwright: A New Test Automation Framework for the Modern Web</a> (<a href="https://docs.google.com/presentation/d/1xFhZIJrdHkVe2CuMKOrni92HoG2SWslo0DhJJQMR1DI/edit?usp=sharing" target="_blank" rel="noopener noreferrer">slides</a>)</p>
<ul>
<li>我們討論了 Playwright</li>
<li>展示了幕後的工程工作</li>
<li>進行了具有新功能的現場展示 ✨</li>
<li><strong>特別感謝</strong> <a href="http://applitools.com/" target="_blank" rel="noopener noreferrer">applitools</a> 主辦這個活動並邀請我們！</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-32">瀏覽器版本<a href="#瀏覽器版本-32" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h4>
<ul>
<li>Chromium 92.0.4498.0</li>
<li>Mozilla Firefox 89.0b6</li>
<li>WebKit 14.2</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-14">新的 API<a href="#新的-api-14" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h4>
<ul>
<li>支援 <strong>async predicates</strong> 在 API 中的方法，如 <a href="/python/docs/api/class-page#page-wait-for-request">page.expect_request()</a> 和其他方法</li>
<li>新的 <strong>模擬裝置</strong>: Galaxy S8, Galaxy S9+, Galaxy Tab S4, Pixel 3, Pixel 4</li>
<li>新的方法:<!-- -->
<ul>
<li><a href="/python/docs/api/class-page#page-wait-for-url">page.wait_for_url()</a> 以等待導航到 URL</li>
<li><a href="/python/docs/api/class-video#video-delete">video.delete()</a> 和 <a href="/python/docs/api/class-video#video-save-as">video.save_as()</a> 以管理螢幕錄影</li>
</ul>
</li>
<li>新的選項:<!-- -->
<ul>
<li>在 <a href="/python/docs/api/class-browser#browser-new-context">browser.new_context()</a> 方法中的 <code>screen</code> 選項以模擬 <code>window.screen</code> 尺寸</li>
<li>在 <a href="/python/docs/api/class-page#page-check">page.check()</a> 和 <a href="/python/docs/api/class-page#page-uncheck">page.uncheck()</a> 方法中的 <code>position</code> 選項</li>
<li>在 <a href="/python/docs/api/class-page#page-check">page.check()</a>, <a href="/python/docs/api/class-page#page-uncheck">page.uncheck()</a>, <a href="/python/docs/api/class-page#page-click">page.click()</a>, <a href="/python/docs/api/class-page#page-dblclick">page.dblclick()</a>, <a href="/python/docs/api/class-page#page-hover">page.hover()</a> 和 <a href="/python/docs/api/class-page#page-tap">page.tap()</a> 方法中的 <code>trial</code> 選項以進行乾跑操作</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-110">版本 1.10<a href="#版本-110" class="hash-link" aria-label="Direct link to 版本 1.10" title="Direct link to 版本 1.10">​</a></h2>
<ul>
<li><a href="https://github.com/microsoft/playwright-java" target="_blank" rel="noopener noreferrer">Playwright for Java v1.10</a> 現在已經<strong>穩定</strong>！</li>
<li>使用<a href="/python/docs/browsers">新頻道 API</a>在<strong>Google Chrome</strong>和<strong>Microsoft Edge</strong>穩定頻道上執行 Playwright。</li>
<li>在 Mac 和 Windows 上，Chromium 截圖<strong>速度快</strong>。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="捆綁的瀏覽器版本">捆綁的瀏覽器版本<a href="#捆綁的瀏覽器版本" class="hash-link" aria-label="Direct link to 捆綁的瀏覽器版本" title="Direct link to 捆綁的瀏覽器版本">​</a></h4>
<ul>
<li>Chromium 90.0.4430.0</li>
<li>Mozilla Firefox 87.0b10</li>
<li>WebKit 14.2</li>
</ul>
<p>此版本的 Playwright 也針對以下穩定頻道進行了測試:</p>
<ul>
<li>Google Chrome 89</li>
<li>Microsoft Edge 89</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-15">新的 API<a href="#新的-api-15" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h4>
<ul>
<li><a href="/python/docs/api/class-browsertype#browser-type-launch">browser_type.launch()</a> 現在接受新的 &#x27;channel&#x27; 選項。閱讀更多在 <a href="/python/docs/browsers">我們的文件</a>。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-19">版本 1.9<a href="#版本-19" class="hash-link" aria-label="Direct link to 版本 1.9" title="Direct link to 版本 1.9">​</a></h2>
<ul>
<li><a href="/python/docs/debug">Playwright Inspector</a> 是一個<strong>新的 GUI 工具</strong>來編寫和除錯你的測試。<!-- -->
<ul>
<li><strong>逐行除錯</strong>你的 Playwright 腳本，具有播放、暫停和逐步執行功能。</li>
<li>透過<strong>錄製使用者操作</strong>來編寫新腳本。</li>
<li>透過懸停在元素上來<strong>產生元素選擇器</strong>。</li>
<li>設定 <code>PWDEBUG=1</code> 環境變數來啟動 Inspector</li>
</ul>
</li>
<li>在有頭模式下使用 <a href="/python/docs/api/class-page#page-pause">page.pause()</a> <strong>暫停腳本執行</strong>。暫停頁面會啟動 <a href="/python/docs/debug">Playwright Inspector</a> 進行除錯。</li>
<li>CSS 選擇器的<strong>新 has-text 偽類</strong>。<code>:has-text(&quot;example&quot;)</code> 匹配任何包含 <code>&quot;example&quot;</code> 的元素，可能在子元素或後代元素內。查看<a href="/python/docs/other-locators#css-matching-by-text">更多範例</a>。</li>
<li><strong>頁面對話框在執行期間現在會自動關閉</strong>，除非配置了 <code>dialog</code> 事件的監聽器。了解<a href="/python/docs/dialogs">更多資訊</a>。</li>
<li><a href="https://github.com/microsoft/playwright-python" target="_blank" rel="noopener noreferrer">Playwright for Python</a> 現在<strong>穩定</strong>，具有慣用的蛇形命名法 API 和預建的 <a href="/python/docs/docker">Docker 映像</a> 來在 CI/CD 中執行測試。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-33">瀏覽器版本<a href="#瀏覽器版本-33" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h4>
<ul>
<li>Chromium 90.0.4421.0</li>
<li>Mozilla Firefox 86.0b10</li>
<li>WebKit 14.1</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-16">新的 API<a href="#新的-api-16" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h4>
<ul>
<li><a href="/python/docs/api/class-page#page-pause">page.pause()</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-18">版本 1.8<a href="#版本-18" class="hash-link" aria-label="Direct link to 版本 1.8" title="Direct link to 版本 1.8">​</a></h2>
<ul>
<li>
<p><a href="/python/docs/other-locators#css-matching-elements-based-on-layout">根據佈局選擇元素</a> 使用 <code>:left-of()</code>, <code>:right-of()</code>, <code>:above()</code> 和 <code>:below()</code>。</p>
</li>
<li>
<p>Playwright 現在包括命令列介面，前稱 playwright-cli。</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">playwright </span><span class="token parameter variable" style="color:rgb(156, 220, 254)">--help</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
</li>
<li>
<p><a href="/python/docs/api/class-page#page-select-option">page.select_option()</a> 現在會等待選項出現。</p>
</li>
<li>
<p>新的方法來<a href="/python/docs/actionability#assertions">斷言元素狀態</a> 如 <a href="/python/docs/api/class-page#page-is-editable">page.is_editable()</a>。</p>
</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-17">新的 API<a href="#新的-api-17" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h4>
<ul>
<li><a href="/python/docs/api/class-elementhandle#element-handle-is-checked">element_handle.is_checked()</a></li>
<li><a href="/python/docs/api/class-elementhandle#element-handle-is-disabled">element_handle.is_disabled()</a></li>
<li><a href="/python/docs/api/class-elementhandle#element-handle-is-editable">element_handle.is_editable()</a></li>
<li><a href="/python/docs/api/class-elementhandle#element-handle-is-enabled">element_handle.is_enabled()</a></li>
<li><a href="/python/docs/api/class-elementhandle#element-handle-is-hidden">element_handle.is_hidden()</a></li>
<li><a href="/python/docs/api/class-elementhandle#element-handle-is-visible">element_handle.is_visible()</a></li>
<li><a href="/python/docs/api/class-page#page-is-checked">page.is_checked()</a></li>
<li><a href="/python/docs/api/class-page#page-is-disabled">page.is_disabled()</a></li>
<li><a href="/python/docs/api/class-page#page-is-editable">page.is_editable()</a></li>
<li><a href="/python/docs/api/class-page#page-is-enabled">page.is_enabled()</a></li>
<li><a href="/python/docs/api/class-page#page-is-hidden">page.is_hidden()</a></li>
<li><a href="/python/docs/api/class-page#page-is-visible">page.is_visible()</a></li>
<li>新選項 &#x27;editable&#x27; 在 <a href="/python/docs/api/class-elementhandle#element-handle-wait-for-element-state">element_handle.wait_for_element_state()</a>。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-34">瀏覽器版本<a href="#瀏覽器版本-34" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h4>
<ul>
<li>Chromium 90.0.4392.0</li>
<li>Mozilla Firefox 85.0b5</li>
<li>WebKit 14.1</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="版本-17">版本 1.7<a href="#版本-17" class="hash-link" aria-label="Direct link to 版本 1.7" title="Direct link to 版本 1.7">​</a></h2>
<ul>
<li><strong>新 Java SDK</strong>: <a href="https://github.com/microsoft/playwright-java" target="_blank" rel="noopener noreferrer">Playwright for Java</a> 現在與 <a href="https://github.com/microsoft/playwright" target="_blank" rel="noopener noreferrer">JavaScript</a>、<a href="https://github.com/microsoft/playwright-python" target="_blank" rel="noopener noreferrer">Python</a> 和 <a href="https://github.com/microsoft/playwright-dotnet" target="_blank" rel="noopener noreferrer">.NET bindings</a> 相當。</li>
<li><strong>瀏覽器儲存 API</strong>: 新的便利 API 用於儲存和加載瀏覽器儲存狀態（cookies、本地儲存），以簡化具有身份驗證的自動化場景。</li>
<li><strong>新 CSS 選擇器</strong>: 我們聽取了您對更靈活選擇器的反饋，並重新設計了選擇器的實現。Playwright 1.7 推出了<a href="/python/docs/other-locators#css-locator">新的 CSS 擴展</a>，並且很快會有更多更新。</li>
<li><strong>新網站</strong>: <a href="https://playwright.dev/" target="_blank" rel="noopener noreferrer">playwright.dev</a> 的文件網站已更新，現在使用 <a href="https://v2.docusaurus.io/" target="_blank" rel="noopener noreferrer">Docusaurus</a> 構建。</li>
<li><strong>支持 Apple Silicon</strong>: 用於 WebKit 和 Chromium 的 Playwright 瀏覽器二進制文件現在已為 Apple Silicon 構建。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="新的-api-18">新的 API<a href="#新的-api-18" class="hash-link" aria-label="Direct link to 新的 API" title="Direct link to 新的 API">​</a></h4>
<ul>
<li><a href="/python/docs/api/class-browsercontext#browser-context-storage-state">browser_context.storage_state()</a> 取得當前狀態以供日後重用。</li>
<li>在 <a href="/python/docs/api/class-browser#browser-new-context">browser.new_context()</a> 和 <a href="/python/docs/api/class-browser#browser-new-page">browser.new_page()</a> 中的 <code>storageState</code> 選項設定瀏覽器上下文狀態。</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="瀏覽器版本-35">瀏覽器版本<a href="#瀏覽器版本-35" class="hash-link" aria-label="Direct link to 瀏覽器版本" title="Direct link to 瀏覽器版本">​</a></h4>
<ul>
<li>Chromium 89.0.4344.0</li>
<li>Mozilla Firefox 84.0b9</li>
<li>WebKit 14.1</li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/python/docs/library"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">開始使用 - 函式庫</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/python/docs/input"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">操作</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#版本-147" class="table-of-contents__link toc-highlight">版本 1.47</a></li><li><a href="#版本-146" class="table-of-contents__link toc-highlight">版本 1.46</a></li><li><a href="#版本-145" class="table-of-contents__link toc-highlight">版本 1.45</a></li><li><a href="#版本-144" class="table-of-contents__link toc-highlight">版本 1.44</a></li><li><a href="#版本-143" class="table-of-contents__link toc-highlight">版本 1.43</a></li><li><a href="#版本-142" class="table-of-contents__link toc-highlight">版本 1.42</a></li><li><a href="#版本-141" class="table-of-contents__link toc-highlight">版本 1.41</a></li><li><a href="#版本-140" class="table-of-contents__link toc-highlight">版本 1.40</a></li><li><a href="#版本-139" class="table-of-contents__link toc-highlight">版本 1.39</a></li><li><a href="#版本-138" class="table-of-contents__link toc-highlight">版本 1.38</a></li><li><a href="#版本-137" class="table-of-contents__link toc-highlight">版本 1.37</a></li><li><a href="#版本-136" class="table-of-contents__link toc-highlight">版本 1.36</a></li><li><a href="#版本-135" class="table-of-contents__link toc-highlight">版本 1.35</a></li><li><a href="#版本-134" class="table-of-contents__link toc-highlight">版本 1.34</a></li><li><a href="#版本-133" class="table-of-contents__link toc-highlight">版本 1.33</a></li><li><a href="#版本-132" class="table-of-contents__link toc-highlight">版本 1.32</a></li><li><a href="#版本-131" class="table-of-contents__link toc-highlight">版本 1.31</a></li><li><a href="#版本-130" class="table-of-contents__link toc-highlight">版本 1.30</a></li><li><a href="#版本-129" class="table-of-contents__link toc-highlight">版本 1.29</a></li><li><a href="#版本-128" class="table-of-contents__link toc-highlight">版本 1.28</a></li><li><a href="#版本-127" class="table-of-contents__link toc-highlight">版本 1.27</a></li><li><a href="#版本-126" class="table-of-contents__link toc-highlight">版本 1.26</a></li><li><a href="#版本-125" class="table-of-contents__link toc-highlight">版本 1.25</a></li><li><a href="#版本-124" class="table-of-contents__link toc-highlight">版本 1.24</a></li><li><a href="#版本-123" class="table-of-contents__link toc-highlight">版本 1.23</a></li><li><a href="#版本-122" class="table-of-contents__link toc-highlight">版本 1.22</a></li><li><a href="#版本-121" class="table-of-contents__link toc-highlight">版本 1.21</a></li><li><a href="#版本-120" class="table-of-contents__link toc-highlight">版本 1.20</a></li><li><a href="#版本-119" class="table-of-contents__link toc-highlight">版本 1.19</a></li><li><a href="#版本-118" class="table-of-contents__link toc-highlight">版本 1.18</a></li><li><a href="#版本-117" class="table-of-contents__link toc-highlight">版本 1.17</a></li><li><a href="#版本-116" class="table-of-contents__link toc-highlight">版本 1.16</a></li><li><a href="#版本-115" class="table-of-contents__link toc-highlight">版本 1.15</a></li><li><a href="#版本-114" class="table-of-contents__link toc-highlight">版本 1.14</a></li><li><a href="#版本-113" class="table-of-contents__link toc-highlight">版本 1.13</a></li><li><a href="#版本-112" class="table-of-contents__link toc-highlight">版本 1.12</a></li><li><a href="#版本-111" class="table-of-contents__link toc-highlight">版本 1.11</a></li><li><a href="#版本-110" class="table-of-contents__link toc-highlight">版本 1.10</a></li><li><a href="#版本-19" class="table-of-contents__link toc-highlight">版本 1.9</a></li><li><a href="#版本-18" class="table-of-contents__link toc-highlight">版本 1.8</a></li><li><a href="#版本-17" class="table-of-contents__link toc-highlight">版本 1.7</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">學習</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/python/docs/intro">入門</a></li><li class="footer__item"><a href="https://learn.microsoft.com/en-us/training/modules/build-with-playwright/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playwright 訓練<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/python/community/learn-videos">教學影片</a></li><li class="footer__item"><a class="footer__link-item" href="/python/community/feature-videos">精選影片</a></li></ul></div><div class="col footer__col"><div class="footer__title">社群</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/playwright" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://aka.ms/playwright/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/playwrightweb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/playwrightweb" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/microsoft/playwright-python" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC46Zj8pDH5tDosqm1gd7WTg" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://dev.to/playwright" target="_blank" rel="noopener noreferrer" class="footer__link-item">部落格<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/python/community/ambassadors">技術傳教士</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Microsoft</div></div></div></footer></div>
</body>
</html>