<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-stable docs-doc-page docs-doc-id-api/class-browsercontext" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.1">
<title data-rh="true">BrowserContext | Playwright Python</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://repository-images.githubusercontent.com/221981891/8c5c6942-c91f-4df1-825f-4cf474056bd7"><meta data-rh="true" name="twitter:image" content="https://repository-images.githubusercontent.com/221981891/8c5c6942-c91f-4df1-825f-4cf474056bd7"><meta data-rh="true" property="og:url" content="https://playwright.dev/python/docs/api/class-browsercontext"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="stable"><meta data-rh="true" name="docusaurus_tag" content="docs-default-stable"><meta data-rh="true" name="docsearch:version" content="stable"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-stable"><meta data-rh="true" property="og:title" content="BrowserContext | Playwright Python"><meta data-rh="true" name="description" content="BrowserContexts provide a way to operate multiple independent browser sessions."><meta data-rh="true" property="og:description" content="BrowserContexts provide a way to operate multiple independent browser sessions."><link data-rh="true" rel="icon" href="/python/img/playwright-logo.svg"><link data-rh="true" rel="canonical" href="https://playwright.dev/python/docs/api/class-browsercontext"><link data-rh="true" rel="alternate" href="https://playwright.dev/python/docs/api/class-browsercontext" hreflang="en"><link data-rh="true" rel="alternate" href="https://playwright.dev/python/docs/api/class-browsercontext" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://K09ICMCV6X-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Playwright Python" href="/python/opensearch.xml">
<script src="/python/js/redirection.js"></script><link rel="stylesheet" href="/python/assets/css/styles.be59abed.css">
<script src="/python/assets/js/runtime~main.24082246.js" defer="defer"></script>
<script src="/python/assets/js/main.3c615047.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?t("light"):t("dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/python/"><div class="navbar__logo"><img src="/python/img/playwright-logo.svg" alt="Playwright logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/python/img/playwright-logo.svg" alt="Playwright logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Playwright for Python</b></a><a class="navbar__item navbar__link" href="/python/docs/intro">文件</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/python/docs/api/class-playwright">API</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Python</a><ul class="dropdown__menu"><li><a href="/python/docs/api/class-browsercontext" target="_self" rel="noopener noreferrer" class="dropdown__link undefined dropdown__link--active" data-language-prefix="/python/">Python</a></li><li><a href="/docs/api/class-browsercontext" target="_self" rel="noopener noreferrer" class="dropdown__link" data-language-prefix="/">Node.js</a></li><li><a href="/java/docs/api/class-browsercontext" target="_self" rel="noopener noreferrer" class="dropdown__link" data-language-prefix="/java/">Java</a></li><li><a href="/dotnet/docs/api/class-browsercontext" target="_self" rel="noopener noreferrer" class="dropdown__link" data-language-prefix="/dotnet/">.NET</a></li></ul></div><a class="navbar__item navbar__link" href="/python/community/welcome">社群</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/microsoft/playwright-python" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://aka.ms/playwright/discord" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-discord-link" aria-label="Discord server"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/python/docs/api/class-playwright">API 參考</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-playwright">Playwright</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/python/docs/api/class-apirequest">類別</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-apirequest">APIRequest</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-apirequestcontext">APIRequestContext</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-apiresponse">APIResponse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-accessibility">Accessibility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-browser">Browser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/python/docs/api/class-browsercontext">BrowserContext</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-browsertype">BrowserType</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-cdpsession">CDPSession</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-clock">Clock</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-consolemessage">ConsoleMessage</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-dialog">Dialog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-download">Download</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-elementhandle">ElementHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-error">Error</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-filechooser">FileChooser</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-frame">Frame</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-framelocator">FrameLocator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-jshandle">JSHandle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-keyboard">Keyboard</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-locator">Locator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-mouse">Mouse</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-page">Page</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-request">Request</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-response">Response</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-route">Route</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-selectors">Selectors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-timeouterror">TimeoutError</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-touchscreen">Touchscreen</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-tracing">Tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-video">Video</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-weberror">WebError</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-websocket">WebSocket</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-worker">Worker</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" tabindex="0" href="/python/docs/api/class-apiresponseassertions">斷言</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-apiresponseassertions">APIResponseAssertions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-locatorassertions">LocatorAssertions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/python/docs/api/class-pageassertions">PageAssertions</a></li></ul></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/python/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">API 參考</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">類別</span><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">BrowserContext</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>BrowserContext</h1></header><p>BrowserContexts provide a way to operate multiple independent browser sessions.</p>
<p>If a page opens another page, e.g. with a <code>window.open</code> call, the popup will belong to the parent page&#x27;s browser context.</p>
<p>Playwright allows creating isolated non-persistent browser contexts with <a href="/python/docs/api/class-browser#browser-new-context">browser.new_context()</a> method. Non-persistent browser contexts don&#x27;t write any browsing data to disk.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># create a new incognito browser context</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># create a new page inside context.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># dispose context once it is no longer needed.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># create a new incognito browser context</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># create a new page inside context.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># dispose context once it is no longer needed.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-add-cookies">add_cookies<a href="#browser-context-add-cookies" class="hash-link" aria-label="Direct link to add_cookies" title="Direct link to add_cookies">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.add_cookies</x-search>
<p>Adds cookies into this browser context. All pages within this context will have these cookies installed. Cookies can be obtained via <a href="/python/docs/api/class-browsercontext#browser-context-cookies">browser_context.cookies()</a>.</p>
<p><strong>Usage</strong></p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">add_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">cookie_object1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> cookie_object2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">add_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token plain">cookie_object1</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> cookie_object2</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li><code>cookies</code> <a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener noreferrer" title="Dict">Dict</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-add-cookies-option-cookies"></a><a href="#browser-context-add-cookies-option-cookies" class="list-anchor">#</a>
<ul>
<li>
<p><code>name</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>value</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>url</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> <em>(optional)</em></p>
<p>Either url or domain / path are required. Optional.</p>
</li>
<li>
<p><code>domain</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> <em>(optional)</em></p>
<p>For the cookie to apply to all subdomains as well, prefix domain with a dot, like this: &quot;.example.com&quot;. Either url or domain / path are required. Optional.</p>
</li>
<li>
<p><code>path</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> <em>(optional)</em></p>
<p>Either url or domain / path are required Optional.</p>
</li>
<li>
<p><code>expires</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a> <em>(optional)</em></p>
<p>Unix time in seconds. Optional.</p>
</li>
<li>
<p><code>httpOnly</code> <a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a> <em>(optional)</em></p>
<p>Optional.</p>
</li>
<li>
<p><code>secure</code> <a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a> <em>(optional)</em></p>
<p>Optional.</p>
</li>
<li>
<p><code>sameSite</code> &quot;Strict&quot; | &quot;Lax&quot; | &quot;None&quot; <em>(optional)</em></p>
<p>Optional.</p>
</li>
</ul>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-add-cookies-return"></a><a href="#browser-context-add-cookies-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-add-init-script">add_init_script<a href="#browser-context-add-init-script" class="hash-link" aria-label="Direct link to add_init_script" title="Direct link to add_init_script">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.add_init_script</x-search>
<p>Adds a script which would be evaluated in one of the following scenarios:</p>
<ul>
<li>Whenever a page is created in the browser context or is navigated.</li>
<li>Whenever a child frame is attached or navigated in any page in the browser context. In this case, the script is evaluated in the context of the newly attached frame.</li>
</ul>
<p>The script is evaluated after the document was created but before any of its scripts were run. This is useful to amend the JavaScript environment, e.g. to seed <code>Math.random</code>.</p>
<p><strong>Usage</strong></p>
<p>An example of overriding <code>Math.random</code> before the page loads:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)">// preload.js</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token known-class-name class-name" style="color:rgb(78, 201, 176)">Math</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token method-variable function-variable method function property-access" style="color:rgb(220, 220, 170)">random</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(212, 212, 212)">=&gt;</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">42</span><span class="token punctuation" style="color:rgb(212, 212, 212)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># in your playwright script, assuming the preload.js file is in same directory.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">add_init_script</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;preload.js&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token comment" style="color:rgb(106, 153, 85)"># in your playwright script, assuming the preload.js file is in same directory.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">add_init_script</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;preload.js&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The order of evaluation of multiple scripts installed via <a href="/python/docs/api/class-browsercontext#browser-context-add-init-script">browser_context.add_init_script()</a> and <a href="/python/docs/api/class-page#page-add-init-script">page.add_init_script()</a> is not defined.</p></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>path</code> <a href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener noreferrer" title="Union">Union</a>[<a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a>, <a href="https://realpython.com/python-pathlib/" target="_blank" rel="noopener noreferrer" title="pathlib.Path">pathlib.Path</a>] <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-add-init-script-option-path"></a><a href="#browser-context-add-init-script-option-path" class="list-anchor">#</a></p>
<p>Path to the JavaScript file. If <code>path</code> is a relative path, then it is resolved relative to the current working directory. Optional.</p>
</li>
<li>
<p><code>script</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-add-init-script-option-script"></a><a href="#browser-context-add-init-script-option-script" class="list-anchor">#</a></p>
<p>Script to be evaluated in all pages in the browser context. Optional.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-add-init-script-return"></a><a href="#browser-context-add-init-script-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-clear-cookies">clear_cookies<a href="#browser-context-clear-cookies" class="hash-link" aria-label="Direct link to clear_cookies" title="Direct link to clear_cookies">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.clear_cookies</x-search>
<p>Removes cookies from context. Accepts optional filter.</p>
<p><strong>Usage</strong></p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;session-id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">domain</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-origin.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/api/v1&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;session-id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> domain</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-origin.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;session-id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">domain</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-origin.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">path</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/api/v1&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">name</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;session-id&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> domain</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-origin.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>domain</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> | <a href="https://docs.python.org/3/library/re.html" target="_blank" rel="noopener noreferrer" title="Pattern">Pattern</a> <em>(optional)</em> <font size="2">Added in: v1.43</font><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-clear-cookies-option-domain"></a><a href="#browser-context-clear-cookies-option-domain" class="list-anchor">#</a></p>
<p>Only removes cookies with the given domain.</p>
</li>
<li>
<p><code>name</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> | <a href="https://docs.python.org/3/library/re.html" target="_blank" rel="noopener noreferrer" title="Pattern">Pattern</a> <em>(optional)</em> <font size="2">Added in: v1.43</font><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-clear-cookies-option-name"></a><a href="#browser-context-clear-cookies-option-name" class="list-anchor">#</a></p>
<p>Only removes cookies with the given name.</p>
</li>
<li>
<p><code>path</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> | <a href="https://docs.python.org/3/library/re.html" target="_blank" rel="noopener noreferrer" title="Pattern">Pattern</a> <em>(optional)</em> <font size="2">Added in: v1.43</font><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-clear-cookies-option-path"></a><a href="#browser-context-clear-cookies-option-path" class="list-anchor">#</a></p>
<p>Only removes cookies with the given path.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-clear-cookies-return"></a><a href="#browser-context-clear-cookies-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-clear-permissions">clear_permissions<a href="#browser-context-clear-permissions" class="hash-link" aria-label="Direct link to clear_permissions" title="Direct link to clear_permissions">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.clear_permissions</x-search>
<p>Clears all permission overrides for the browser context.</p>
<p><strong>Usage</strong></p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">grant_permissions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;clipboard-read&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># do stuff ..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_permissions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">grant_permissions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;clipboard-read&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token comment" style="color:rgb(106, 153, 85)"># do stuff ..</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clear_permissions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-clear-permissions-return"></a><a href="#browser-context-clear-permissions-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-close">close<a href="#browser-context-close" class="hash-link" aria-label="Direct link to close" title="Direct link to close">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.close</x-search>
<p>Closes the browser context. All the pages that belong to the browser context will be closed.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The default browser context cannot be closed.</p></div></div>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>reason</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> <em>(optional)</em> <font size="2">Added in: v1.40</font><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-close-option-reason"></a><a href="#browser-context-close-option-reason" class="list-anchor">#</a></p>
<p>The reason to be reported to the operations interrupted by the context closure.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-close-return"></a><a href="#browser-context-close-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-cookies">cookies<a href="#browser-context-cookies" class="hash-link" aria-label="Direct link to cookies" title="Direct link to cookies">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.cookies</x-search>
<p>If no URLs are specified, this method returns all cookies. If URLs are specified, only cookies that affect those URLs are returned.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">cookies</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>urls</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> | <a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a>] <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-cookies-option-urls"></a><a href="#browser-context-cookies-option-urls" class="list-anchor">#</a></p>
<p>Optional list of URLs.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener noreferrer" title="Dict">Dict</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-cookies-return"></a><a href="#browser-context-cookies-return" class="list-anchor">#</a>
<ul>
<li>
<p><code>name</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>value</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>domain</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>path</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>expires</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a></p>
<p>Unix time in seconds.</p>
</li>
<li>
<p><code>httpOnly</code> <a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a></p>
</li>
<li>
<p><code>secure</code> <a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a></p>
</li>
<li>
<p><code>sameSite</code> &quot;Strict&quot; | &quot;Lax&quot; | &quot;None&quot;</p>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-wait-for-console-message">expect_console_message<a href="#browser-context-wait-for-console-message" class="hash-link" aria-label="Direct link to expect_console_message" title="Direct link to expect_console_message">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.34</font>
<x-search>browserContext.expect_console_message</x-search>
<p>Performs action and waits for a <a title="ConsoleMessage" href="/python/docs/api/class-consolemessage">ConsoleMessage</a> to be logged by in the pages in the context. If predicate is provided, it passes <a title="ConsoleMessage" href="/python/docs/api/class-consolemessage">ConsoleMessage</a> value into the <code>predicate</code> function and waits for <code>predicate(message)</code> to return a truthy value. Will throw an error if the page is closed before the <a href="/python/docs/api/class-browsercontext#browser-context-event-console">browser_context.on(&quot;console&quot;)</a> event is fired.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expect_console_message</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expect_console_message</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>predicate</code> <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a>[<a title="ConsoleMessage" href="/python/docs/api/class-consolemessage">ConsoleMessage</a>]:<a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-console-message-option-predicate"></a><a href="#browser-context-wait-for-console-message-option-predicate" class="list-anchor">#</a></p>
<p>Receives the <a title="ConsoleMessage" href="/python/docs/api/class-consolemessage">ConsoleMessage</a> object and resolves to truthy value when the waiting should resolve.</p>
</li>
<li>
<p><code>timeout</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-console-message-option-timeout"></a><a href="#browser-context-wait-for-console-message-option-timeout" class="list-anchor">#</a></p>
<p>Maximum time to wait for in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout. The default value can be changed by using the <a href="/python/docs/api/class-browsercontext#browser-context-set-default-timeout">browser_context.set_default_timeout()</a>.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/reference/datamodel.html#context-managers" target="_blank" rel="noopener noreferrer" title="Event context manager">EventContextManager</a>[<a title="ConsoleMessage" href="/python/docs/api/class-consolemessage">ConsoleMessage</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-console-message-return"></a><a href="#browser-context-wait-for-console-message-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-wait-for-event">expect_event<a href="#browser-context-wait-for-event" class="hash-link" aria-label="Direct link to expect_event" title="Direct link to expect_event">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.expect_event</x-search>
<p>Waits for event to fire and passes its value into the predicate function. Returns when the predicate returns truthy value. Will throw an error if the context closes before the event is fired. Returns the event data value.</p>
<p><strong>Usage</strong></p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">with</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expect_event</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;page&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> event_info</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> event_info</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">with</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expect_event</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;page&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> event_info</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> event_info</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">value</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>event</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-event-option-event"></a><a href="#browser-context-wait-for-event-option-event" class="list-anchor">#</a></p>
<p>Event name, same one would pass into <code>browserContext.on(event)</code>.</p>
</li>
<li>
<p><code>predicate</code> <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-event-option-predicate"></a><a href="#browser-context-wait-for-event-option-predicate" class="list-anchor">#</a></p>
<p>Receives the event data and resolves to truthy value when the waiting should resolve.</p>
</li>
<li>
<p><code>timeout</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-event-option-timeout"></a><a href="#browser-context-wait-for-event-option-timeout" class="list-anchor">#</a></p>
<p>Maximum time to wait for in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout. The default value can be changed by using the <a href="/python/docs/api/class-browsercontext#browser-context-set-default-timeout">browser_context.set_default_timeout()</a>.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/reference/datamodel.html#context-managers" target="_blank" rel="noopener noreferrer" title="Event context manager">EventContextManager</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-event-return"></a><a href="#browser-context-wait-for-event-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-wait-for-page">expect_page<a href="#browser-context-wait-for-page" class="hash-link" aria-label="Direct link to expect_page" title="Direct link to expect_page">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.9</font>
<x-search>browserContext.expect_page</x-search>
<p>Performs action and waits for a new <a title="Page" href="/python/docs/api/class-page">Page</a> to be created in the context. If predicate is provided, it passes <a title="Page" href="/python/docs/api/class-page">Page</a> value into the <code>predicate</code> function and waits for <code>predicate(event)</code> to return a truthy value. Will throw an error if the context closes before new <a title="Page" href="/python/docs/api/class-page">Page</a> is created.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expect_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expect_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>predicate</code> <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a>[<a title="Page" href="/python/docs/api/class-page">Page</a>]:<a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-page-option-predicate"></a><a href="#browser-context-wait-for-page-option-predicate" class="list-anchor">#</a></p>
<p>Receives the <a title="Page" href="/python/docs/api/class-page">Page</a> object and resolves to truthy value when the waiting should resolve.</p>
</li>
<li>
<p><code>timeout</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-page-option-timeout"></a><a href="#browser-context-wait-for-page-option-timeout" class="list-anchor">#</a></p>
<p>Maximum time to wait for in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout. The default value can be changed by using the <a href="/python/docs/api/class-browsercontext#browser-context-set-default-timeout">browser_context.set_default_timeout()</a>.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/reference/datamodel.html#context-managers" target="_blank" rel="noopener noreferrer" title="Event context manager">EventContextManager</a>[<a title="Page" href="/python/docs/api/class-page">Page</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-page-return"></a><a href="#browser-context-wait-for-page-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-expose-binding">expose_binding<a href="#browser-context-expose-binding" class="hash-link" aria-label="Direct link to expose_binding" title="Direct link to expose_binding">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.expose_binding</x-search>
<p>The method adds a function called <code>name</code> on the <code>window</code> object of every frame in every page in the context. When called, the function executes <code>callback</code> and returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a> which resolves to the return value of <code>callback</code>. If the <code>callback</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, it will be awaited.</p>
<p>The first argument of the <code>callback</code> function contains information about the caller: <code>{ browserContext: BrowserContext, page: Page, frame: Frame }</code>.</p>
<p>See <a href="/python/docs/api/class-page#page-expose-binding">page.expose_binding()</a> for page-only version.</p>
<p><strong>Usage</strong></p>
<p>An example of exposing page URL to all frames in all pages in the context:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sync_api </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> sync_playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Playwright</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    webkit </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">webkit</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    browser </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> webkit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">launch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">headless</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean" style="color:#569CD6">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expose_binding</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;pageURL&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">lambda</span><span class="token plain"> source</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> source</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;page&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &lt;script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">      async function onClick() {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        document.querySelector(&#x27;div&#x27;).textContent = await window.pageURL();</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">      }</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &lt;/script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &lt;button onclick=&quot;onClick()&quot;&gt;Click me&lt;/button&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &lt;div&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &quot;&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">with</span><span class="token plain"> sync_playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> asyncio</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">async_api </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> async_playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Playwright</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    webkit </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">webkit</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    browser </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> webkit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">launch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">headless</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean" style="color:#569CD6">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expose_binding</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;pageURL&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">lambda</span><span class="token plain"> source</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> source</span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;page&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &lt;script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">      async function onClick() {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        document.querySelector(&#x27;div&#x27;).textContent = await window.pageURL();</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">      }</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &lt;/script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &lt;button onclick=&quot;onClick()&quot;&gt;Click me&lt;/button&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &lt;div&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &quot;&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">main</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">with</span><span class="token plain"> async_playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">asyncio</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>name</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-binding-option-name"></a><a href="#browser-context-expose-binding-option-name" class="list-anchor">#</a></p>
<p>Name of the function on the window object.</p>
</li>
<li>
<p><code>callback</code> <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-binding-option-callback"></a><a href="#browser-context-expose-binding-option-callback" class="list-anchor">#</a></p>
<p>Callback function that will be called in the Playwright&#x27;s context.</p>
</li>
<li>
<p><code>handle</code> <a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-binding-option-handle"></a><a href="#browser-context-expose-binding-option-handle" class="list-anchor">#</a></p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Deprecated</div><div class="admonitionContent_BuS1"><p>This option will be removed in the future.</p></div></div>
<p>Whether to pass the argument as a handle, instead of passing by value. When passing a handle, only one argument is supported. When passing by value, multiple arguments are supported.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-binding-return"></a><a href="#browser-context-expose-binding-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-expose-function">expose_function<a href="#browser-context-expose-function" class="hash-link" aria-label="Direct link to expose_function" title="Direct link to expose_function">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.expose_function</x-search>
<p>The method adds a function called <code>name</code> on the <code>window</code> object of every frame in every page in the context. When called, the function executes <code>callback</code> and returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a> which resolves to the return value of <code>callback</code>.</p>
<p>If the <code>callback</code> returns a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>, it will be awaited.</p>
<p>See <a href="/python/docs/api/class-page#page-expose-function">page.expose_function()</a> for page-only version.</p>
<p><strong>Usage</strong></p>
<p>An example of adding a <code>sha256</code> function to all pages in the context:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> hashlib</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sync_api </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> sync_playwright</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">sha256</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    m </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> hashlib</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sha256</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    m</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">update</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token builtin" style="color:rgb(86, 156, 214)">bytes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;utf8&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> m</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">hexdigest</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    webkit </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">webkit</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    browser </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> webkit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">launch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">headless</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean" style="color:#569CD6">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expose_function</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;sha256&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> sha256</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">          async function onClick() {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">            document.querySelector(&#x27;div&#x27;).textContent = await window.sha256(&#x27;PLAYWRIGHT&#x27;);</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">          }</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        &lt;button onclick=&quot;onClick()&quot;&gt;Click me&lt;/button&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        &lt;div&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &quot;&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">with</span><span class="token plain"> sync_playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> asyncio</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> hashlib</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">from</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">async_api </span><span class="token keyword" style="color:#C586C0">import</span><span class="token plain"> async_playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> Playwright</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">sha256</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">-</span><span class="token operator" style="color:rgb(212, 212, 212)">&gt;</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(86, 156, 214)">str</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    m </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> hashlib</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">sha256</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    m</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">update</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token builtin" style="color:rgb(86, 156, 214)">bytes</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;utf8&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">return</span><span class="token plain"> m</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">hexdigest</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    webkit </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">webkit</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    browser </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> webkit</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">launch</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">headless</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token boolean" style="color:#569CD6">False</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expose_function</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;sha256&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> sha256</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_content</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        &lt;script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">          async function onClick() {</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">            document.querySelector(&#x27;div&#x27;).textContent = await window.sha256(&#x27;PLAYWRIGHT&#x27;);</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">          }</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        &lt;/script&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        &lt;button onclick=&quot;onClick()&quot;&gt;Click me&lt;/button&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">        &lt;div&gt;&lt;/div&gt;</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token triple-quoted-string string" style="color:rgb(206, 145, 120)">    &quot;&quot;&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_role</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;button&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">main</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">with</span><span class="token plain"> async_playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">asyncio</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">run</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">main</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>name</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-function-option-name"></a><a href="#browser-context-expose-function-option-name" class="list-anchor">#</a></p>
<p>Name of the function on the window object.</p>
</li>
<li>
<p><code>callback</code> <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-function-option-callback"></a><a href="#browser-context-expose-function-option-callback" class="list-anchor">#</a></p>
<p>Callback function that will be called in the Playwright&#x27;s context.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-expose-function-return"></a><a href="#browser-context-expose-function-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-grant-permissions">grant_permissions<a href="#browser-context-grant-permissions" class="hash-link" aria-label="Direct link to grant_permissions" title="Direct link to grant_permissions">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.grant_permissions</x-search>
<p>Grants specified permissions to the browser context. Only grants corresponding permissions to the given origin if specified.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">grant_permissions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">permissions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">grant_permissions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">permissions</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>permissions</code> <a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-grant-permissions-option-permissions"></a><a href="#browser-context-grant-permissions-option-permissions" class="list-anchor">#</a></p>
<p>A permission or an array of permissions to grant. Permissions can be one of the following values:</p>
<ul>
<li><code>&#x27;accelerometer&#x27;</code></li>
<li><code>&#x27;accessibility-events&#x27;</code></li>
<li><code>&#x27;ambient-light-sensor&#x27;</code></li>
<li><code>&#x27;background-sync&#x27;</code></li>
<li><code>&#x27;camera&#x27;</code></li>
<li><code>&#x27;clipboard-read&#x27;</code></li>
<li><code>&#x27;clipboard-write&#x27;</code></li>
<li><code>&#x27;geolocation&#x27;</code></li>
<li><code>&#x27;gyroscope&#x27;</code></li>
<li><code>&#x27;magnetometer&#x27;</code></li>
<li><code>&#x27;microphone&#x27;</code></li>
<li><code>&#x27;midi-sysex&#x27;</code> (system-exclusive midi)</li>
<li><code>&#x27;midi&#x27;</code></li>
<li><code>&#x27;notifications&#x27;</code></li>
<li><code>&#x27;payment-handler&#x27;</code></li>
<li><code>&#x27;storage-access&#x27;</code></li>
</ul>
</li>
<li>
<p><code>origin</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-grant-permissions-option-origin"></a><a href="#browser-context-grant-permissions-option-origin" class="list-anchor">#</a></p>
<p>The <a href="https://developer.mozilla.org/en-US/docs/Glossary/Origin" target="_blank" rel="noopener noreferrer" title="Origin">origin</a> to grant permissions to, e.g. &quot;<a href="https://example.com" target="_blank" rel="noopener noreferrer">https://example.com</a>&quot;.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-grant-permissions-return"></a><a href="#browser-context-grant-permissions-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-new-cdp-session">new_cdp_session<a href="#browser-context-new-cdp-session" class="hash-link" aria-label="Direct link to new_cdp_session" title="Direct link to new_cdp_session">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.11</font>
<x-search>browserContext.new_cdp_session</x-search>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>CDP sessions are only supported on Chromium-based browsers.</p></div></div>
<p>Returns the newly created session.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_cdp_session</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>page</code> <a title="Page" href="/python/docs/api/class-page">Page</a> | <a title="Frame" href="/python/docs/api/class-frame">Frame</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-new-cdp-session-option-page"></a><a href="#browser-context-new-cdp-session-option-page" class="list-anchor">#</a></p>
<p>Target to create new session for. For backwards-compatibility, this parameter is named <code>page</code>, but it can be a <code>Page</code> or <code>Frame</code> type.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a title="CDPSession" href="/python/docs/api/class-cdpsession">CDPSession</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-new-cdp-session-return"></a><a href="#browser-context-new-cdp-session-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-new-page">new_page<a href="#browser-context-new-page" class="hash-link" aria-label="Direct link to new_page" title="Direct link to new_page">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.new_page</x-search>
<p>Creates a new page in the browser context.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Returns</strong></p>
<ul>
<li><a title="Page" href="/python/docs/api/class-page">Page</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-new-page-return"></a><a href="#browser-context-new-page-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-route">route<a href="#browser-context-route" class="hash-link" aria-label="Direct link to route" title="Direct link to route">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.route</x-search>
<p>Routing provides the capability to modify network requests that are made by any page in the browser context. Once route is enabled, every request matching the url pattern will stall unless it&#x27;s continued, fulfilled or aborted.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><a href="/python/docs/api/class-browsercontext#browser-context-route">browser_context.route()</a> will not intercept requests intercepted by Service Worker. See <a href="https://github.com/microsoft/playwright/issues/1090" target="_blank" rel="noopener noreferrer">this</a> issue. We recommend disabling Service Workers when using request interception by setting <code>browser.new_context.service_workers</code> to <code>&#x27;block&#x27;</code>.</p></div></div>
<p><strong>Usage</strong></p>
<p>An example of a naive handler that aborts all image requests:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/*.{png,jpg,jpeg}&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">lambda</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">abort</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;**/*.{png,jpg,jpeg}&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">lambda</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">abort</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>or the same snippet using a regex pattern instead:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">re</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token builtin" style="color:rgb(86, 156, 214)">compile</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">r&quot;(\.png$)|(\.jpg$)&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">lambda</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">abort</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">re</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token builtin" style="color:rgb(86, 156, 214)">compile</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">r&quot;(\.png$)|(\.jpg$)&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">lambda</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">abort</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">new_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">goto</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;https://example.com&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">close</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>It is possible to examine the request to decide the route action. For example, mocking all requests that contain some post data, and leaving all other requests as is:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">handle_route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-string&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">in</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">post_data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fulfill</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">body</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;mocked-data&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">else</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">continue_</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/api/**&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handle_route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">handle_route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> Route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;my-string&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">in</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">request</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">post_data</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">fulfill</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">body</span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;mocked-data&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">  </span><span class="token keyword" style="color:#C586C0">else</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">continue_</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;/api/**&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handle_route</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>Page routes (set up with <a href="/python/docs/api/class-page#page-route">page.route()</a>) take precedence over browser context routes when request matches both handlers.</p>
<p>To remove a route with its handler you can use <a href="/python/docs/api/class-browsercontext#browser-context-unroute">browser_context.unroute()</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Enabling routing disables http cache.</p></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>url</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> | <a href="https://docs.python.org/3/library/re.html" target="_blank" rel="noopener noreferrer" title="Pattern">Pattern</a> | <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a>[<a href="https://en.wikipedia.org/wiki/URL" target="_blank" rel="noopener noreferrer" title="URL">URL</a>]:<a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-option-url"></a><a href="#browser-context-route-option-url" class="list-anchor">#</a></p>
<p>A glob pattern, regex pattern or predicate receiving <a href="https://en.wikipedia.org/wiki/URL" target="_blank" rel="noopener noreferrer" title="URL">URL</a> to match while routing. When a <code>base_url</code> via the context options was provided and the passed URL is a path, it gets merged via the <a href="https://developer.mozilla.org/en-US/docs/Web/API/URL/URL" target="_blank" rel="noopener noreferrer"><code>new URL()</code></a> constructor.</p>
</li>
<li>
<p><code>handler</code> <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a>[<a title="Route" href="/python/docs/api/class-route">Route</a>, <a title="Request" href="/python/docs/api/class-request">Request</a>]:<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>[<a href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank" rel="noopener noreferrer" title="Any">Any</a>] | <a href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank" rel="noopener noreferrer" title="Any">Any</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-option-handler"></a><a href="#browser-context-route-option-handler" class="list-anchor">#</a></p>
<p>handler function to route the request.</p>
</li>
<li>
<p><code>times</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="int">int</a> <em>(optional)</em> <font size="2">Added in: v1.15</font><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-option-times"></a><a href="#browser-context-route-option-times" class="list-anchor">#</a></p>
<p>How often a route should be used. By default it will be used every time.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-return"></a><a href="#browser-context-route-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-route-from-har">route_from_har<a href="#browser-context-route-from-har" class="hash-link" aria-label="Direct link to route_from_har" title="Direct link to route_from_har">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.23</font>
<x-search>browserContext.route_from_har</x-search>
<p>If specified the network requests that are made in the context will be served from the HAR file. Read more about <a href="/python/docs/mock#replaying-from-har">Replaying from HAR</a>.</p>
<p>Playwright will not serve requests intercepted by Service Worker from the HAR file. See <a href="https://github.com/microsoft/playwright/issues/1090" target="_blank" rel="noopener noreferrer">this</a> issue. We recommend disabling Service Workers when using request interception by setting <code>browser.new_context.service_workers</code> to <code>&#x27;block&#x27;</code>.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route_from_har</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">har</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">route_from_har</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">har</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>har</code> <a href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener noreferrer" title="Union">Union</a>[<a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a>, <a href="https://realpython.com/python-pathlib/" target="_blank" rel="noopener noreferrer" title="pathlib.Path">pathlib.Path</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-har"></a><a href="#browser-context-route-from-har-option-har" class="list-anchor">#</a></p>
<p>Path to a <a href="http://www.softwareishard.com/blog/har-12-spec" target="_blank" rel="noopener noreferrer">HAR</a> file with prerecorded network data. If <code>path</code> is a relative path, then it is resolved relative to the current working directory.</p>
</li>
<li>
<p><code>not_found</code> &quot;abort&quot; | &quot;fallback&quot; <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-not-found"></a><a href="#browser-context-route-from-har-option-not-found" class="list-anchor">#</a></p>
<ul>
<li>If set to &#x27;abort&#x27; any request not found in the HAR file will be aborted.</li>
<li>If set to &#x27;fallback&#x27; falls through to the next route handler in the handler chain.</li>
</ul>
<p>Defaults to abort.</p>
</li>
<li>
<p><code>update</code> <a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-update"></a><a href="#browser-context-route-from-har-option-update" class="list-anchor">#</a></p>
<p>If specified, updates the given HAR with the actual network information instead of serving from file. The file is written to disk when <a href="/python/docs/api/class-browsercontext#browser-context-close">browser_context.close()</a> is called.</p>
</li>
<li>
<p><code>update_content</code> &quot;embed&quot; | &quot;attach&quot; <em>(optional)</em> <font size="2">Added in: v1.32</font><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-update-content"></a><a href="#browser-context-route-from-har-option-update-content" class="list-anchor">#</a></p>
<p>Optional setting to control resource content management. If <code>attach</code> is specified, resources are persisted as separate files or entries in the ZIP archive. If <code>embed</code> is specified, content is stored inline the HAR file.</p>
</li>
<li>
<p><code>update_mode</code> &quot;full&quot; | &quot;minimal&quot; <em>(optional)</em> <font size="2">Added in: v1.32</font><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-update-mode"></a><a href="#browser-context-route-from-har-option-update-mode" class="list-anchor">#</a></p>
<p>When set to <code>minimal</code>, only record information necessary for routing from HAR. This omits sizes, timing, page, cookies, security and other types of HAR information that are not used when replaying from HAR. Defaults to <code>minimal</code>.</p>
</li>
<li>
<p><code>url</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> | <a href="https://docs.python.org/3/library/re.html" target="_blank" rel="noopener noreferrer" title="Pattern">Pattern</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-option-url"></a><a href="#browser-context-route-from-har-option-url" class="list-anchor">#</a></p>
<p>A glob pattern, regular expression or predicate to match the request URL. Only requests with URL matching the pattern will be served from the HAR file. If not specified, all requests are served from the HAR file.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-route-from-har-return"></a><a href="#browser-context-route-from-har-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-set-default-navigation-timeout">set_default_navigation_timeout<a href="#browser-context-set-default-navigation-timeout" class="hash-link" aria-label="Direct link to set_default_navigation_timeout" title="Direct link to set_default_navigation_timeout">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.set_default_navigation_timeout</x-search>
<p>This setting will change the default maximum navigation time for the following methods and related shortcuts:</p>
<ul>
<li><a href="/python/docs/api/class-page#page-go-back">page.go_back()</a></li>
<li><a href="/python/docs/api/class-page#page-go-forward">page.go_forward()</a></li>
<li><a href="/python/docs/api/class-page#page-goto">page.goto()</a></li>
<li><a href="/python/docs/api/class-page#page-reload">page.reload()</a></li>
<li><a href="/python/docs/api/class-page#page-set-content">page.set_content()</a></li>
<li><a href="/python/docs/api/class-page#page-wait-for-navigation">page.expect_navigation()</a></li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><a href="/python/docs/api/class-page#page-set-default-navigation-timeout">page.set_default_navigation_timeout()</a> and <a href="/python/docs/api/class-page#page-set-default-timeout">page.set_default_timeout()</a> take priority over <a href="/python/docs/api/class-browsercontext#browser-context-set-default-navigation-timeout">browser_context.set_default_navigation_timeout()</a>.</p></div></div>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_default_navigation_timeout</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">timeout</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>timeout</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-default-navigation-timeout-option-timeout"></a><a href="#browser-context-set-default-navigation-timeout-option-timeout" class="list-anchor">#</a></p>
<p>Maximum navigation time in milliseconds</p>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-set-default-timeout">set_default_timeout<a href="#browser-context-set-default-timeout" class="hash-link" aria-label="Direct link to set_default_timeout" title="Direct link to set_default_timeout">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.set_default_timeout</x-search>
<p>This setting will change the default maximum time for all the methods accepting <code>timeout</code> option.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><a href="/python/docs/api/class-page#page-set-default-navigation-timeout">page.set_default_navigation_timeout()</a>, <a href="/python/docs/api/class-page#page-set-default-timeout">page.set_default_timeout()</a> and <a href="/python/docs/api/class-browsercontext#browser-context-set-default-navigation-timeout">browser_context.set_default_navigation_timeout()</a> take priority over <a href="/python/docs/api/class-browsercontext#browser-context-set-default-timeout">browser_context.set_default_timeout()</a>.</p></div></div>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_default_timeout</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">timeout</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>timeout</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-default-timeout-option-timeout"></a><a href="#browser-context-set-default-timeout-option-timeout" class="list-anchor">#</a></p>
<p>Maximum time in milliseconds</p>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-set-extra-http-headers">set_extra_http_headers<a href="#browser-context-set-extra-http-headers" class="hash-link" aria-label="Direct link to set_extra_http_headers" title="Direct link to set_extra_http_headers">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.set_extra_http_headers</x-search>
<p>The extra HTTP headers will be sent with every request initiated by any page in the context. These headers are merged with page-specific extra HTTP headers set with <a href="/python/docs/api/class-page#page-set-extra-http-headers">page.set_extra_http_headers()</a>. If page overrides a particular header, page-specific header value will be used instead of the browser context header value.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><a href="/python/docs/api/class-browsercontext#browser-context-set-extra-http-headers">browser_context.set_extra_http_headers()</a> does not guarantee the order of headers in the outgoing requests.</p></div></div>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_extra_http_headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">headers</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>headers</code> <a href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener noreferrer" title="Dict">Dict</a>[<a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a>, <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-extra-http-headers-option-headers"></a><a href="#browser-context-set-extra-http-headers-option-headers" class="list-anchor">#</a></p>
<p>An object containing additional HTTP headers to be sent with every request. All header values must be strings.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-extra-http-headers-return"></a><a href="#browser-context-set-extra-http-headers-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-set-geolocation">set_geolocation<a href="#browser-context-set-geolocation" class="hash-link" aria-label="Direct link to set_geolocation" title="Direct link to set_geolocation">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.set_geolocation</x-search>
<p>Sets the context&#x27;s geolocation. Passing <code>null</code> or <code>undefined</code> emulates position unavailable.</p>
<p><strong>Usage</strong></p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_geolocation</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;latitude&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">59.95</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;longitude&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">30.31667</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_geolocation</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">{</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;latitude&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">59.95</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(206, 145, 120)">&quot;longitude&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> </span><span class="token number" style="color:#B5CEA8">30.31667</span><span class="token punctuation" style="color:rgb(212, 212, 212)">}</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Consider using <a href="/python/docs/api/class-browsercontext#browser-context-grant-permissions">browser_context.grant_permissions()</a> to grant permissions for the browser context pages to read its geolocation.</p></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li><code>geolocation</code> <a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a> | <a href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener noreferrer" title="Dict">Dict</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-geolocation-option-geolocation"></a><a href="#browser-context-set-geolocation-option-geolocation" class="list-anchor">#</a>
<ul>
<li>
<p><code>latitude</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a></p>
<p>Latitude between -90 and 90.</p>
</li>
<li>
<p><code>longitude</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a></p>
<p>Longitude between -180 and 180.</p>
</li>
<li>
<p><code>accuracy</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a> <em>(optional)</em></p>
<p>Non-negative accuracy value. Defaults to <code>0</code>.</p>
</li>
</ul>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-geolocation-return"></a><a href="#browser-context-set-geolocation-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-set-offline">set_offline<a href="#browser-context-set-offline" class="hash-link" aria-label="Direct link to set_offline" title="Direct link to set_offline">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.set_offline</x-search>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">set_offline</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">offline</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>offline</code> <a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-offline-option-offline"></a><a href="#browser-context-set-offline-option-offline" class="list-anchor">#</a></p>
<p>Whether to emulate network being offline for the browser context.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-set-offline-return"></a><a href="#browser-context-set-offline-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-storage-state">storage_state<a href="#browser-context-storage-state" class="hash-link" aria-label="Direct link to storage_state" title="Direct link to storage_state">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.storage_state</x-search>
<p>Returns storage state for this browser context, contains current cookies and local storage snapshot.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">storage_state</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">storage_state</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>path</code> <a href="https://docs.python.org/3/library/typing.html#typing.Union" target="_blank" rel="noopener noreferrer" title="Union">Union</a>[<a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a>, <a href="https://realpython.com/python-pathlib/" target="_blank" rel="noopener noreferrer" title="pathlib.Path">pathlib.Path</a>] <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-storage-state-option-path"></a><a href="#browser-context-storage-state-option-path" class="list-anchor">#</a></p>
<p>The file path to save the storage state to. If <code>path</code> is a relative path, then it is resolved relative to current working directory. If no path is provided, storage state is still returned, but won&#x27;t be saved to the disk.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener noreferrer" title="Dict">Dict</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-storage-state-return"></a><a href="#browser-context-storage-state-return" class="list-anchor">#</a>
<ul>
<li><code>cookies</code> <a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener noreferrer" title="Dict">Dict</a>]<!-- -->
<ul>
<li>
<p><code>name</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>value</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>domain</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>path</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>expires</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a></p>
<p>Unix time in seconds.</p>
</li>
<li>
<p><code>httpOnly</code> <a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a></p>
</li>
<li>
<p><code>secure</code> <a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a></p>
</li>
<li>
<p><code>sameSite</code> &quot;Strict&quot; | &quot;Lax&quot; | &quot;None&quot;</p>
</li>
</ul>
</li>
<li><code>origins</code> <a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener noreferrer" title="Dict">Dict</a>]<!-- -->
<ul>
<li>
<p><code>origin</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>localStorage</code> <a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a href="https://docs.python.org/3/library/typing.html#typing.Dict" target="_blank" rel="noopener noreferrer" title="Dict">Dict</a>]</p>
<ul>
<li>
<p><code>name</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
<li>
<p><code>value</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-unroute">unroute<a href="#browser-context-unroute" class="hash-link" aria-label="Direct link to unroute" title="Direct link to unroute">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.unroute</x-search>
<p>Removes a route created with <a href="/python/docs/api/class-browsercontext#browser-context-route">browser_context.route()</a>. When <code>handler</code> is not specified, removes all routes for the <code>url</code>.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">unroute</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">unroute</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">url</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>url</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a> | <a href="https://docs.python.org/3/library/re.html" target="_blank" rel="noopener noreferrer" title="Pattern">Pattern</a> | <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a>[<a href="https://en.wikipedia.org/wiki/URL" target="_blank" rel="noopener noreferrer" title="URL">URL</a>]:<a href="https://docs.python.org/3/library/stdtypes.html" target="_blank" rel="noopener noreferrer" title="bool">bool</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-unroute-option-url"></a><a href="#browser-context-unroute-option-url" class="list-anchor">#</a></p>
<p>A glob pattern, regex pattern or predicate receiving <a href="https://en.wikipedia.org/wiki/URL" target="_blank" rel="noopener noreferrer" title="URL">URL</a> used to register a routing with <a href="/python/docs/api/class-browsercontext#browser-context-route">browser_context.route()</a>.</p>
</li>
<li>
<p><code>handler</code> <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a>[<a title="Route" href="/python/docs/api/class-route">Route</a>, <a title="Request" href="/python/docs/api/class-request">Request</a>]:<a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise" target="_blank" rel="noopener noreferrer" title="Promise">Promise</a>[<a href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank" rel="noopener noreferrer" title="Any">Any</a>] | <a href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank" rel="noopener noreferrer" title="Any">Any</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-unroute-option-handler"></a><a href="#browser-context-unroute-option-handler" class="list-anchor">#</a></p>
<p>Optional handler function used to register a routing with <a href="/python/docs/api/class-browsercontext#browser-context-route">browser_context.route()</a>.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-unroute-return"></a><a href="#browser-context-unroute-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-unroute-all">unroute_all<a href="#browser-context-unroute-all" class="hash-link" aria-label="Direct link to unroute_all" title="Direct link to unroute_all">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.41</font>
<x-search>browserContext.unroute_all</x-search>
<p>Removes all routes created with <a href="/python/docs/api/class-browsercontext#browser-context-route">browser_context.route()</a> and <a href="/python/docs/api/class-browsercontext#browser-context-route-from-har">browser_context.route_from_har()</a>.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">unroute_all</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">unroute_all</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>behavior</code> &quot;wait&quot; | &quot;ignoreErrors&quot; | &quot;default&quot; <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-unroute-all-option-behavior"></a><a href="#browser-context-unroute-all-option-behavior" class="list-anchor">#</a></p>
<p>Specifies whether to wait for already running handlers and what to do if they throw errors:</p>
<ul>
<li><code>&#x27;default&#x27;</code> - do not wait for current handler calls (if any) to finish, if unrouted handler throws, it may result in unhandled error</li>
<li><code>&#x27;wait&#x27;</code> - wait for current handler calls (if any) to finish</li>
<li><code>&#x27;ignoreErrors&#x27;</code> - do not wait for current handler calls (if any) to finish, all errors thrown by the handlers after unrouting are silently caught</li>
</ul>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-unroute-all-return"></a><a href="#browser-context-unroute-all-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-wait-for-event-2">wait_for_event<a href="#browser-context-wait-for-event-2" class="hash-link" aria-label="Direct link to wait_for_event" title="Direct link to wait_for_event">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.wait_for_event</x-search>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In most cases, you should use <a href="/python/docs/api/class-browsercontext#browser-context-wait-for-event">browser_context.expect_event()</a>.</p></div></div>
<p>Waits for given <code>event</code> to fire. If predicate is provided, it passes event&#x27;s value into the <code>predicate</code> function and waits for <code>predicate(event)</code> to return a truthy value. Will throw an error if the browser context is closed before the <code>event</code> is fired.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">wait_for_event</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">wait_for_event</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">event</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token operator" style="color:rgb(212, 212, 212)">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Arguments</strong></p>
<ul>
<li>
<p><code>event</code> <a href="https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str" target="_blank" rel="noopener noreferrer" title="str">str</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-event-2-option-event"></a><a href="#browser-context-wait-for-event-2-option-event" class="list-anchor">#</a></p>
<p>Event name, same one typically passed into <code>*.on(event)</code>.</p>
</li>
<li>
<p><code>predicate</code> <a href="https://docs.python.org/3/library/typing.html#typing.Callable" target="_blank" rel="noopener noreferrer" title="Callable">Callable</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-event-2-option-predicate"></a><a href="#browser-context-wait-for-event-2-option-predicate" class="list-anchor">#</a></p>
<p>Receives the event data and resolves to truthy value when the waiting should resolve.</p>
</li>
<li>
<p><code>timeout</code> <a href="https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex" target="_blank" rel="noopener noreferrer" title="float">float</a> <em>(optional)</em><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-event-2-option-timeout"></a><a href="#browser-context-wait-for-event-2-option-timeout" class="list-anchor">#</a></p>
<p>Maximum time to wait for in milliseconds. Defaults to <code>30000</code> (30 seconds). Pass <code>0</code> to disable timeout. The default value can be changed by using the <a href="/python/docs/api/class-browsercontext#browser-context-set-default-timeout">browser_context.set_default_timeout()</a>.</p>
</li>
</ul>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/typing.html#typing.Any" target="_blank" rel="noopener noreferrer" title="Any">Any</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-wait-for-event-2-return"></a><a href="#browser-context-wait-for-event-2-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="properties">Properties<a href="#properties" class="hash-link" aria-label="Direct link to Properties" title="Direct link to Properties">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-background-pages">background_pages<a href="#browser-context-background-pages" class="hash-link" aria-label="Direct link to background_pages" title="Direct link to background_pages">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.11</font>
<x-search>browserContext.background_pages</x-search>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Background pages are only supported on Chromium-based browsers.</p></div></div>
<p>All existing background pages in the context.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">background_pages</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a title="Page" href="/python/docs/api/class-page">Page</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-background-pages-return"></a><a href="#browser-context-background-pages-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-browser">browser<a href="#browser-context-browser" class="hash-link" aria-label="Direct link to browser" title="Direct link to browser">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.browser</x-search>
<p>Returns the browser instance of the context. If it was launched as a persistent context null gets returned.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">browser</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/constants.html#None" target="_blank" rel="noopener noreferrer" title="None">NoneType</a> | <a title="Browser" href="/python/docs/api/class-browser">Browser</a><a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-browser-return"></a><a href="#browser-context-browser-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-clock">clock<a href="#browser-context-clock" class="hash-link" aria-label="Direct link to clock" title="Direct link to clock">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.45</font>
<x-search>browserContext.clock</x-search>
<p>Playwright has ability to mock clock and passage of time.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">clock</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Type</strong></p>
<ul>
<li><a title="Clock" href="/python/docs/api/class-clock">Clock</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-pages">pages<a href="#browser-context-pages" class="hash-link" aria-label="Direct link to pages" title="Direct link to pages">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.pages</x-search>
<p>Returns all open pages in the context.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">pages</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a title="Page" href="/python/docs/api/class-page">Page</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-pages-return"></a><a href="#browser-context-pages-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-request">request<a href="#browser-context-request" class="hash-link" aria-label="Direct link to request" title="Direct link to request">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.16</font>
<x-search>browserContext.request</x-search>
<p>API testing helper associated with this context. Requests made with this API will use context cookies.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">request</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Type</strong></p>
<ul>
<li><a title="APIRequestContext" href="/python/docs/api/class-apirequestcontext">APIRequestContext</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-service-workers">service_workers<a href="#browser-context-service-workers" class="hash-link" aria-label="Direct link to service_workers" title="Direct link to service_workers">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.11</font>
<x-search>browserContext.service_workers</x-search>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Service workers are only supported on Chromium-based browsers.</p></div></div>
<p>All existing service workers in the context.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">service_workers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Returns</strong></p>
<ul>
<li><a href="https://docs.python.org/3/library/typing.html#typing.List" target="_blank" rel="noopener noreferrer" title="List">List</a>[<a title="Worker" href="/python/docs/api/class-worker">Worker</a>]<a aria-hidden="true" tabindex="-1" class="list-anchor-link" id="browser-context-service-workers-return"></a><a href="#browser-context-service-workers-return" class="list-anchor">#</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-tracing">tracing<a href="#browser-context-tracing" class="hash-link" aria-label="Direct link to tracing" title="Direct link to tracing">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.12</font>
<x-search>browserContext.tracing</x-search>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">tracing</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Type</strong></p>
<ul>
<li><a title="Tracing" href="/python/docs/api/class-tracing">Tracing</a></li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-background-page">on(&quot;backgroundpage&quot;)<a href="#browser-context-event-background-page" class="hash-link" aria-label="Direct link to on(&quot;backgroundpage&quot;)" title="Direct link to on(&quot;backgroundpage&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.11</font>
<x-search>browserContext.on(&quot;backgroundpage&quot;)</x-search>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Only works with Chromium browser&#x27;s persistent context.</p></div></div>
<p>Emitted when new background page is created in the context.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">background_page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">wait_for_event</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;backgroundpage&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">background_page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">wait_for_event</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;backgroundpage&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;backgroundpage&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="Page" href="/python/docs/api/class-page">Page</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-close">on(&quot;close&quot;)<a href="#browser-context-event-close" class="hash-link" aria-label="Direct link to on(&quot;close&quot;)" title="Direct link to on(&quot;close&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.on(&quot;close&quot;)</x-search>
<p>Emitted when Browser context gets closed. This might happen because of one of the following:</p>
<ul>
<li>Browser context is closed.</li>
<li>Browser application is closed or crashed.</li>
<li>The <a href="/python/docs/api/class-browser#browser-close">browser.close()</a> method was called.</li>
</ul>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;close&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="BrowserContext" href="/python/docs/api/class-browsercontext">BrowserContext</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-console">on(&quot;console&quot;)<a href="#browser-context-event-console" class="hash-link" aria-label="Direct link to on(&quot;console&quot;)" title="Direct link to on(&quot;console&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.34</font>
<x-search>browserContext.on(&quot;console&quot;)</x-search>
<p>Emitted when JavaScript within the page calls one of console API methods, e.g. <code>console.log</code> or <code>console.dir</code>.</p>
<p>The arguments passed into <code>console.log</code> and the page are available on the <a title="ConsoleMessage" href="/python/docs/api/class-consolemessage">ConsoleMessage</a> event handler argument.</p>
<p><strong>Usage</strong></p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">print_args</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">for</span><span class="token plain"> arg </span><span class="token keyword" style="color:#C586C0">in</span><span class="token plain"> msg</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        </span><span class="token keyword" style="color:#C586C0">print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">arg</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">json_value</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;console&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> print_args</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">evaluate</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;console.log(&#x27;hello&#x27;, 5, { foo: &#x27;bar&#x27; })&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(220, 220, 170)">print_args</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    values </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(212, 212, 212)">[</span><span class="token punctuation" style="color:rgb(212, 212, 212)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">for</span><span class="token plain"> arg </span><span class="token keyword" style="color:#C586C0">in</span><span class="token plain"> msg</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">        values</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">append</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> arg</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">json_value</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">values</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;console&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> print_args</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">evaluate</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;console.log(&#x27;hello&#x27;, 5, { foo: &#x27;bar&#x27; })&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="ConsoleMessage" href="/python/docs/api/class-consolemessage">ConsoleMessage</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-dialog">on(&quot;dialog&quot;)<a href="#browser-context-event-dialog" class="hash-link" aria-label="Direct link to on(&quot;dialog&quot;)" title="Direct link to on(&quot;dialog&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.34</font>
<x-search>browserContext.on(&quot;dialog&quot;)</x-search>
<p>Emitted when a JavaScript dialog appears, such as <code>alert</code>, <code>prompt</code>, <code>confirm</code> or <code>beforeunload</code>. Listener <strong>must</strong> either <a href="/python/docs/api/class-dialog#dialog-accept">dialog.accept()</a> or <a href="/python/docs/api/class-dialog#dialog-dismiss">dialog.dismiss()</a> the dialog - otherwise the page will <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/EventLoop#never_blocking" target="_blank" rel="noopener noreferrer">freeze</a> waiting for the dialog, and actions like click will never finish.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;dialog&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">lambda</span><span class="token plain"> dialog</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"> dialog</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">accept</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>When no <a href="/python/docs/api/class-page#page-event-dialog">page.on(&quot;dialog&quot;)</a> or <a href="/python/docs/api/class-browsercontext#browser-context-event-dialog">browser_context.on(&quot;dialog&quot;)</a> listeners are present, all dialogs are automatically dismissed.</p></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="Dialog" href="/python/docs/api/class-dialog">Dialog</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-page">on(&quot;page&quot;)<a href="#browser-context-event-page" class="hash-link" aria-label="Direct link to on(&quot;page&quot;)" title="Direct link to on(&quot;page&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added before v1.9</font>
<x-search>browserContext.on(&quot;page&quot;)</x-search>
<p>The event is emitted when a new Page is created in the BrowserContext. The page may still be loading. The event will also fire for popup pages. See also <a href="/python/docs/api/class-page#page-event-popup">page.on(&quot;popup&quot;)</a> to receive events about popups relevant to a specific page.</p>
<p>The earliest moment that page is available is when it has navigated to the initial url. For example, when opening a popup with <code>window.open(&#x27;http://example.com&#x27;)</code>, this event will fire when the network request to &quot;<a href="http://example.com" target="_blank" rel="noopener noreferrer">http://example.com</a>&quot; is done and its response has started loading in the popup. If you would like to route/listen to this network request, use <a href="/python/docs/api/class-browsercontext#browser-context-route">browser_context.route()</a> and <a href="/python/docs/api/class-browsercontext#browser-context-event-request">browser_context.on(&quot;request&quot;)</a> respectively instead of similar methods on the <a title="Page" href="/python/docs/api/class-page">Page</a>.</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">Sync</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">Async</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">with</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expect_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> page_info</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;open new page&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> page_info</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token plain">page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">evaluate</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;location.href&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-py codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-py codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token keyword" style="color:#C586C0">async</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">with</span><span class="token plain"> context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">expect_page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">as</span><span class="token plain"> page_info</span><span class="token punctuation" style="color:rgb(212, 212, 212)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">    </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">get_by_text</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;open new page&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">click</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain">page </span><span class="token operator" style="color:rgb(212, 212, 212)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page_info</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">value</span><br></span><span class="token-line" style="color:#D4D4D4"><span class="token plain"></span><span class="token keyword" style="color:#C586C0">print</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token keyword" style="color:#C586C0">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">evaluate</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;location.href&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Use <a href="/python/docs/api/class-page#page-wait-for-load-state">page.wait_for_load_state()</a> to wait until the page gets to a particular state (you should not need it in most cases).</p></div></div>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;page&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="Page" href="/python/docs/api/class-page">Page</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-request">on(&quot;request&quot;)<a href="#browser-context-event-request" class="hash-link" aria-label="Direct link to on(&quot;request&quot;)" title="Direct link to on(&quot;request&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.12</font>
<x-search>browserContext.on(&quot;request&quot;)</x-search>
<p>Emitted when a request is issued from any pages created through this context. The <a title="Request" href="/python/docs/api/class-request">request</a> object is read-only. To only listen for requests from a particular page, use <a href="/python/docs/api/class-page#page-event-request">page.on(&quot;request&quot;)</a>.</p>
<p>In order to intercept and mutate requests, see <a href="/python/docs/api/class-browsercontext#browser-context-route">browser_context.route()</a> or <a href="/python/docs/api/class-page#page-route">page.route()</a>.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;request&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="Request" href="/python/docs/api/class-request">Request</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-request-failed">on(&quot;requestfailed&quot;)<a href="#browser-context-event-request-failed" class="hash-link" aria-label="Direct link to on(&quot;requestfailed&quot;)" title="Direct link to on(&quot;requestfailed&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.12</font>
<x-search>browserContext.on(&quot;requestfailed&quot;)</x-search>
<p>Emitted when a request fails, for example by timing out. To only listen for failed requests from a particular page, use <a href="/python/docs/api/class-page#page-event-request-failed">page.on(&quot;requestfailed&quot;)</a>.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>HTTP Error responses, such as 404 or 503, are still successful responses from HTTP standpoint, so request will complete with <a href="/python/docs/api/class-browsercontext#browser-context-event-request-finished">browser_context.on(&quot;requestfinished&quot;)</a> event and not with <a href="/python/docs/api/class-browsercontext#browser-context-event-request-failed">browser_context.on(&quot;requestfailed&quot;)</a>.</p></div></div>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;requestfailed&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="Request" href="/python/docs/api/class-request">Request</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-request-finished">on(&quot;requestfinished&quot;)<a href="#browser-context-event-request-finished" class="hash-link" aria-label="Direct link to on(&quot;requestfinished&quot;)" title="Direct link to on(&quot;requestfinished&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.12</font>
<x-search>browserContext.on(&quot;requestfinished&quot;)</x-search>
<p>Emitted when a request finishes successfully after downloading the response body. For a successful response, the sequence of events is <code>request</code>, <code>response</code> and <code>requestfinished</code>. To listen for successful requests from a particular page, use <a href="/python/docs/api/class-page#page-event-request-finished">page.on(&quot;requestfinished&quot;)</a>.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;requestfinished&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="Request" href="/python/docs/api/class-request">Request</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-response">on(&quot;response&quot;)<a href="#browser-context-event-response" class="hash-link" aria-label="Direct link to on(&quot;response&quot;)" title="Direct link to on(&quot;response&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.12</font>
<x-search>browserContext.on(&quot;response&quot;)</x-search>
<p>Emitted when <a title="Response" href="/python/docs/api/class-response">response</a> status and headers are received for a request. For a successful response, the sequence of events is <code>request</code>, <code>response</code> and <code>requestfinished</code>. To listen for response events from a particular page, use <a href="/python/docs/api/class-page#page-event-response">page.on(&quot;response&quot;)</a>.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;response&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="Response" href="/python/docs/api/class-response">Response</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-service-worker">on(&quot;serviceworker&quot;)<a href="#browser-context-event-service-worker" class="hash-link" aria-label="Direct link to on(&quot;serviceworker&quot;)" title="Direct link to on(&quot;serviceworker&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.11</font>
<x-search>browserContext.on(&quot;serviceworker&quot;)</x-search>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Service workers are only supported on Chromium-based browsers.</p></div></div>
<p>Emitted when new service worker is created in the context.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;serviceworker&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="Worker" href="/python/docs/api/class-worker">Worker</a></li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-context-event-web-error">on(&quot;weberror&quot;)<a href="#browser-context-event-web-error" class="hash-link" aria-label="Direct link to on(&quot;weberror&quot;)" title="Direct link to on(&quot;weberror&quot;)">​</a></h3>
<font size="2" style="position:relative;top:-20px">Added in: v1.38</font>
<x-search>browserContext.on(&quot;weberror&quot;)</x-search>
<p>Emitted when exception is unhandled in any of the pages in this context. To listen for errors from a particular page, use <a href="/python/docs/api/class-page#page-event-page-error">page.on(&quot;pageerror&quot;)</a> instead.</p>
<p><strong>Usage</strong></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#D4D4D4;--prism-background-color:#212121"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#D4D4D4;background-color:#212121"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#D4D4D4"><span class="token plain">browser_context</span><span class="token punctuation" style="color:rgb(212, 212, 212)">.</span><span class="token plain">on</span><span class="token punctuation" style="color:rgb(212, 212, 212)">(</span><span class="token string" style="color:rgb(206, 145, 120)">&quot;weberror&quot;</span><span class="token punctuation" style="color:rgb(212, 212, 212)">,</span><span class="token plain"> handler</span><span class="token punctuation" style="color:rgb(212, 212, 212)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Event data</strong></p>
<ul>
<li><a title="WebError" href="/python/docs/api/class-weberror">WebError</a></li>
</ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/python/docs/api/class-browser"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Browser</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/python/docs/api/class-browsertype"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">BrowserType</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a><ul><li><a href="#browser-context-add-cookies" class="table-of-contents__link toc-highlight">add_cookies</a></li><li><a href="#browser-context-add-init-script" class="table-of-contents__link toc-highlight">add_init_script</a></li><li><a href="#browser-context-clear-cookies" class="table-of-contents__link toc-highlight">clear_cookies</a></li><li><a href="#browser-context-clear-permissions" class="table-of-contents__link toc-highlight">clear_permissions</a></li><li><a href="#browser-context-close" class="table-of-contents__link toc-highlight">close</a></li><li><a href="#browser-context-cookies" class="table-of-contents__link toc-highlight">cookies</a></li><li><a href="#browser-context-wait-for-console-message" class="table-of-contents__link toc-highlight">expect_console_message</a></li><li><a href="#browser-context-wait-for-event" class="table-of-contents__link toc-highlight">expect_event</a></li><li><a href="#browser-context-wait-for-page" class="table-of-contents__link toc-highlight">expect_page</a></li><li><a href="#browser-context-expose-binding" class="table-of-contents__link toc-highlight">expose_binding</a></li><li><a href="#browser-context-expose-function" class="table-of-contents__link toc-highlight">expose_function</a></li><li><a href="#browser-context-grant-permissions" class="table-of-contents__link toc-highlight">grant_permissions</a></li><li><a href="#browser-context-new-cdp-session" class="table-of-contents__link toc-highlight">new_cdp_session</a></li><li><a href="#browser-context-new-page" class="table-of-contents__link toc-highlight">new_page</a></li><li><a href="#browser-context-route" class="table-of-contents__link toc-highlight">route</a></li><li><a href="#browser-context-route-from-har" class="table-of-contents__link toc-highlight">route_from_har</a></li><li><a href="#browser-context-set-default-navigation-timeout" class="table-of-contents__link toc-highlight">set_default_navigation_timeout</a></li><li><a href="#browser-context-set-default-timeout" class="table-of-contents__link toc-highlight">set_default_timeout</a></li><li><a href="#browser-context-set-extra-http-headers" class="table-of-contents__link toc-highlight">set_extra_http_headers</a></li><li><a href="#browser-context-set-geolocation" class="table-of-contents__link toc-highlight">set_geolocation</a></li><li><a href="#browser-context-set-offline" class="table-of-contents__link toc-highlight">set_offline</a></li><li><a href="#browser-context-storage-state" class="table-of-contents__link toc-highlight">storage_state</a></li><li><a href="#browser-context-unroute" class="table-of-contents__link toc-highlight">unroute</a></li><li><a href="#browser-context-unroute-all" class="table-of-contents__link toc-highlight">unroute_all</a></li><li><a href="#browser-context-wait-for-event-2" class="table-of-contents__link toc-highlight">wait_for_event</a></li></ul></li><li><a href="#properties" class="table-of-contents__link toc-highlight">Properties</a><ul><li><a href="#browser-context-background-pages" class="table-of-contents__link toc-highlight">background_pages</a></li><li><a href="#browser-context-browser" class="table-of-contents__link toc-highlight">browser</a></li><li><a href="#browser-context-clock" class="table-of-contents__link toc-highlight">clock</a></li><li><a href="#browser-context-pages" class="table-of-contents__link toc-highlight">pages</a></li><li><a href="#browser-context-request" class="table-of-contents__link toc-highlight">request</a></li><li><a href="#browser-context-service-workers" class="table-of-contents__link toc-highlight">service_workers</a></li><li><a href="#browser-context-tracing" class="table-of-contents__link toc-highlight">tracing</a></li></ul></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a><ul><li><a href="#browser-context-event-background-page" class="table-of-contents__link toc-highlight">on(&quot;backgroundpage&quot;)</a></li><li><a href="#browser-context-event-close" class="table-of-contents__link toc-highlight">on(&quot;close&quot;)</a></li><li><a href="#browser-context-event-console" class="table-of-contents__link toc-highlight">on(&quot;console&quot;)</a></li><li><a href="#browser-context-event-dialog" class="table-of-contents__link toc-highlight">on(&quot;dialog&quot;)</a></li><li><a href="#browser-context-event-page" class="table-of-contents__link toc-highlight">on(&quot;page&quot;)</a></li><li><a href="#browser-context-event-request" class="table-of-contents__link toc-highlight">on(&quot;request&quot;)</a></li><li><a href="#browser-context-event-request-failed" class="table-of-contents__link toc-highlight">on(&quot;requestfailed&quot;)</a></li><li><a href="#browser-context-event-request-finished" class="table-of-contents__link toc-highlight">on(&quot;requestfinished&quot;)</a></li><li><a href="#browser-context-event-response" class="table-of-contents__link toc-highlight">on(&quot;response&quot;)</a></li><li><a href="#browser-context-event-service-worker" class="table-of-contents__link toc-highlight">on(&quot;serviceworker&quot;)</a></li><li><a href="#browser-context-event-web-error" class="table-of-contents__link toc-highlight">on(&quot;weberror&quot;)</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">學習</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/python/docs/intro">入門</a></li><li class="footer__item"><a href="https://learn.microsoft.com/en-us/training/modules/build-with-playwright/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Playwright 訓練<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/python/community/learn-videos">教學影片</a></li><li class="footer__item"><a class="footer__link-item" href="/python/community/feature-videos">精選影片</a></li></ul></div><div class="col footer__col"><div class="footer__title">社群</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/playwright" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://aka.ms/playwright/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/playwrightweb" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/playwrightweb" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">更多</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/microsoft/playwright-python" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UC46Zj8pDH5tDosqm1gd7WTg" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://dev.to/playwright" target="_blank" rel="noopener noreferrer" class="footer__link-item">部落格<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/python/community/ambassadors">技術傳教士</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Microsoft</div></div></div></footer></div>
</body>
</html>