"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[5434],{9679:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>p,contentTitle:()=>o,default:()=>x,frontMatter:()=>l,metadata:()=>h,toc:()=>d});var r=n(4848),t=n(8453),i=n(4235),a=n(8328);n(3078);const l={id:"class-apiresponse",title:"APIResponse"},o=void 0,h={id:"api/class-apiresponse",title:"APIResponse",description:"APIResponse] class represents responses returned by [apirequestcontext.get() and similar methods.",source:"@site/versioned_docs/version-stable/api/class-apiresponse.mdx",sourceDirName:"api",slug:"/api/class-apiresponse",permalink:"/python/docs/api/class-apiresponse",draft:!1,unlisted:!1,tags:[],version:"stable",frontMatter:{id:"class-apiresponse",title:"APIResponse"},sidebar:"api",previous:{title:"APIRequestContext",permalink:"/python/docs/api/class-apirequestcontext"},next:{title:"Accessibility",permalink:"/python/docs/api/class-accessibility"}},p={},d=[{value:"Methods",id:"methods",level:2},{value:"body",id:"api-response-body",level:3},{value:"dispose",id:"api-response-dispose",level:3},{value:"json",id:"api-response-json",level:3},{value:"text",id:"api-response-text",level:3},{value:"Properties",id:"properties",level:2},{value:"headers",id:"api-response-headers",level:3},{value:"headers_array",id:"api-response-headers-array",level:3},{value:"ok",id:"api-response-ok",level:3},{value:"status",id:"api-response-status",level:3},{value:"status_text",id:"api-response-status-text",level:3},{value:"url",id:"api-response-url",level:3}];function c(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"/python/docs/api/class-apiresponse",title:"APIResponse",children:"APIResponse"})," class represents responses returned by ",(0,r.jsx)(s.a,{href:"/python/docs/api/class-apirequestcontext#api-request-context-get",children:"api_request_context.get()"})," and similar methods."]}),"\n",(0,r.jsxs)(i.A,{groupId:"python-flavor",defaultValue:"sync",values:[{label:"Sync",value:"sync"},{label:"Async",value:"async"}],children:[(0,r.jsx)(a.A,{value:"sync",children:(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-py",children:'from playwright.sync_api import sync_playwright\n\nwith sync_playwright() as p:\n    context = playwright.request.new_context()\n    response = context.get("https://example.com/user/repos")\n    assert response.ok\n    assert response.status == 200\n    assert response.headers["content-type"] == "application/json; charset=utf-8"\n    assert response.json()["name"] == "foobar"\n    assert response.body() == \'{"status": "ok"}\'\n'})})}),(0,r.jsx)(a.A,{value:"async",children:(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-py",children:'import asyncio\nfrom playwright.async_api import async_playwright, Playwright\n\nasync def run(playwright: Playwright):\n    context = await playwright.request.new_context()\n    response = await context.get("https://example.com/user/repos")\n    assert response.ok\n    assert response.status == 200\n    assert response.headers["content-type"] == "application/json; charset=utf-8"\n    assert response.json()["name"] == "foobar"\n    assert await response.body() == \'{"status": "ok"}\'\n\n\nasync def main():\n    async with async_playwright() as playwright:\n        await run(playwright)\n\nasyncio.run(main())\n'})})})]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,r.jsx)(s.h3,{id:"api-response-body",children:"body"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.body"}),"\n",(0,r.jsx)(s.p,{children:"Returns the buffer with response body."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.body()\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#bytes",title:"bytes",children:"bytes"}),(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-body-return"}),(0,r.jsx)("a",{href:"#api-response-body-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"api-response-dispose",children:"dispose"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.dispose"}),"\n",(0,r.jsx)(s.p,{children:"Disposes the body of this response. If not called then the body will stay in memory until the context closes."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.dispose()\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/constants.html#None",title:"None",children:"NoneType"}),(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-dispose-return"}),(0,r.jsx)("a",{href:"#api-response-dispose-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"api-response-json",children:"json"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.json"}),"\n",(0,r.jsx)(s.p,{children:"Returns the JSON representation of response body."}),"\n",(0,r.jsxs)(s.p,{children:["This method will throw if the response body is not parsable via ",(0,r.jsx)(s.code,{children:"JSON.parse"}),"."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.json()\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#Description",title:"Serializable",children:"Serializable"}),(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-json-return"}),(0,r.jsx)("a",{href:"#api-response-json-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"api-response-text",children:"text"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.text"}),"\n",(0,r.jsx)(s.p,{children:"Returns the text representation of response body."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.text()\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"}),(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-text-return"}),(0,r.jsx)("a",{href:"#api-response-text-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h2,{id:"properties",children:"Properties"}),"\n",(0,r.jsx)(s.h3,{id:"api-response-headers",children:"headers"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.headers"}),"\n",(0,r.jsx)(s.p,{children:"An object with all the response HTTP headers associated with this response."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.headers\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/typing.html#typing.Dict",title:"Dict",children:"Dict"}),"[",(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"}),", ",(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"}),"]",(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-headers-return"}),(0,r.jsx)("a",{href:"#api-response-headers-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"api-response-headers-array",children:"headers_array"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.headers_array"}),"\n",(0,r.jsxs)(s.p,{children:["An array with all the response HTTP headers associated with this response. Header names are not lower-cased. Headers with multiple entries, such as ",(0,r.jsx)(s.code,{children:"Set-Cookie"}),", appear in the array multiple times."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.headers_array\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/typing.html#typing.List",title:"List",children:"List"}),"[",(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/typing.html#typing.Dict",title:"Dict",children:"Dict"}),"]",(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-headers-array-return"}),(0,r.jsx)("a",{href:"#api-response-headers-array-return",class:"list-anchor",children:"#"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"name"})," ",(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"})]}),"\n",(0,r.jsx)(s.p,{children:"Name of the header."}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"value"})," ",(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"})]}),"\n",(0,r.jsx)(s.p,{children:"Value of the header."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"api-response-ok",children:"ok"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.ok"}),"\n",(0,r.jsx)(s.p,{children:"Contains a boolean stating whether the response was successful (status in the range 200-299) or not."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.ok\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html",title:"bool",children:"bool"}),(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-ok-return"}),(0,r.jsx)("a",{href:"#api-response-ok-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"api-response-status",children:"status"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.status"}),"\n",(0,r.jsx)(s.p,{children:"Contains the status code of the response (e.g., 200 for a success)."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.status\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#numeric-types-int-float-complex",title:"int",children:"int"}),(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-status-return"}),(0,r.jsx)("a",{href:"#api-response-status-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"api-response-status-text",children:"status_text"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.status_text"}),"\n",(0,r.jsx)(s.p,{children:'Contains the status text of the response (e.g. usually an "OK" for a success).'}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.status_text\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"}),(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-status-text-return"}),(0,r.jsx)("a",{href:"#api-response-status-text-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{}),"\n",(0,r.jsx)(s.h3,{id:"api-response-url",children:"url"}),"\n",(0,r.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.16"}),"\n",(0,r.jsx)("x-search",{children:"apiResponse.url"}),"\n",(0,r.jsx)(s.p,{children:"Contains the URL of the response."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Usage"})}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"api_response.url\n"})}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Returns"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"}),(0,r.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"api-response-url-return"}),(0,r.jsx)("a",{href:"#api-response-url-return",class:"list-anchor",children:"#"})]}),"\n"]})]})}function x(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);