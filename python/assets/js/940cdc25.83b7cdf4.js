"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[6964],{9886:(t,e,s)=>{s.r(e),s.d(e,{assets:()=>a,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>c});var l=s(4848),o=s(8453);s(4235),s(8328),s(3078);const r={id:"test-assertions",title:"\u65b7\u8a00"},i=void 0,n={id:"test-assertions",title:"\u65b7\u8a00",description:"\u65b7\u8a00\u5217\u8868",source:"@site/versioned_docs/version-stable/test-assertions.mdx",sourceDirName:".",slug:"/test-assertions",permalink:"/python/docs/test-assertions",draft:!1,unlisted:!1,tags:[],version:"stable",frontMatter:{id:"test-assertions",title:"\u65b7\u8a00"},sidebar:"docs",previous:{title:"API \u6e2c\u8a66",permalink:"/python/docs/api-testing"},next:{title:"\u8eab\u4efd\u9a57\u8b49",permalink:"/python/docs/auth"}},a={},c=[{value:"\u65b7\u8a00\u5217\u8868",id:"\u65b7\u8a00\u5217\u8868",level:2},{value:"\u81ea\u8a02\u671f\u671b\u8a0a\u606f",id:"\u81ea\u8a02\u671f\u671b\u8a0a\u606f",level:2},{value:"\u8a2d\u5b9a a custom timeout",id:"\u8a2d\u5b9a-a-custom-timeout",level:2},{value:"\u5168\u57df timeout",id:"\u5168\u57df-timeout",level:3},{value:"\u6bcf\u500b\u65b7\u8a00\u8d85\u6642",id:"\u6bcf\u500b\u65b7\u8a00\u8d85\u6642",level:3}];function d(t){const e={a:"a",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...t.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.h2,{id:"\u65b7\u8a00\u5217\u8868",children:"\u65b7\u8a00\u5217\u8868"}),"\n",(0,l.jsxs)(e.table,{children:[(0,l.jsx)(e.thead,{children:(0,l.jsxs)(e.tr,{children:[(0,l.jsx)(e.th,{style:{textAlign:"left"},children:"Assertion"}),(0,l.jsx)(e.th,{style:{textAlign:"left"},children:"Description"})]})}),(0,l.jsxs)(e.tbody,{children:[(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-attached",children:"expect(locator).to_be_attached"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5df2\u9644\u52a0"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-checked",children:"expect(locator).to_be_checked"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u52fe\u9078\u6846\u5df2\u52fe\u9078"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-disabled",children:"expect(locator).to_be_disabled"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5df2\u505c\u7528"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-editable",children:"expect(locator).to_be_editable"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u53ef\u7de8\u8f2f"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-empty",children:"expect(locator).to_be_empty"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5bb9\u5668\u70ba\u7a7a"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-enabled",children:"expect(locator).to_be_enabled"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5df2\u555f\u7528"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-focused",children:"expect(locator).to_be_focused"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5df2\u805a\u7126"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-hidden",children:"expect(locator).to_be_hidden"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u4e0d\u53ef\u898b"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-in-viewport",children:"expect(locator).to_be_in_viewport"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u8207\u8996\u53e3\u76f8\u4ea4"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-be-visible",children:"expect(locator).to_be_visible"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u53ef\u898b"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-contain-text",children:"expect(locator).to_contain_text"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5305\u542b\u6587\u5b57"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-accessible-description",children:"expect(locator).to_have_accessible_description"}),"()"]}),(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:["\u5143\u7d20\u5177\u6709\u5339\u914d\u7684",(0,l.jsx)(e.a,{href:"https://w3c.github.io/accname/#dfn-accessible-description",children:"\u53ef\u8a2a\u554f\u63cf\u8ff0"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-accessible-name",children:"expect(locator).to_have_accessible_name"}),"()"]}),(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:["\u5143\u7d20\u5177\u6709\u5339\u914d\u7684",(0,l.jsx)(e.a,{href:"https://w3c.github.io/accname/#dfn-accessible-name",children:"\u53ef\u8a2a\u554f\u540d\u7a31"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-attribute",children:"expect(locator).to_have_attribute"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5177\u6709 DOM \u5c6c\u6027"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-class",children:"expect(locator).to_have_class"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5177\u6709\u985e\u5225\u5c6c\u6027"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-count",children:"expect(locator).to_have_count"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5217\u8868\u5177\u6709\u78ba\u5207\u7684\u5b50\u9805\u6578\u91cf"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-css",children:"expect(locator).to_have_css"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5177\u6709 CSS \u5c6c\u6027"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-id",children:"expect(locator).to_have_id"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5177\u6709 ID"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-js-property",children:"expect(locator).to_have_js_property"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5177\u6709 JavaScript \u5c6c\u6027"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-role",children:"expect(locator).to_have_role"}),"()"]}),(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:["\u5143\u7d20\u5177\u6709\u7279\u5b9a\u7684",(0,l.jsx)(e.a,{href:"https://www.w3.org/TR/wai-aria-1.2/#roles",children:"ARIA \u89d2\u8272"})]})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-text",children:"expect(locator).to_have_text"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u5143\u7d20\u5339\u914d\u6587\u5b57"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-value",children:"expect(locator).to_have_value"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u8f38\u5165\u5177\u6709\u503c"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-locatorassertions#locator-assertions-to-have-values",children:"expect(locator).to_have_values"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u9078\u64c7\u5177\u6709\u9078\u4e2d\u7684\u9078\u9805"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-pageassertions#page-assertions-to-have-title",children:"expect(page).to_have_title"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u9801\u9762\u5177\u6709\u6a19\u984c"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-pageassertions#page-assertions-to-have-url",children:"expect(page).to_have_url"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u9801\u9762\u5177\u6709 URL"})]}),(0,l.jsxs)(e.tr,{children:[(0,l.jsxs)(e.td,{style:{textAlign:"left"},children:[(0,l.jsx)(e.a,{href:"/python/docs/api/class-apiresponseassertions#api-response-assertions-to-be-ok",children:"expect(response).to_be_ok"}),"()"]}),(0,l.jsx)(e.td,{style:{textAlign:"left"},children:"\u56de\u61c9\u5177\u6709 OK \u72c0\u614b"})]})]})]}),"\n",(0,l.jsx)(e.h2,{id:"\u81ea\u8a02\u671f\u671b\u8a0a\u606f",children:"\u81ea\u8a02\u671f\u671b\u8a0a\u606f"}),"\n",(0,l.jsxs)(e.p,{children:["\u60a8\u53ef\u4ee5\u6307\u5b9a\u4e00\u500b\u81ea\u8a02\u7684\u9810\u671f\u8a0a\u606f\u4f5c\u70ba ",(0,l.jsx)(e.code,{children:"expect"})," \u51fd\u5f0f\u7684\u7b2c\u4e8c\u500b\u53c3\u6578\uff0c\u4f8b\u5982:"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",children:'expect(page.get_by_text("Name"), "should be logged in").to_be_visible()\n'})}),"\n",(0,l.jsx)(e.p,{children:"\u7576 expect \u5931\u6557\u6642\uff0c\u932f\u8aa4\u6703\u770b\u8d77\u4f86\u50cf\u9019\u6a23:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:'    def test_foobar(page: Page) -> None:\n>       expect(page.get_by_text("Name"), "should be logged in").to_be_visible()\nE       AssertionError: should be logged in\nE       Actual value: None\nE       Call log:\nE       LocatorAssertions.to_be_visible with timeout 5000ms\nE       waiting for get_by_text("Name")\nE       waiting for get_by_text("Name")\n\ntests/test_foobar.py:22: AssertionError\n'})}),"\n",(0,l.jsx)(e.h2,{id:"\u8a2d\u5b9a-a-custom-timeout",children:"\u8a2d\u5b9a a custom timeout"}),"\n",(0,l.jsx)(e.p,{children:"\u60a8\u53ef\u4ee5\u70ba\u65b7\u8a00\u6307\u5b9a\u81ea\u8a02\u7684\u8d85\u6642\u6642\u9593\uff0c\u7121\u8ad6\u662f\u5168\u57df\u9084\u662f\u6bcf\u500b\u65b7\u8a00\u3002\u9810\u8a2d\u7684\u8d85\u6642\u6642\u9593\u70ba 5 \u79d2\u3002"}),"\n",(0,l.jsx)(e.h3,{id:"\u5168\u57df-timeout",children:"\u5168\u57df timeout"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",metastring:'title="conftest.py"',children:"from playwright.sync_api import expect\n\nexpect.set_options(timeout=10_000)\n"})}),"\n",(0,l.jsx)(e.h3,{id:"\u6bcf\u500b\u65b7\u8a00\u8d85\u6642",children:"\u6bcf\u500b\u65b7\u8a00\u8d85\u6642"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-python",metastring:'title="test_foobar.py"',children:'from playwright.sync_api import expect\n\ndef test_foobar(page: Page) -> None:\n    expect(page.get_by_text("Name")).to_be_visible(timeout=10_000)\n'})})]})}function h(t={}){const{wrapper:e}={...(0,o.R)(),...t.components};return e?(0,l.jsx)(e,{...t,children:(0,l.jsx)(d,{...t})}):d(t)}}}]);