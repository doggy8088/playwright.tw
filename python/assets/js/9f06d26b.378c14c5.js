"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[5466],{5787:(t,n,e)=>{e.r(n),e.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>x,frontMatter:()=>c,metadata:()=>h,toc:()=>d});var s=e(4848),r=e(8453),i=e(4235),a=e(8328);e(3078);const c={id:"class-tracing",title:"Tracing"},l=void 0,h={id:"api/class-tracing",title:"Tracing",description:"API for collecting and saving Playwright traces. Playwright traces can be opened in Trace Viewer after Playwright script runs.",source:"@site/docs/api/class-tracing.mdx",sourceDirName:"api",slug:"/api/class-tracing",permalink:"/python/docs/next/api/class-tracing",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"class-tracing",title:"Tracing"},sidebar:"api",previous:{title:"Touchscreen",permalink:"/python/docs/next/api/class-touchscreen"},next:{title:"Video",permalink:"/python/docs/next/api/class-video"}},o={},d=[{value:"Methods",id:"methods",level:2},{value:"start",id:"tracing-start",level:3},{value:"start_chunk",id:"tracing-start-chunk",level:3},{value:"stop",id:"tracing-stop",level:3},{value:"stop_chunk",id:"tracing-stop-chunk",level:3}];function p(t){const n={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...t.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["API for collecting and saving Playwright traces. Playwright traces can be opened in ",(0,s.jsx)(n.a,{href:"/python/docs/next/trace-viewer",children:"Trace Viewer"})," after Playwright script runs."]}),"\n",(0,s.jsx)(n.p,{children:"Start recording a trace before performing actions. At the end, stop tracing and save it to a file."}),"\n",(0,s.jsxs)(i.A,{groupId:"python-flavor",defaultValue:"sync",values:[{label:"Sync",value:"sync"},{label:"Async",value:"async"}],children:[(0,s.jsx)(a.A,{value:"sync",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'browser = chromium.launch()\ncontext = browser.new_context()\ncontext.tracing.start(screenshots=True, snapshots=True)\npage = context.new_page()\npage.goto("https://playwright.dev")\ncontext.tracing.stop(path = "trace.zip")\n'})})}),(0,s.jsx)(a.A,{value:"async",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'browser = await chromium.launch()\ncontext = await browser.new_context()\nawait context.tracing.start(screenshots=True, snapshots=True)\npage = await context.new_page()\nawait page.goto("https://playwright.dev")\nawait context.tracing.stop(path = "trace.zip")\n'})})})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(n.h3,{id:"tracing-start",children:"start"}),"\n",(0,s.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.12"}),"\n",(0,s.jsx)("x-search",{children:"tracing.start"}),"\n",(0,s.jsx)(n.p,{children:"Start tracing."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Usage"})}),"\n",(0,s.jsxs)(i.A,{groupId:"python-flavor",defaultValue:"sync",values:[{label:"Sync",value:"sync"},{label:"Async",value:"async"}],children:[(0,s.jsx)(a.A,{value:"sync",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'context.tracing.start(screenshots=True, snapshots=True)\npage = context.new_page()\npage.goto("https://playwright.dev")\ncontext.tracing.stop(path = "trace.zip")\n'})})}),(0,s.jsx)(a.A,{value:"async",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'await context.tracing.start(screenshots=True, snapshots=True)\npage = await context.new_page()\nawait page.goto("https://playwright.dev")\nawait context.tracing.stop(path = "trace.zip")\n'})})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"name"})," ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"})," ",(0,s.jsx)(n.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-name"}),(0,s.jsx)("a",{href:"#tracing-start-option-name",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["If specified, intermediate trace files are going to be saved into the files with the given name prefix inside the ",(0,s.jsx)(n.code,{children:"traces_dir"})," folder specified in ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-browsertype#browser-type-launch",children:"browser_type.launch()"}),". To specify the final trace zip file name, you need to pass ",(0,s.jsx)(n.code,{children:"path"})," option to ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-tracing#tracing-stop",children:"tracing.stop()"})," instead."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"screenshots"})," ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/stdtypes.html",title:"bool",children:"bool"})," ",(0,s.jsx)(n.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-screenshots"}),(0,s.jsx)("a",{href:"#tracing-start-option-screenshots",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Whether to capture screenshots during tracing. Screenshots are used to build a timeline preview."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"snapshots"})," ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/stdtypes.html",title:"bool",children:"bool"})," ",(0,s.jsx)(n.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-snapshots"}),(0,s.jsx)("a",{href:"#tracing-start-option-snapshots",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"If this option is true tracing will"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"capture DOM snapshot on every action"}),"\n",(0,s.jsx)(n.li,{children:"record network activity"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"sources"})," ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/stdtypes.html",title:"bool",children:"bool"})," ",(0,s.jsx)(n.em,{children:"(optional)"})," ",(0,s.jsx)("font",{size:"2",children:"Added in: v1.17"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-sources"}),(0,s.jsx)("a",{href:"#tracing-start-option-sources",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Whether to include source files for trace actions."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"title"})," ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"})," ",(0,s.jsx)(n.em,{children:"(optional)"})," ",(0,s.jsx)("font",{size:"2",children:"Added in: v1.17"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-title"}),(0,s.jsx)("a",{href:"#tracing-start-option-title",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Trace name to be shown in the Trace Viewer."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/constants.html#None",title:"None",children:"NoneType"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-return"}),(0,s.jsx)("a",{href:"#tracing-start-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"tracing-start-chunk",children:"start_chunk"}),"\n",(0,s.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.15"}),"\n",(0,s.jsx)("x-search",{children:"tracing.start_chunk"}),"\n",(0,s.jsxs)(n.p,{children:["Start a new trace chunk. If you'd like to record multiple traces on the same ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-browsercontext",title:"BrowserContext",children:"BrowserContext"}),", use ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-tracing#tracing-start",children:"tracing.start()"})," once, and then create multiple trace chunks with ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-tracing#tracing-start-chunk",children:"tracing.start_chunk()"})," and ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-tracing#tracing-stop-chunk",children:"tracing.stop_chunk()"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Usage"})}),"\n",(0,s.jsxs)(i.A,{groupId:"python-flavor",defaultValue:"sync",values:[{label:"Sync",value:"sync"},{label:"Async",value:"async"}],children:[(0,s.jsx)(a.A,{value:"sync",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'context.tracing.start(screenshots=True, snapshots=True)\npage = context.new_page()\npage.goto("https://playwright.dev")\n\ncontext.tracing.start_chunk()\npage.get_by_text("Get Started").click()\n# Everything between start_chunk and stop_chunk will be recorded in the trace.\ncontext.tracing.stop_chunk(path = "trace1.zip")\n\ncontext.tracing.start_chunk()\npage.goto("http://example.com")\n# Save a second trace file with different actions.\ncontext.tracing.stop_chunk(path = "trace2.zip")\n'})})}),(0,s.jsx)(a.A,{value:"async",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-py",children:'await context.tracing.start(screenshots=True, snapshots=True)\npage = await context.new_page()\nawait page.goto("https://playwright.dev")\n\nawait context.tracing.start_chunk()\nawait page.get_by_text("Get Started").click()\n# Everything between start_chunk and stop_chunk will be recorded in the trace.\nawait context.tracing.stop_chunk(path = "trace1.zip")\n\nawait context.tracing.start_chunk()\nawait page.goto("http://example.com")\n# Save a second trace file with different actions.\nawait context.tracing.stop_chunk(path = "trace2.zip")\n'})})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"name"})," ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"})," ",(0,s.jsx)(n.em,{children:"(optional)"})," ",(0,s.jsx)("font",{size:"2",children:"Added in: v1.32"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-chunk-option-name"}),(0,s.jsx)("a",{href:"#tracing-start-chunk-option-name",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["If specified, intermediate trace files are going to be saved into the files with the given name prefix inside the ",(0,s.jsx)(n.code,{children:"traces_dir"})," folder specified in ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-browsertype#browser-type-launch",children:"browser_type.launch()"}),". To specify the final trace zip file name, you need to pass ",(0,s.jsx)(n.code,{children:"path"})," option to ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-tracing#tracing-stop-chunk",children:"tracing.stop_chunk()"})," instead."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"title"})," ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"})," ",(0,s.jsx)(n.em,{children:"(optional)"})," ",(0,s.jsx)("font",{size:"2",children:"Added in: v1.17"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-chunk-option-title"}),(0,s.jsx)("a",{href:"#tracing-start-chunk-option-title",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Trace name to be shown in the Trace Viewer."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/constants.html#None",title:"None",children:"NoneType"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-chunk-return"}),(0,s.jsx)("a",{href:"#tracing-start-chunk-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"tracing-stop",children:"stop"}),"\n",(0,s.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.12"}),"\n",(0,s.jsx)("x-search",{children:"tracing.stop"}),"\n",(0,s.jsx)(n.p,{children:"Stop tracing."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Usage"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"tracing.stop()\ntracing.stop(**kwargs)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"path"})," ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/typing.html#typing.Union",title:"Union",children:"Union"}),"[",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"}),", ",(0,s.jsx)(n.a,{href:"https://realpython.com/python-pathlib/",title:"pathlib.Path",children:"pathlib.Path"}),"] ",(0,s.jsx)(n.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-stop-option-path"}),(0,s.jsx)("a",{href:"#tracing-stop-option-path",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(n.p,{children:"Export trace into the file with the given path."}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/constants.html#None",title:"None",children:"NoneType"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-stop-return"}),(0,s.jsx)("a",{href:"#tracing-stop-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h3,{id:"tracing-stop-chunk",children:"stop_chunk"}),"\n",(0,s.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.15"}),"\n",(0,s.jsx)("x-search",{children:"tracing.stop_chunk"}),"\n",(0,s.jsxs)(n.p,{children:["Stop the trace chunk. See ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-tracing#tracing-start-chunk",children:"tracing.start_chunk()"})," for more details about multiple trace chunks."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Usage"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"tracing.stop_chunk()\ntracing.stop_chunk(**kwargs)\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"path"})," ",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/typing.html#typing.Union",title:"Union",children:"Union"}),"[",(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"}),", ",(0,s.jsx)(n.a,{href:"https://realpython.com/python-pathlib/",title:"pathlib.Path",children:"pathlib.Path"}),"] ",(0,s.jsx)(n.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-stop-chunk-option-path"}),(0,s.jsx)("a",{href:"#tracing-stop-chunk-option-path",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsxs)(n.p,{children:["Export trace collected since the last ",(0,s.jsx)(n.a,{href:"/python/docs/next/api/class-tracing#tracing-start-chunk",children:"tracing.start_chunk()"})," call into the file with the given path."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.a,{href:"https://docs.python.org/3/library/constants.html#None",title:"None",children:"NoneType"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-stop-chunk-return"}),(0,s.jsx)("a",{href:"#tracing-stop-chunk-return",class:"list-anchor",children:"#"})]}),"\n"]})]})}function x(t={}){const{wrapper:n}={...(0,r.R)(),...t.components};return n?(0,s.jsx)(n,{...t,children:(0,s.jsx)(p,{...t})}):p(t)}}}]);