"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[8815],{5996:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>l,default:()=>x,frontMatter:()=>o,metadata:()=>r,toc:()=>h});var t=n(4848),i=n(8453),a=n(4235),c=n(8328);n(3078);const o={id:"class-cdpsession",title:"CDPSession"},l=void 0,r={id:"api/class-cdpsession",title:"CDPSession",description:"The CDPSession instances are used to talk raw Chrome Devtools Protocol:",source:"@site/docs/api/class-cdpsession.mdx",sourceDirName:"api",slug:"/api/class-cdpsession",permalink:"/python/docs/next/api/class-cdpsession",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"class-cdpsession",title:"CDPSession"},sidebar:"api",previous:{title:"BrowserType",permalink:"/python/docs/next/api/class-browsertype"},next:{title:"Clock",permalink:"/python/docs/next/api/class-clock"}},d={},h=[{value:"Methods",id:"methods",level:2},{value:"detach",id:"cdp-session-detach",level:3},{value:"send",id:"cdp-session-send",level:3}];function p(e){const s={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.p,{children:["The ",(0,t.jsx)(s.code,{children:"CDPSession"})," instances are used to talk raw Chrome Devtools Protocol:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["protocol methods can be called with ",(0,t.jsx)(s.code,{children:"session.send"})," method."]}),"\n",(0,t.jsxs)(s.li,{children:["protocol events can be subscribed to with ",(0,t.jsx)(s.code,{children:"session.on"})," method."]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:"Useful links:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["Documentation on DevTools Protocol can be found here: ",(0,t.jsx)(s.a,{href:"https://chromedevtools.github.io/devtools-protocol/",children:"DevTools Protocol Viewer"}),"."]}),"\n",(0,t.jsxs)(s.li,{children:["Getting Started with DevTools Protocol: ",(0,t.jsx)(s.a,{href:"https://github.com/aslushnikov/getting-started-with-cdp/blob/master/README.md",children:"https://github.com/aslushnikov/getting-started-with-cdp/blob/master/README.md"})]}),"\n"]}),"\n",(0,t.jsxs)(a.A,{groupId:"python-flavor",defaultValue:"sync",values:[{label:"Sync",value:"sync"},{label:"Async",value:"async"}],children:[(0,t.jsx)(c.A,{value:"sync",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-py",children:'client = page.context.new_cdp_session(page)\nclient.send("Animation.enable")\nclient.on("Animation.animationCreated", lambda: print("animation created!"))\nresponse = client.send("Animation.getPlaybackRate")\nprint("playback rate is " + str(response["playbackRate"]))\nclient.send("Animation.setPlaybackRate", {\n    "playbackRate": response["playbackRate"] / 2\n})\n'})})}),(0,t.jsx)(c.A,{value:"async",children:(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-py",children:'client = await page.context.new_cdp_session(page)\nawait client.send("Animation.enable")\nclient.on("Animation.animationCreated", lambda: print("animation created!"))\nresponse = await client.send("Animation.getPlaybackRate")\nprint("playback rate is " + str(response["playbackRate"]))\nawait client.send("Animation.setPlaybackRate", {\n    "playbackRate": response["playbackRate"] / 2\n})\n'})})})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(s.h3,{id:"cdp-session-detach",children:"detach"}),"\n",(0,t.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added before v1.9"}),"\n",(0,t.jsx)("x-search",{children:"cdpSession.detach"}),"\n",(0,t.jsx)(s.p,{children:"Detaches the CDPSession from the target. Once detached, the CDPSession object won't emit any events and can't be used to send messages."}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Usage"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"cdp_session.detach()\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://docs.python.org/3/library/constants.html#None",title:"None",children:"NoneType"}),(0,t.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-detach-return"}),(0,t.jsx)("a",{href:"#cdp-session-detach-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"cdp-session-send",children:"send"}),"\n",(0,t.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added before v1.9"}),"\n",(0,t.jsx)("x-search",{children:"cdpSession.send"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Usage"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-python",children:"cdp_session.send(method)\ncdp_session.send(method, **kwargs)\n"})}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Arguments"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"method"})," ",(0,t.jsx)(s.a,{href:"https://docs.python.org/3/library/stdtypes.html#text-sequence-type-str",title:"str",children:"str"}),(0,t.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-send-option-method"}),(0,t.jsx)("a",{href:"#cdp-session-send-option-method",class:"list-anchor",children:"#"})]}),"\n",(0,t.jsx)(s.p,{children:"Protocol method name."}),"\n"]}),"\n",(0,t.jsxs)(s.li,{children:["\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.code,{children:"params"})," ",(0,t.jsx)(s.a,{href:"https://docs.python.org/3/library/typing.html#typing.Dict",title:"Dict",children:"Dict"})," ",(0,t.jsx)(s.em,{children:"(optional)"}),(0,t.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-send-option-params"}),(0,t.jsx)("a",{href:"#cdp-session-send-option-params",class:"list-anchor",children:"#"})]}),"\n",(0,t.jsx)(s.p,{children:"Optional method parameters."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Returns"})}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.a,{href:"https://docs.python.org/3/library/typing.html#typing.Dict",title:"Dict",children:"Dict"}),(0,t.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-send-return"}),(0,t.jsx)("a",{href:"#cdp-session-send-return",class:"list-anchor",children:"#"})]}),"\n"]})]})}function x(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}}}]);