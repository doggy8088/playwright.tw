"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[5542],{6527:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>r,metadata:()=>c,toc:()=>h});var s=n(4848),t=n(8453),i=n(4235),a=n(8328);n(3078);const r={id:"videos",title:"Videos"},d=void 0,c={id:"videos",title:"Videos",description:"Introduction",source:"@site/docs/videos.mdx",sourceDirName:".",slug:"/videos",permalink:"/python/docs/next/videos",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"videos",title:"Videos"},sidebar:"docs",previous:{title:"Trace viewer",permalink:"/python/docs/next/trace-viewer"},next:{title:"WebView2",permalink:"/python/docs/next/webview2"}},l={},h=[{value:"Introduction",id:"introduction",level:2},{value:"Record video",id:"record-video",level:2}];function v(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h2,{id:"introduction",children:"Introduction"}),"\n",(0,s.jsx)(o.p,{children:"With Playwright you can record videos for your tests."}),"\n",(0,s.jsx)(o.h2,{id:"record-video",children:"Record video"}),"\n",(0,s.jsxs)(o.p,{children:["Videos are saved upon ",(0,s.jsx)(o.a,{href:"/python/docs/next/browser-contexts",children:"browser context"})," closure at the end of a test. If you create a browser context manually, make sure to await ",(0,s.jsx)(o.a,{href:"/python/docs/next/api/class-browsercontext#browser-context-close",children:"browser_context.close()"}),"."]}),"\n",(0,s.jsxs)(i.A,{groupId:"python-flavor",defaultValue:"sync",values:[{label:"Sync",value:"sync"},{label:"Async",value:"async"}],children:[(0,s.jsx)(a.A,{value:"sync",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-py",children:'context = browser.new_context(record_video_dir="videos/")\n# Make sure to close, so that videos are saved.\ncontext.close()\n'})})}),(0,s.jsx)(a.A,{value:"async",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-py",children:'context = await browser.new_context(record_video_dir="videos/")\n# Make sure to await close, so that videos are saved.\nawait context.close()\n'})})})]}),"\n",(0,s.jsx)(o.p,{children:"You can also specify video size. The video size defaults to the viewport size scaled down to fit 800x800. The video of the viewport is placed in the top-left corner of the output video, scaled down to fit if necessary. You may need to set the viewport size to match your desired video size."}),"\n",(0,s.jsxs)(i.A,{groupId:"python-flavor",defaultValue:"sync",values:[{label:"Sync",value:"sync"},{label:"Async",value:"async"}],children:[(0,s.jsx)(a.A,{value:"sync",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-py",children:'context = browser.new_context(\n    record_video_dir="videos/",\n    record_video_size={"width": 640, "height": 480}\n)\n'})})}),(0,s.jsx)(a.A,{value:"async",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-py",children:'context = await browser.new_context(\n    record_video_dir="videos/",\n    record_video_size={"width": 640, "height": 480}\n)\n'})})})]}),"\n",(0,s.jsxs)(o.p,{children:["Saved video files will appear in the specified folder. They all have generated unique names. For the multi-page scenarios, you can access the video file associated with the page via the ",(0,s.jsx)(o.a,{href:"/python/docs/next/api/class-page#page-video",children:"page.video"}),"."]}),"\n",(0,s.jsxs)(i.A,{groupId:"python-flavor",defaultValue:"sync",values:[{label:"Sync",value:"sync"},{label:"Async",value:"async"}],children:[(0,s.jsx)(a.A,{value:"sync",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-py",children:"path = page.video.path()\n"})})}),(0,s.jsx)(a.A,{value:"async",children:(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-py",children:"path = await page.video.path()\n"})})})]}),"\n",(0,s.jsx)(o.admonition,{type:"note",children:(0,s.jsx)(o.p,{children:"Note that the video is only available after the page or browser context is closed."})})]})}function p(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(v,{...e})}):v(e)}}}]);