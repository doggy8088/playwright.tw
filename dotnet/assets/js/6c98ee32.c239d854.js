"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[6108],{7849:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>l,toc:()=>d});var t=r(4848),s=r(8453);r(4235),r(8328),r(3078);const a={id:"library",title:"\u958b\u59cb\u4f7f\u7528 - \u51fd\u5f0f\u5eab"},i=void 0,l={id:"library",title:"\u958b\u59cb\u4f7f\u7528 - \u51fd\u5f0f\u5eab",description:"\u7c21\u4ecb",source:"@site/versioned_docs/version-stable/library.mdx",sourceDirName:".",slug:"/library",permalink:"/dotnet/docs/library",draft:!1,unlisted:!1,tags:[],version:"stable",frontMatter:{id:"library",title:"\u958b\u59cb\u4f7f\u7528 - \u51fd\u5f0f\u5eab"},sidebar:"docs",previous:{title:"\u6e2c\u8a66\u57f7\u884c\u5668",permalink:"/dotnet/docs/test-runners"},next:{title:"\u767c\u884c\u8aaa\u660e",permalink:"/dotnet/docs/release-notes"}},o={},d=[{value:"\u7c21\u4ecb",id:"\u7c21\u4ecb",level:2},{value:"\u4f7f\u7528\u65b9\u5f0f",id:"\u4f7f\u7528\u65b9\u5f0f",level:2},{value:"\u4f7f\u7528 Assertions",id:"\u4f7f\u7528-assertions",level:2},{value:"\u70ba\u4e0d\u540c\u5e73\u53f0\u6346\u7d81\u9a45\u52d5\u7a0b\u5f0f",id:"\u70ba\u4e0d\u540c\u5e73\u53f0\u6346\u7d81\u9a45\u52d5\u7a0b\u5f0f",level:2}];function c(e){const n={a:"a",code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h2,{id:"\u7c21\u4ecb",children:"\u7c21\u4ecb"}),"\n",(0,t.jsxs)(n.p,{children:["Playwright \u53ef\u4ee5\u8207 ",(0,t.jsx)(n.a,{href:"/dotnet/docs/test-runners#mstest",children:"MSTest"})," \u6216 ",(0,t.jsx)(n.a,{href:"/dotnet/docs/test-runners#nunit",children:"NUnit"})," \u4e00\u8d77\u4f7f\u7528\uff0c\u6216\u4f5c\u70ba Playwright \u51fd\u5f0f\u5eab\uff08\u672c\u6307\u5357\uff09\u3002\u5982\u679c\u60a8\u6b63\u5728\u958b\u767c\u5229\u7528 Playwright \u529f\u80fd\u7684\u61c9\u7528\u7a0b\u5f0f\u6216\u5c07 Playwright \u8207\u5176\u4ed6\u6e2c\u8a66\u57f7\u884c\u5668\u4e00\u8d77\u4f7f\u7528\uff0c\u8acb\u7e7c\u7e8c\u95b1\u8b80\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"\u4f7f\u7528\u65b9\u5f0f",children:"\u4f7f\u7528\u65b9\u5f0f"}),"\n",(0,t.jsx)(n.p,{children:"\u5efa\u7acb\u4e00\u500b\u4e3b\u63a7\u53f0\u5c08\u6848\u4e26\u65b0\u589e Playwright \u76f8\u4f9d\u5957\u4ef6\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"# Create project\ndotnet new console -n PlaywrightDemo\ncd PlaywrightDemo\n\n# Add project dependency\ndotnet add package Microsoft.Playwright\n# Build the project\ndotnet build\n# Install required browsers - replace netX with actual output folder name, e.g. net8.0.\npwsh bin/Debug/netX/playwright.ps1 install\n\n# If the pwsh command does not work (throws TypeNotFound), make sure to use an up-to-date version of PowerShell.\ndotnet tool update --global PowerShell\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5efa\u7acb\u4e00\u500b ",(0,t.jsx)(n.code,{children:"Program.cs"}),"\uff0c\u5c07\u5c0e\u822a\u5230 ",(0,t.jsx)(n.code,{children:"https://playwright.dev/dotnet"})," \u4e26\u5728 Chromium \u4e2d\u622a\u5716\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'using Microsoft.Playwright;\n\nusing var playwright = await Playwright.CreateAsync();\nawait using var browser = await playwright.Chromium.LaunchAsync();\nvar page = await browser.NewPageAsync();\nawait page.GotoAsync("https://playwright.dev/dotnet");\nawait page.ScreenshotAsync(new()\n{\n    Path = "screenshot.png"\n});\n'})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"dotnet run\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cPlaywright \u4ee5\u7121\u982d\u6a21\u5f0f\u57f7\u884c\u700f\u89bd\u5668\u3002\u8981\u67e5\u770b\u700f\u89bd\u5668 UI\uff0c\u555f\u52d5\u700f\u89bd\u5668\u6642\u50b3\u905e ",(0,t.jsx)(n.code,{children:"Headless = false"})," \u65d7\u6a19\u3002\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"slowMo"})," \u4f86\u6e1b\u6162\u57f7\u884c\u901f\u5ea6\u3002\u4e86\u89e3\u66f4\u591a\u5728\u5075\u932f\u5de5\u5177",(0,t.jsx)(n.a,{href:"/dotnet/docs/debug",children:"\u90e8\u5206"}),"\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:"await using var browser = await playwright.Firefox.LaunchAsync(new()\n{\n    Headless = false,\n    SlowMo = 50,\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u4f7f\u7528-assertions",children:"\u4f7f\u7528 Assertions"}),"\n",(0,t.jsx)(n.p,{children:"\u4f60\u53ef\u4ee5\u57f7\u884c\u4ee5\u4e0b\u64cd\u4f5c\u4f86\u5229\u7528 Playwright \u7684 web-first \u65b7\u8a00\uff0c\u7576\u4f60\u4f7f\u7528\u81ea\u5df1\u7684\u6e2c\u8a66\u6846\u67b6\u6642\u3002\u9019\u4e9b\u5c07\u81ea\u52d5\u91cd\u8a66\u76f4\u5230\u689d\u4ef6\u6eff\u8db3\uff0c\u4f8b\u5982\u4e00\u500b\u5143\u7d20\u6709\u7279\u5b9a\u7684\u6587\u672c\u6216\u9054\u5230\u8d85\u6642\u6642\u9593:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",children:'using Microsoft.Playwright;\nusing static Microsoft.Playwright.Assertions;\n\n// Change the default 5 seconds timeout if you\'d like.\nSetDefaultExpectTimeout(10_000);\n\nusing var playwright = await Playwright.CreateAsync();\nawait using var browser = await playwright.Chromium.LaunchAsync();\nvar page = await browser.NewPageAsync();\nawait page.GotoAsync("https://playwright.dev/dotnet");\nawait Expect(page.GetByRole(AriaRole.Link, new() { Name = "Get started" })).ToBeVisibleAsync();\n'})}),"\n",(0,t.jsx)(n.h2,{id:"\u70ba\u4e0d\u540c\u5e73\u53f0\u6346\u7d81\u9a45\u52d5\u7a0b\u5f0f",children:"\u70ba\u4e0d\u540c\u5e73\u53f0\u6346\u7d81\u9a45\u52d5\u7a0b\u5f0f"}),"\n",(0,t.jsxs)(n.p,{children:["Playwright \u9810\u8a2d\u50c5\u5305\u542b .NET \u767c\u4f48\u76ee\u6a19\u57f7\u884c\u968e\u6bb5\u7684\u9a45\u52d5\u7a0b\u5f0f\u3002\u5982\u679c\u60a8\u60f3\u8981\u70ba\u5176\u4ed6\u5e73\u53f0\u5305\u542b\uff0c\u60a8\u53ef\u4ee5\u5728\u60a8\u7684\u5c08\u6848\u6a94\u4e2d\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"all"}),"\u3001",(0,t.jsx)(n.code,{children:"none"})," \u6216 ",(0,t.jsx)(n.code,{children:"linux"}),"\u3001",(0,t.jsx)(n.code,{children:"win"}),"\u3001",(0,t.jsx)(n.code,{children:"osx"})," \u4f86\u8986\u84cb\u6b64\u884c\u70ba\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<PropertyGroup>\n  <PlaywrightPlatform>all</PlaywrightPlatform>\n</PropertyGroup>\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u6216\u8005\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",children:"<PropertyGroup>\n  <PlaywrightPlatform>osx;linux</PlaywrightPlatform>\n</PropertyGroup>\n"})})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}}}]);