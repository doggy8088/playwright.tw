"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[3708],{2326:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>o});var i=s(4848),r=s(8453);s(4235),s(8328),s(3078);const t={id:"ci",title:"\u6301\u7e8c\u6574\u5408"},l=void 0,a={id:"ci",title:"\u6301\u7e8c\u6574\u5408",description:"\u7c21\u4ecb",source:"@site/versioned_docs/version-stable/ci.mdx",sourceDirName:".",slug:"/ci",permalink:"/java/docs/ci",draft:!1,unlisted:!1,tags:[],version:"stable",frontMatter:{id:"ci",title:"\u6301\u7e8c\u6574\u5408"},sidebar:"docs",previous:{title:"Docker",permalink:"/java/docs/docker"},next:{title:"Selenium Grid (\u5be6\u9a57\u6027)",permalink:"/java/docs/selenium-grid"}},c={},o=[{value:"\u7c21\u4ecb",id:"\u7c21\u4ecb",level:2},{value:"CI configurations",id:"ci-configurations",level:2},{value:"GitHub Actions",id:"github-actions",level:3},{value:"\u5728 push/pull_request",id:"\u5728-pushpull_request",level:4},{value:"\u901a\u904e\u5bb9\u5668",id:"\u901a\u904e\u5bb9\u5668",level:4},{value:"\u90e8\u7f72",id:"\u90e8\u7f72",level:4},{value:"Docker",id:"docker",level:3},{value:"Azure Pipelines",id:"azure-pipelines",level:3},{value:"Azure Pipelines (containerized)",id:"azure-pipelines-containerized",level:4},{value:"CircleCI",id:"circleci",level:3},{value:"Jenkins",id:"jenkins",level:3},{value:"Bitbucket Pipelines",id:"bitbucket-pipelines",level:3},{value:"GitLab CI",id:"gitlab-ci",level:3},{value:"\u5feb\u53d6\u700f\u89bd\u5668",id:"\u5feb\u53d6\u700f\u89bd\u5668",level:2},{value:"\u5075\u932f\u700f\u89bd\u5668\u555f\u52d5",id:"\u5075\u932f\u700f\u89bd\u5668\u555f\u52d5",level:2},{value:"\u57f7\u884c\u6709\u982d\u700f\u89bd\u5668 (Running headed)",id:"\u57f7\u884c\u6709\u982d\u700f\u89bd\u5668-running-headed",level:2}];function d(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h2,{id:"\u7c21\u4ecb",children:"\u7c21\u4ecb"}),"\n",(0,i.jsx)(n.p,{children:"Playwright \u6e2c\u8a66\u53ef\u4ee5\u5728 CI \u74b0\u5883\u4e2d\u57f7\u884c\u3002\u6211\u5011\u5df2\u7d93\u70ba\u5e38\u898b\u7684 CI \u63d0\u4f9b\u8005\u5efa\u7acb\u4e86\u7bc4\u4f8b\u914d\u7f6e\u3002"}),"\n",(0,i.jsx)(n.p,{children:"3 \u6b65\u9a5f\u8b93\u4f60\u7684\u6e2c\u8a66\u5728 CI \u4e0a\u57f7\u884c:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u78ba\u4fdd CI \u4ee3\u7406\u53ef\u4ee5\u57f7\u884c\u700f\u89bd\u5668"}),": \u5728 Linux \u4ee3\u7406\u4e2d\u4f7f\u7528",(0,i.jsx)(n.a,{href:"/java/docs/docker",children:"\u6211\u5011\u7684 Docker \u6620\u50cf"}),"\u6216\u4f7f\u7528",(0,i.jsx)(n.a,{href:"./browsers#install-system-dependencies",children:"CLI"}),"\u5b89\u88dd\u60a8\u7684\u76f8\u4f9d\u5957\u4ef6\u3002"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u5b89\u88dd Playwright"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'mvn exec:java -e -D exec.mainClass=com.microsoft.playwright.CLI -D exec.args="install --with-deps"\n'})}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"\u57f7\u884c\u60a8\u7684\u6e2c\u8a66"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"mvn test\n"})}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"ci-configurations",children:"CI configurations"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"./browsers#install-system-dependencies",children:"\u547d\u4ee4\u5217\u5de5\u5177"})," \u53ef\u4ee5\u7528\u4f86\u5728 CI \u4e2d\u5b89\u88dd\u6240\u6709\u4f5c\u696d\u7cfb\u7d71\u76f8\u4f9d\u5957\u4ef6\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"github-actions",children:"GitHub Actions"}),"\n",(0,i.jsx)(n.h4,{id:"\u5728-pushpull_request",children:"\u5728 push/pull_request"}),"\n",(0,i.jsxs)(n.p,{children:["\u6e2c\u8a66\u5c07\u5728 push \u6216 pull request \u5230 main/master \u5206\u652f\u6642\u57f7\u884c\u3002 ",(0,i.jsx)(n.a,{href:"https://docs.github.com/en/actions/using-workflows/about-workflows",children:"\u5de5\u4f5c\u6d41\u7a0b"})," \u6703\u5b89\u88dd\u6240\u6709\u76f8\u4f9d\u5957\u4ef6\uff0c\u5b89\u88dd Playwright\uff0c\u7136\u5f8c\u57f7\u884c\u6e2c\u8a66\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",metastring:'title=".github/workflows/playwright.yml"',children:"name: Playwright Tests\non:\n  push:\n    branches: [ main, master ]\n  pull_request:\n    branches: [ main, master ]\njobs:\n  test:\n    timeout-minutes: 60\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v4\n    - uses: actions/setup-java@v3\n      with:\n        distribution: 'temurin'\n        java-version: '17'\n    - name: Build & Install\n      run: mvn -B install -D skipTests --no-transfer-progress\n    - name: Ensure browsers are installed\n      run: mvn exec:java -e -D exec.mainClass=com.microsoft.playwright.CLI -D exec.args=\"install --with-deps\"\n    - name: Run tests\n      run: mvn test\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u901a\u904e\u5bb9\u5668",children:"\u901a\u904e\u5bb9\u5668"}),"\n",(0,i.jsxs)(n.p,{children:["GitHub Actions \u652f\u63f4",(0,i.jsx)(n.a,{href:"https://docs.github.com/en/actions/using-jobs/running-jobs-in-a-container",children:"\u5728\u5bb9\u5668\u4e2d\u57f7\u884c\u4f5c\u696d"}),"\uff0c\u4f7f\u7528",(0,i.jsx)(n.a,{href:"https://docs.github.com/en/actions/using-workflows/workflow-syntax-for-github-actions#jobsjob_idcontainer",children:(0,i.jsx)(n.code,{children:"jobs.<job_id>.container"})}),"\u9078\u9805\u3002\u9019\u5c0d\u65bc\u4e0d\u6c61\u67d3\u4e3b\u6a5f\u74b0\u5883\u8207\u76f8\u4f9d\u5957\u4ef6\u4e26\u5728\u4e0d\u540c\u4f5c\u696d\u7cfb\u7d71\u4e2d\u9032\u884c\u4e00\u81f4\u7684\u74b0\u5883\uff0c\u4f8b\u5982\u622a\u5716/\u8996\u89ba\u56de\u6b78\u6e2c\u8a66\uff0c\u975e\u5e38\u6709\u7528\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",metastring:'title=".github/workflows/playwright.yml"',children:"name: Playwright Tests\non:\n  push:\n    branches: [ main, master ]\n  pull_request:\n    branches: [ main, master ]\njobs:\n  playwright:\n    name: 'Playwright Tests'\n    runs-on: ubuntu-latest\n    container:\n      image: mcr.microsoft.com/playwright/java:v1.46.0-jammy\n    steps:\n      - uses: actions/checkout@v4\n      - uses: actions/setup-java@v3\n        with:\n          distribution: 'temurin'\n          java-version: '17'\n      - name: Build & Install\n        run: mvn -B install -D skipTests --no-transfer-progress\n      - name: Run tests\n        run: mvn test\n        env:\n          HOME: /root\n"})}),"\n",(0,i.jsx)(n.h4,{id:"\u90e8\u7f72",children:"\u90e8\u7f72"}),"\n",(0,i.jsxs)(n.p,{children:["\u9019\u5c07\u5728 ",(0,i.jsx)(n.a,{href:"https://developer.github.com/v3/repos/deployments/",children:"GitHub Deployment"})," \u9032\u5165 ",(0,i.jsx)(n.code,{children:"success"})," \u72c0\u614b\u5f8c\u958b\u59cb\u6e2c\u8a66\u3002\u50cf Vercel \u9019\u6a23\u7684\u670d\u52d9\u4f7f\u7528\u9019\u7a2e\u6a21\u5f0f\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u5728\u4ed6\u5011\u90e8\u7f72\u7684\u74b0\u5883\u4e2d\u57f7\u884c\u7aef\u5230\u7aef\u6e2c\u8a66\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",metastring:'title=".github/workflows/playwright.yml"',children:"name: Playwright Tests\non:\n  deployment_status:\njobs:\n  test:\n    timeout-minutes: 60\n    runs-on: ubuntu-latest\n    if: github.event.deployment_status.state == 'success'\n    steps:\n    - uses: actions/checkout@v4\n    - uses: actions/setup-java@v3\n      with:\n        distribution: 'temurin'\n        java-version: '17'\n    - name: Build & Install\n      run: mvn -B install -D skipTests --no-transfer-progress\n    - name: Install Playwright\n      run: mvn exec:java -e -D exec.mainClass=com.microsoft.playwright.CLI -D exec.args=\"install --with-deps\"\n    - name: Run tests\n      run: mvn test\n      env:\n        # This might depend on your test-runner\n        PLAYWRIGHT_TEST_BASE_URL: ${{ github.event.deployment_status.target_url }}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"docker",children:"Docker"}),"\n",(0,i.jsxs)(n.p,{children:["\u6211\u5011\u6709\u4e00\u500b",(0,i.jsx)(n.a,{href:"/java/docs/docker",children:"\u9810\u5efa\u7684 Docker \u6620\u50cf"}),"\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff0c\u6216\u4f5c\u70ba\u66f4\u65b0\u73fe\u6709 Docker \u5b9a\u7fa9\u7684\u53c3\u8003\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u5efa\u8b70\u7684\u8a2d\u5b9a"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u7576\u4f7f\u7528 Chromium \u6642\uff0c\u4e5f\u5efa\u8b70\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"--ipc=host"}),"\u3002\u5426\u5247 Chromium \u53ef\u80fd\u6703\u8017\u76e1\u8a18\u61b6\u9ad4\u4e26\u5d29\u6f70\u3002\u4e86\u89e3\u66f4\u591a\u95dc\u65bc\u6b64\u9078\u9805\u7684\u8cc7\u8a0a\u5728 ",(0,i.jsx)(n.a,{href:"https://docs.docker.com/engine/reference/run/#ipc-settings---ipc",children:"Docker docs"}),"\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u555f\u52d5 Chromium \u6642\u770b\u5230\u5176\u4ed6\u5947\u602a\u7684\u932f\u8aa4\uff1f\u5617\u8a66\u5728\u672c\u5730\u958b\u767c\u6642\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"docker run --cap-add=SYS_ADMIN"})," \u57f7\u884c\u5bb9\u5668\u3002"]}),"\n",(0,i.jsxs)(n.li,{children:["\u5efa\u8b70\u4f7f\u7528 ",(0,i.jsx)(n.code,{children:"--init"})," Docker \u65d7\u6a19\u6216 ",(0,i.jsx)(n.a,{href:"https://github.com/Yelp/dumb-init",children:"dumb-init"})," \u4f86\u907f\u514d\u5c0d PID=1 \u7684\u7a0b\u5e8f\u9032\u884c\u7279\u6b8a\u8655\u7406\u3002\u9019\u662f\u6bad\u5c4d\u7a0b\u5e8f\u7684\u4e00\u500b\u5e38\u898b\u539f\u56e0\u3002"]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"azure-pipelines",children:"Azure Pipelines"}),"\n",(0,i.jsx)(n.p,{children:"\u5c0d\u65bc Windows \u6216 macOS \u4ee3\u7406\uff0c\u4e0d\u9700\u8981\u984d\u5916\u7684\u914d\u7f6e\uff0c\u53ea\u9700\u5b89\u88dd Playwright \u4e26\u57f7\u884c\u60a8\u7684\u6e2c\u8a66\u3002"}),"\n",(0,i.jsxs)(n.p,{children:["\u5c0d\u65bc Linux \u4ee3\u7406\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528",(0,i.jsx)(n.a,{href:"/java/docs/docker",children:"\u6211\u5011\u7684 Docker \u5bb9\u5668"}),"\u8207 Azure Pipelines \u652f\u63f4",(0,i.jsx)(n.a,{href:"https://docs.microsoft.com/en-us/azure/devops/pipelines/process/container-phases?view=azure-devops",children:"\u57f7\u884c\u5bb9\u5668\u5316\u7684\u4f5c\u696d"}),"\u3002\u6216\u8005\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528",(0,i.jsx)(n.a,{href:"./browsers#install-system-dependencies",children:"\u547d\u4ee4\u5217\u5de5\u5177"}),"\u4f86\u5b89\u88dd\u6240\u6709\u5fc5\u8981\u7684\u76f8\u4f9d\u5957\u4ef6\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u8981\u57f7\u884c Playwright \u6e2c\u8a66\uff0c\u8acb\u4f7f\u7528\u6b64\u7ba1\u9053\u4efb\u52d9:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",children:"trigger:\n- main\n\npool:\n  vmImage: ubuntu-latest\n\nsteps:\n- task: JavaToolInstaller@0\n  inputs:\n    versionSpec: '17'\n    jdkArchitectureOption: 'x64'\n    jdkSourceOption: AzureStorage\n- script: mvn -B install -D skipTests --no-transfer-progress\n  displayName: 'Build and install'\n- script: mvn exec:java -e -D exec.mainClass=com.microsoft.playwright.CLI -D exec.args=\"install --with-deps\"\n  displayName: 'Install Playwright browsers'\n- script: mvn test\n  displayName: 'Run tests'\n"})}),"\n",(0,i.jsx)(n.h4,{id:"azure-pipelines-containerized",children:"Azure Pipelines (containerized)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",children:"trigger:\n- main\n\npool:\n  vmImage: ubuntu-latest\ncontainer: mcr.microsoft.com/playwright/java:v1.46.0-noble\n\nsteps:\n- task: JavaToolInstaller@0\n  inputs:\n    versionSpec: '17'\n    jdkArchitectureOption: 'x64'\n    jdkSourceOption: AzureStorage\n\n- script: mvn -B install -D skipTests --no-transfer-progress\n  displayName: 'Build and install'\n- script: mvn test\n  displayName: 'Run tests'\n"})}),"\n",(0,i.jsx)(n.h3,{id:"circleci",children:"CircleCI"}),"\n",(0,i.jsxs)(n.p,{children:["\u57f7\u884c Playwright \u5728 CircleCI \u4e0a\u8207\u5728 GitHub Actions \u4e0a\u975e\u5e38\u76f8\u4f3c\u3002\u70ba\u4e86\u6307\u5b9a\u9810\u5efa\u7684 Playwright ",(0,i.jsx)(n.a,{href:"/java/docs/docker",children:"Docker image"}),"\uff0c\u53ea\u9700\u5728\u4f60\u7684\u914d\u7f6e\u4e2d\u7528 ",(0,i.jsx)(n.code,{children:"docker:"})," \u4fee\u6539\u4ee3\u7406\u5b9a\u7fa9\uff0c\u5982\u4e0b\u6240\u793a:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",children:"executors:\n  pw-jammy-development:\n    docker:\n      - image: mcr.microsoft.com/playwright/java:v1.46.0-noble\n"})}),"\n",(0,i.jsxs)(n.p,{children:["\u6ce8\u610f: \u7576\u4f7f\u7528 docker \u4ee3\u7406\u5b9a\u7fa9\u6642\uff0c\u4f60\u6b63\u5728\u5c07 Playwright \u57f7\u884c\u7684\u8cc7\u6e90\u985e\u5225\u6307\u5b9a\u70ba 'medium' \u7d1a\u5225 ",(0,i.jsx)(n.a,{href:"https://circleci.com/docs/configuration-reference?#docker-execution-environment",children:"\u6b64\u8655"}),"\u3002Playwright \u7684\u9810\u8a2d\u884c\u70ba\u662f\u5c07\u5de5\u4f5c\u8005\u6578\u91cf\u8a2d\u7f6e\u70ba\u6aa2\u6e2c\u5230\u7684\u6838\u5fc3\u6578\u91cf\uff08\u5728 medium \u7d1a\u5225\u7684\u60c5\u6cc1\u4e0b\u70ba 2\uff09\u3002\u5c07\u5de5\u4f5c\u8005\u6578\u91cf\u8986\u84cb\u8a2d\u5b9a\u70ba\u5927\u65bc\u9019\u500b\u6578\u5b57\u5c07\u5c0e\u81f4\u4e0d\u5fc5\u8981\u7684\u8d85\u6642\u548c\u5931\u6557\u3002"]}),"\n",(0,i.jsx)(n.h3,{id:"jenkins",children:"Jenkins"}),"\n",(0,i.jsxs)(n.p,{children:["Jenkins \u652f\u63f4 Docker \u4ee3\u7406\u7528\u65bc\u7ba1\u7dda\u3002\u4f7f\u7528 ",(0,i.jsx)(n.a,{href:"/java/docs/docker",children:"Playwright Docker \u6620\u50cf"})," \u5728 Jenkins \u4e0a\u57f7\u884c\u6e2c\u8a66\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-groovy",children:"pipeline {\n   agent { docker { image 'mcr.microsoft.com/playwright/java:v1.46.0-noble' } }\n   stages {\n      stage('e2e-tests') {\n         steps {\n            sh 'mvn -B install -D skipTests --no-transfer-progress'\n            sh 'mvn test'\n         }\n      }\n   }\n}\n"})}),"\n",(0,i.jsx)(n.h3,{id:"bitbucket-pipelines",children:"Bitbucket Pipelines"}),"\n",(0,i.jsxs)(n.p,{children:["Bitbucket Pipelines \u53ef\u4ee5\u4f7f\u7528\u516c\u5171 ",(0,i.jsx)(n.a,{href:"https://confluence.atlassian.com/bitbucket/use-docker-images-as-build-environments-792298897.html",children:"Docker images as build environments"}),"\u3002\u8981\u5728 Bitbucket \u4e0a\u57f7\u884c Playwright \u6e2c\u8a66\uff0c\u8acb\u4f7f\u7528\u6211\u5011\u7684\u516c\u5171 Docker image (",(0,i.jsx)(n.a,{href:"/java/docs/docker",children:"see Dockerfile"}),")\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",children:"image: mcr.microsoft.com/playwright/java:v1.46.0-noble\n"})}),"\n",(0,i.jsx)(n.h3,{id:"gitlab-ci",children:"GitLab CI"}),"\n",(0,i.jsxs)(n.p,{children:["\u8981\u5728 GitLab \u4e0a\u57f7\u884c Playwright \u6e2c\u8a66\uff0c\u8acb\u4f7f\u7528\u6211\u5011\u7684\u516c\u5171 Docker \u6620\u50cf(",(0,i.jsx)(n.a,{href:"/java/docs/docker",children:"see Dockerfile"}),")\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yml",children:"stages:\n  - test\n\ntests:\n  stage: test\n  image: mcr.microsoft.com/playwright/java:v1.46.0-noble\n  script:\n  ...\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u5feb\u53d6\u700f\u89bd\u5668",children:"\u5feb\u53d6\u700f\u89bd\u5668"}),"\n",(0,i.jsxs)(n.p,{children:["\u5feb\u53d6\u700f\u89bd\u5668\u4e8c\u9032\u4f4d\u6a94\u6848\u4e26\u4e0d\u5efa\u8b70\uff0c\u56e0\u70ba\u9084\u539f\u5feb\u53d6\u6240\u9700\u7684\u6642\u9593\u8207\u4e0b\u8f09\u4e8c\u9032\u4f4d\u6a94\u6848\u6240\u9700\u7684\u6642\u9593\u76f8\u7576\u3002\u7279\u5225\u662f\u5728 Linux \u4e0b\uff0c\u9700\u8981\u5b89\u88dd",(0,i.jsx)(n.a,{href:"/java/docs/browsers#install-system-dependencies",children:"\u4f5c\u696d\u7cfb\u7d71\u76f8\u4f9d\u5957\u4ef6"}),"\uff0c\u9019\u4e9b\u662f\u7121\u6cd5\u5feb\u53d6\u7684\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u4ecd\u7136\u60f3\u5728 CI \u57f7\u884c\u4e4b\u9593\u5feb\u53d6\u700f\u89bd\u5668\u4e8c\u9032\u4f4d\u6a94\uff0c\u8acb\u5728\u4f60\u7684 CI \u8a2d\u5b9a\u4e2d\uff0c\u6839\u64da Playwright \u7248\u672c\u7684\u96dc\u6e4a\u503c\u5feb\u53d6",(0,i.jsx)(n.a,{href:"/java/docs/browsers#managing-browser-binaries",children:"\u9019\u4e9b\u76ee\u9304"}),"\u3002"]}),"\n",(0,i.jsx)(n.h2,{id:"\u5075\u932f\u700f\u89bd\u5668\u555f\u52d5",children:"\u5075\u932f\u700f\u89bd\u5668\u555f\u52d5"}),"\n",(0,i.jsxs)(n.p,{children:["Playwright \u652f\u63f4 ",(0,i.jsx)(n.code,{children:"DEBUG"})," \u74b0\u5883\u8b8a\u6578\u4f86\u5728\u57f7\u884c\u671f\u9593\u8f38\u51fa\u9664\u932f\u65e5\u8a8c\u3002\u5c07\u5176\u8a2d\u7f6e\u70ba ",(0,i.jsx)(n.code,{children:"pw:browser"})," \u5728\u9664\u932f ",(0,i.jsx)(n.code,{children:"Error: Failed to launch browser"})," \u932f\u8aa4\u6642\u975e\u5e38\u6709\u5e6b\u52a9\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"DEBUG=pw:browser mvn test\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\u57f7\u884c\u6709\u982d\u700f\u89bd\u5668-running-headed",children:"\u57f7\u884c\u6709\u982d\u700f\u89bd\u5668 (Running headed)"}),"\n",(0,i.jsxs)(n.p,{children:["\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cPlaywright \u6703\u5728\u7121\u982d\u6a21\u5f0f\u4e0b\u555f\u52d5\u700f\u89bd\u5668\u3002\u8acb\u53c3\u95b1\u6211\u5011\u7684",(0,i.jsx)(n.a,{href:"/java/docs/running-tests#run-tests-in-headed-mode",children:"\u57f7\u884c\u6e2c\u8a66"}),"\u6307\u5357\uff0c\u4e86\u89e3\u5982\u4f55\u5728\u6709\u982d\u6a21\u5f0f\u4e0b\u57f7\u884c\u6e2c\u8a66\u3002"]}),"\n",(0,i.jsxs)(n.p,{children:["\u5728 Linux \u4ee3\u7406\u4e0a\uff0c\u5e36\u982d\u57f7\u884c\u9700\u8981\u5b89\u88dd ",(0,i.jsx)(n.a,{href:"https://en.wikipedia.org/wiki/Xvfb",children:"Xvfb"}),"\u3002\u6211\u5011\u7684 ",(0,i.jsx)(n.a,{href:"/java/docs/docker",children:"Docker image"})," \u548c GitHub Action \u5df2\u7d93\u9810\u5148\u5b89\u88dd\u4e86 Xvfb\u3002\u8981\u5728\u5e36\u982d\u6a21\u5f0f\u4e0b\u4f7f\u7528 Xvfb \u57f7\u884c\u700f\u89bd\u5668\uff0c\u8acb\u5728\u5be6\u969b\u547d\u4ee4\u524d\u6dfb\u52a0 ",(0,i.jsx)(n.code,{children:"xvfb-run"}),"\u3002"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"xvfb-run mvn test\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}}}]);