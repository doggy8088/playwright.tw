"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[8815],{5996:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>t,metadata:()=>c,toc:()=>d});var o=n(4848),i=n(8453);n(4235),n(8328),n(3078);const t={id:"class-cdpsession",title:"CDPSession"},a=void 0,c={id:"api/class-cdpsession",title:"CDPSession",description:"The CDPSession instances are used to talk raw Chrome Devtools Protocol:",source:"@site/docs/api/class-cdpsession.mdx",sourceDirName:"api",slug:"/api/class-cdpsession",permalink:"/java/docs/next/api/class-cdpsession",draft:!1,unlisted:!1,tags:[],version:"current",frontMatter:{id:"class-cdpsession",title:"CDPSession"},sidebar:"api",previous:{title:"BrowserType",permalink:"/java/docs/next/api/class-browsertype"},next:{title:"Clock",permalink:"/java/docs/next/api/class-clock"}},l={},d=[{value:"Methods",id:"methods",level:2},{value:"detach",id:"cdp-session-detach",level:3},{value:"off",id:"cdp-session-off",level:3},{value:"on",id:"cdp-session-on",level:3},{value:"send",id:"cdp-session-send",level:3}];function r(e){const s={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.p,{children:["The ",(0,o.jsx)(s.code,{children:"CDPSession"})," instances are used to talk raw Chrome Devtools Protocol:"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["protocol methods can be called with ",(0,o.jsx)(s.code,{children:"session.send"})," method."]}),"\n",(0,o.jsxs)(s.li,{children:["protocol events can be subscribed to with ",(0,o.jsx)(s.code,{children:"session.on"})," method."]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:"Useful links:"}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["Documentation on DevTools Protocol can be found here: ",(0,o.jsx)(s.a,{href:"https://chromedevtools.github.io/devtools-protocol/",children:"DevTools Protocol Viewer"}),"."]}),"\n",(0,o.jsxs)(s.li,{children:["Getting Started with DevTools Protocol: ",(0,o.jsx)(s.a,{href:"https://github.com/aslushnikov/getting-started-with-cdp/blob/master/README.md",children:"https://github.com/aslushnikov/getting-started-with-cdp/blob/master/README.md"})]}),"\n"]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-java",children:'CDPSession client = page.context().newCDPSession(page);\nclient.send("Runtime.enable");\n\nclient.on("Animation.animationCreated", (event) -> System.out.println("Animation created!"));\n\nJsonObject response = client.send("Animation.getPlaybackRate");\ndouble playbackRate = response.get("playbackRate").getAsDouble();\nSystem.out.println("playback rate is " + playbackRate);\n\nJsonObject params = new JsonObject();\nparams.addProperty("playbackRate", playbackRate / 2);\nclient.send("Animation.setPlaybackRate", params);\n'})}),"\n",(0,o.jsx)(s.hr,{}),"\n",(0,o.jsx)(s.h2,{id:"methods",children:"Methods"}),"\n",(0,o.jsx)(s.h3,{id:"cdp-session-detach",children:"detach"}),"\n",(0,o.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added before v1.9"}),"\n",(0,o.jsx)("x-search",{children:"cdpSession.detach"}),"\n",(0,o.jsx)(s.p,{children:"Detaches the CDPSession from the target. Once detached, the CDPSession object won't emit any events and can't be used to send messages."}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Usage"})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-java",children:"CDPSession.detach();\n"})}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Returns"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html",title:"void",children:"void"}),(0,o.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-detach-return"}),(0,o.jsx)("a",{href:"#cdp-session-detach-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,o.jsx)(s.hr,{}),"\n",(0,o.jsx)(s.h3,{id:"cdp-session-off",children:"off"}),"\n",(0,o.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.37"}),"\n",(0,o.jsx)("x-search",{children:"cdpSession.off"}),"\n",(0,o.jsx)(s.p,{children:"Unregister an event handler for events with the specified event name. The given handler will not be called anymore for events with the given name."}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Usage"})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-java",children:"CDPSession.off(eventName, handler);\n"})}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Arguments"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"eventName"})," ",(0,o.jsx)(s.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"}),(0,o.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-off-option-event-name"}),(0,o.jsx)("a",{href:"#cdp-session-off-option-event-name",class:"list-anchor",children:"#"})]}),"\n",(0,o.jsx)(s.p,{children:"CDP event name."}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"handler"})," ",(0,o.jsx)(s.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html",title:"Consumer",children:"Consumer"}),"<",(0,o.jsx)(s.a,{href:"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html",title:"JsonObject",children:"JsonObject"}),">",(0,o.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-off-option-handler"}),(0,o.jsx)("a",{href:"#cdp-session-off-option-handler",class:"list-anchor",children:"#"})]}),"\n",(0,o.jsx)(s.p,{children:"Event handler."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.hr,{}),"\n",(0,o.jsx)(s.h3,{id:"cdp-session-on",children:"on"}),"\n",(0,o.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.37"}),"\n",(0,o.jsx)("x-search",{children:"cdpSession.on"}),"\n",(0,o.jsx)(s.p,{children:"Register an event handler for events with the specified event name. The given handler will be called for every event with the given name."}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Usage"})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-java",children:"CDPSession.on(eventName, handler);\n"})}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Arguments"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"eventName"})," ",(0,o.jsx)(s.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"}),(0,o.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-on-option-event-name"}),(0,o.jsx)("a",{href:"#cdp-session-on-option-event-name",class:"list-anchor",children:"#"})]}),"\n",(0,o.jsx)(s.p,{children:"CDP event name."}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"handler"})," ",(0,o.jsx)(s.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/util/function/Consumer.html",title:"Consumer",children:"Consumer"}),"<",(0,o.jsx)(s.a,{href:"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html",title:"JsonObject",children:"JsonObject"}),">",(0,o.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-on-option-handler"}),(0,o.jsx)("a",{href:"#cdp-session-on-option-handler",class:"list-anchor",children:"#"})]}),"\n",(0,o.jsx)(s.p,{children:"Event handler."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.hr,{}),"\n",(0,o.jsx)(s.h3,{id:"cdp-session-send",children:"send"}),"\n",(0,o.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added before v1.9"}),"\n",(0,o.jsx)("x-search",{children:"cdpSession.send"}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Usage"})}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-java",children:"CDPSession.send(method);\nCDPSession.send(method, args);\n"})}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Arguments"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"method"})," ",(0,o.jsx)(s.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"}),(0,o.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-send-option-method"}),(0,o.jsx)("a",{href:"#cdp-session-send-option-method",class:"list-anchor",children:"#"})]}),"\n",(0,o.jsx)(s.p,{children:"Protocol method name."}),"\n"]}),"\n",(0,o.jsxs)(s.li,{children:["\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"args"})," ",(0,o.jsx)(s.a,{href:"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html",title:"JsonObject",children:"JsonObject"})," ",(0,o.jsx)(s.em,{children:"(optional)"})," ",(0,o.jsx)("font",{size:"2",children:"Added in: v1.37"}),(0,o.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-send-option-params"}),(0,o.jsx)("a",{href:"#cdp-session-send-option-params",class:"list-anchor",children:"#"})]}),"\n",(0,o.jsx)(s.p,{children:"Optional method parameters."}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(s.p,{children:(0,o.jsx)(s.strong,{children:"Returns"})}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.a,{href:"https://www.javadoc.io/doc/com.google.code.gson/gson/latest/com.google.gson/com/google/gson/JsonObject.html",title:"JsonObject",children:"JsonObject"}),(0,o.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"cdp-session-send-return"}),(0,o.jsx)("a",{href:"#cdp-session-send-return",class:"list-anchor",children:"#"})]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(r,{...e})}):r(e)}}}]);