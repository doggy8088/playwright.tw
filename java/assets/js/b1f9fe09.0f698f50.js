"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[7245],{436:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>c,toc:()=>o});var s=t(4848),a=t(8453);t(4235),t(8328),t(3078);const i={id:"class-tracing",title:"Tracing"},r=void 0,c={id:"api/class-tracing",title:"Tracing",description:"API for collecting and saving Playwright Traces. Playwright Traces can be opened in Trace Viewer after Playwright script runs.",source:"@site/versioned_docs/version-stable/api/class-tracing.mdx",sourceDirName:"api",slug:"/api/class-tracing",permalink:"/java/docs/api/class-tracing",draft:!1,unlisted:!1,tags:[],version:"stable",frontMatter:{id:"class-tracing",title:"Tracing"},sidebar:"api",previous:{title:"Touchscreen",permalink:"/java/docs/api/class-touchscreen"},next:{title:"Video",permalink:"/java/docs/api/class-video"}},l={},o=[{value:"Methods",id:"methods",level:2},{value:"start",id:"tracing-start",level:3},{value:"startChunk",id:"tracing-start-chunk",level:3},{value:"stop",id:"tracing-stop",level:3},{value:"stopChunk",id:"tracing-stop-chunk",level:3}];function h(n){const e={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:["API for collecting and saving Playwright Traces. Playwright Traces can be opened in ",(0,s.jsx)(e.a,{href:"/java/docs/trace-viewer",children:"Trace Viewer"})," after Playwright script runs."]}),"\n",(0,s.jsx)(e.p,{children:"Start recording a trace before performing actions. At the end, stop tracing and save it to a file."}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'Browser browser = chromium.launch();\nBrowserContext context = browser.newContext();\ncontext.tracing().start(new Tracing.StartOptions()\n  .setScreenshots(true)\n  .setSnapshots(true));\nPage page = context.newPage();\npage.navigate("https://playwright.dev");\ncontext.tracing().stop(new Tracing.StopOptions()\n  .setPath(Paths.get("trace.zip")));\n'})}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h2,{id:"methods",children:"Methods"}),"\n",(0,s.jsx)(e.h3,{id:"tracing-start",children:"start"}),"\n",(0,s.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.12"}),"\n",(0,s.jsx)("x-search",{children:"tracing.start"}),"\n",(0,s.jsx)(e.p,{children:"Start tracing."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Usage"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'context.tracing().start(new Tracing.StartOptions()\n  .setScreenshots(true)\n  .setSnapshots(true));\nPage page = context.newPage();\npage.navigate("https://playwright.dev");\ncontext.tracing().stop(new Tracing.StopOptions()\n  .setPath(Paths.get("trace.zip")));\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"options"})," ",(0,s.jsx)(e.code,{children:"Tracing.StartOptions"})," ",(0,s.jsx)(e.em,{children:"(optional)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"setName"})," ",(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"})," ",(0,s.jsx)(e.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-name"}),(0,s.jsx)("a",{href:"#tracing-start-option-name",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsxs)(e.p,{children:["If specified, intermediate trace files are going to be saved into the files with the given name prefix inside the ",(0,s.jsx)(e.code,{children:"tracesDir"})," folder specified in ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-browsertype#browser-type-launch",children:"BrowserType.launch()"}),". To specify the final trace zip file name, you need to pass ",(0,s.jsx)(e.code,{children:"path"})," option to ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-tracing#tracing-stop",children:"Tracing.stop()"})," instead."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"setScreenshots"})," ",(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html",title:"boolean",children:"boolean"})," ",(0,s.jsx)(e.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-screenshots"}),(0,s.jsx)("a",{href:"#tracing-start-option-screenshots",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"Whether to capture screenshots during tracing. Screenshots are used to build a timeline preview."}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"setSnapshots"})," ",(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html",title:"boolean",children:"boolean"})," ",(0,s.jsx)(e.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-snapshots"}),(0,s.jsx)("a",{href:"#tracing-start-option-snapshots",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"If this option is true tracing will"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"capture DOM snapshot on every action"}),"\n",(0,s.jsx)(e.li,{children:"record network activity"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"setSources"})," ",(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html",title:"boolean",children:"boolean"})," ",(0,s.jsx)(e.em,{children:"(optional)"})," ",(0,s.jsx)("font",{size:"2",children:"Added in: v1.17"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-sources"}),(0,s.jsx)("a",{href:"#tracing-start-option-sources",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsxs)(e.p,{children:["Whether to include source files for trace actions. List of the directories with source code for the application must be provided via ",(0,s.jsx)(e.code,{children:"PLAYWRIGHT_JAVA_SRC"})," environment variable (the paths should be separated by ';' on Windows and by ':' on other platforms)."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"setTitle"})," ",(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"})," ",(0,s.jsx)(e.em,{children:"(optional)"})," ",(0,s.jsx)("font",{size:"2",children:"Added in: v1.17"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-option-title"}),(0,s.jsx)("a",{href:"#tracing-start-option-title",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"Trace name to be shown in the Trace Viewer."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html",title:"void",children:"void"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-return"}),(0,s.jsx)("a",{href:"#tracing-start-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"tracing-start-chunk",children:"startChunk"}),"\n",(0,s.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.15"}),"\n",(0,s.jsx)("x-search",{children:"tracing.startChunk"}),"\n",(0,s.jsxs)(e.p,{children:["Start a new trace chunk. If you'd like to record multiple traces on the same ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-browsercontext",title:"BrowserContext",children:"BrowserContext"}),", use ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-tracing#tracing-start",children:"Tracing.start()"})," once, and then create multiple trace chunks with ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-tracing#tracing-start-chunk",children:"Tracing.startChunk()"})," and ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-tracing#tracing-stop-chunk",children:"Tracing.stopChunk()"}),"."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Usage"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:'context.tracing().start(new Tracing.StartOptions()\n  .setScreenshots(true)\n  .setSnapshots(true));\nPage page = context.newPage();\npage.navigate("https://playwright.dev");\n\ncontext.tracing().startChunk();\npage.getByText("Get Started").click();\n// Everything between startChunk and stopChunk will be recorded in the trace.\ncontext.tracing().stopChunk(new Tracing.StopChunkOptions()\n  .setPath(Paths.get("trace1.zip")));\n\ncontext.tracing().startChunk();\npage.navigate("http://example.com");\n// Save a second trace file with different actions.\ncontext.tracing().stopChunk(new Tracing.StopChunkOptions()\n  .setPath(Paths.get("trace2.zip")));\n'})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"options"})," ",(0,s.jsx)(e.code,{children:"Tracing.StartChunkOptions"})," ",(0,s.jsx)(e.em,{children:"(optional)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"setName"})," ",(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"})," ",(0,s.jsx)(e.em,{children:"(optional)"})," ",(0,s.jsx)("font",{size:"2",children:"Added in: v1.32"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-chunk-option-name"}),(0,s.jsx)("a",{href:"#tracing-start-chunk-option-name",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsxs)(e.p,{children:["If specified, intermediate trace files are going to be saved into the files with the given name prefix inside the ",(0,s.jsx)(e.code,{children:"tracesDir"})," folder specified in ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-browsertype#browser-type-launch",children:"BrowserType.launch()"}),". To specify the final trace zip file name, you need to pass ",(0,s.jsx)(e.code,{children:"path"})," option to ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-tracing#tracing-stop-chunk",children:"Tracing.stopChunk()"})," instead."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"setTitle"})," ",(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"})," ",(0,s.jsx)(e.em,{children:"(optional)"})," ",(0,s.jsx)("font",{size:"2",children:"Added in: v1.17"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-chunk-option-title"}),(0,s.jsx)("a",{href:"#tracing-start-chunk-option-title",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"Trace name to be shown in the Trace Viewer."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html",title:"void",children:"void"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-start-chunk-return"}),(0,s.jsx)("a",{href:"#tracing-start-chunk-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"tracing-stop",children:"stop"}),"\n",(0,s.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.12"}),"\n",(0,s.jsx)("x-search",{children:"tracing.stop"}),"\n",(0,s.jsx)(e.p,{children:"Stop tracing."}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Usage"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"Tracing.stop();\nTracing.stop(options);\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"options"})," ",(0,s.jsx)(e.code,{children:"Tracing.StopOptions"})," ",(0,s.jsx)(e.em,{children:"(optional)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"setPath"})," ",(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html",title:"Path",children:"Path"})," ",(0,s.jsx)(e.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-stop-option-path"}),(0,s.jsx)("a",{href:"#tracing-stop-option-path",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsx)(e.p,{children:"Export trace into the file with the given path."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html",title:"void",children:"void"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-stop-return"}),(0,s.jsx)("a",{href:"#tracing-stop-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.h3,{id:"tracing-stop-chunk",children:"stopChunk"}),"\n",(0,s.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.15"}),"\n",(0,s.jsx)("x-search",{children:"tracing.stopChunk"}),"\n",(0,s.jsxs)(e.p,{children:["Stop the trace chunk. See ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-tracing#tracing-start-chunk",children:"Tracing.startChunk()"})," for more details about multiple trace chunks."]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Usage"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-java",children:"Tracing.stopChunk();\nTracing.stopChunk(options);\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Arguments"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"options"})," ",(0,s.jsx)(e.code,{children:"Tracing.StopChunkOptions"})," ",(0,s.jsx)(e.em,{children:"(optional)"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"setPath"})," ",(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html",title:"Path",children:"Path"})," ",(0,s.jsx)(e.em,{children:"(optional)"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-stop-chunk-option-path"}),(0,s.jsx)("a",{href:"#tracing-stop-chunk-option-path",class:"list-anchor",children:"#"})]}),"\n",(0,s.jsxs)(e.p,{children:["Export trace collected since the last ",(0,s.jsx)(e.a,{href:"/java/docs/api/class-tracing#tracing-start-chunk",children:"Tracing.startChunk()"})," call into the file with the given path."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Returns"})}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.a,{href:"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html",title:"void",children:"void"}),(0,s.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"tracing-stop-chunk-return"}),(0,s.jsx)("a",{href:"#tracing-stop-chunk-return",class:"list-anchor",children:"#"})]}),"\n"]})]})}function d(n={}){const{wrapper:e}={...(0,a.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(h,{...n})}):h(n)}}}]);