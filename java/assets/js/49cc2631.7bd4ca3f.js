"use strict";(self.webpackChunkplaywright_dev=self.webpackChunkplaywright_dev||[]).push([[116],{1560:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>l,toc:()=>c});var n=s(4848),r=s(8453);s(4235),s(8328),s(3078);const i={id:"class-selectors",title:"Selectors"},a=void 0,l={id:"api/class-selectors",title:"Selectors",description:"Selectors can be used to install custom selector engines. See extensibility for more information.",source:"@site/versioned_docs/version-stable/api/class-selectors.mdx",sourceDirName:"api",slug:"/api/class-selectors",permalink:"/java/docs/api/class-selectors",draft:!1,unlisted:!1,tags:[],version:"stable",frontMatter:{id:"class-selectors",title:"Selectors"},sidebar:"api",previous:{title:"Route",permalink:"/java/docs/api/class-route"},next:{title:"TimeoutError",permalink:"/java/docs/api/class-timeouterror"}},o={},c=[{value:"Methods",id:"methods",level:2},{value:"register",id:"selectors-register",level:3},{value:"setTestIdAttribute",id:"selectors-set-test-id-attribute",level:3}];function d(e){const t={a:"a",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["Selectors can be used to install custom selector engines. See ",(0,n.jsx)(t.a,{href:"/java/docs/extensibility",children:"extensibility"})," for more information."]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(t.h3,{id:"selectors-register",children:"register"}),"\n",(0,n.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added before v1.9"}),"\n",(0,n.jsx)("x-search",{children:"selectors.register"}),"\n",(0,n.jsx)(t.p,{children:"Selectors must be registered before creating the page."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Usage"})}),"\n",(0,n.jsx)(t.p,{children:"An example of registering selector engine that queries elements based on a tag name:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-java",children:'// Script that evaluates to a selector engine instance. The script is evaluated in the page context.\nString createTagNameEngine = "{\\n" +\n  "  // Returns the first element matching given selector in the root\'s subtree.\\n" +\n  "  query(root, selector) {\\n" +\n  "    return root.querySelector(selector);\\n" +\n  "  },\\n" +\n  "  // Returns all elements matching given selector in the root\'s subtree.\\n" +\n  "  queryAll(root, selector) {\\n" +\n  "    return Array.from(root.querySelectorAll(selector));\\n" +\n  "  }\\n" +\n  "}";\n// Register the engine. Selectors will be prefixed with "tag=".\nplaywright.selectors().register("tag", createTagNameEngine);\nBrowser browser = playwright.firefox().launch();\nPage page = browser.newPage();\npage.setContent("<div><button>Click me</button></div>");\n// Use the selector prefixed with its name.\nLocator button = page.locator("tag=button");\n// Combine it with built-in locators.\npage.locator("tag=div").getByText("Click me").click();\n// Can use it in any methods supporting selectors.\nint buttonCount = (int) page.locator("tag=button").count();\nbrowser.close();\n'})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Arguments"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"name"})," ",(0,n.jsx)(t.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"}),(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"selectors-register-option-name"}),(0,n.jsx)("a",{href:"#selectors-register-option-name",class:"list-anchor",children:"#"})]}),"\n",(0,n.jsxs)(t.p,{children:["Name that is used in selectors as a prefix, e.g. ",(0,n.jsx)(t.code,{children:"{name: 'foo'}"})," enables ",(0,n.jsx)(t.code,{children:"foo=myselectorbody"})," selectors. May only contain ",(0,n.jsx)(t.code,{children:"[a-zA-Z0-9_]"})," characters."]}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"script"})," ",(0,n.jsx)(t.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"})," | ",(0,n.jsx)(t.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/nio/file/Path.html",title:"Path",children:"Path"}),(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"selectors-register-option-script"}),(0,n.jsx)("a",{href:"#selectors-register-option-script",class:"list-anchor",children:"#"})]}),"\n",(0,n.jsx)(t.p,{children:"Script that evaluates to a selector engine instance. The script is evaluated in the page context."}),"\n"]}),"\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"options"})," ",(0,n.jsx)(t.code,{children:"Selectors.RegisterOptions"})," ",(0,n.jsx)(t.em,{children:"(optional)"})]}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"setContentScript"})," ",(0,n.jsx)(t.a,{href:"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html",title:"boolean",children:"boolean"})," ",(0,n.jsx)(t.em,{children:"(optional)"}),(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"selectors-register-option-content-script"}),(0,n.jsx)("a",{href:"#selectors-register-option-content-script",class:"list-anchor",children:"#"})]}),"\n",(0,n.jsxs)(t.p,{children:["Whether to run this selector engine in isolated JavaScript environment. This environment has access to the same DOM, but not any JavaScript objects from the frame's scripts. Defaults to ",(0,n.jsx)(t.code,{children:"false"}),". Note that running as a content script is not guaranteed when this engine is used together with other registered engines."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Returns"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:[(0,n.jsx)(t.a,{href:"https://docs.oracle.com/javase/tutorial/java/javaOO/methods.html",title:"void",children:"void"}),(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"selectors-register-return"}),(0,n.jsx)("a",{href:"#selectors-register-return",class:"list-anchor",children:"#"})]}),"\n"]}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h3,{id:"selectors-set-test-id-attribute",children:"setTestIdAttribute"}),"\n",(0,n.jsx)("font",{size:"2",style:{position:"relative",top:"-20px"},children:"Added in: v1.27"}),"\n",(0,n.jsx)("x-search",{children:"selectors.setTestIdAttribute"}),"\n",(0,n.jsxs)(t.p,{children:["Defines custom attribute name to be used in ",(0,n.jsx)(t.a,{href:"/java/docs/api/class-page#page-get-by-test-id",children:"Page.getByTestId()"}),". ",(0,n.jsx)(t.code,{children:"data-testid"})," is used by default."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Usage"})}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-java",children:"Selectors.setTestIdAttribute(attributeName);\n"})}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Arguments"})}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsxs)(t.li,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.code,{children:"attributeName"})," ",(0,n.jsx)(t.a,{href:"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html",title:"String",children:"String"}),(0,n.jsx)("a",{"aria-hidden":"true",tabIndex:"-1",class:"list-anchor-link",id:"selectors-set-test-id-attribute-option-attribute-name"}),(0,n.jsx)("a",{href:"#selectors-set-test-id-attribute-option-attribute-name",class:"list-anchor",children:"#"})]}),"\n",(0,n.jsx)(t.p,{children:"Test id attribute name."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}}}]);